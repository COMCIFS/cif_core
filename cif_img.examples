
##############################################################################
#                                                                            #
#                       Image CIF Dictionary (imgCIF)                        #
#             and Crystallographic Binary File Dictionary (CBF)              #
#            Extending the Macromolecular CIF Dictionary (mmCIF)             #
#                                                                            #
#                             Version 1.7.11                                 #
#                              of 2014-07-05                                 #
#    ###################################################################     #
#    # *** WARNING *** THIS IS A DRAFT FOR DISCUSSSION *** WARNING *** #     #
#    #                 SUBJECT TO CHANGE WITHOUT NOTICE                #     #
#    #       SEND COMMENTS TO imgcif-l@iucr.org CITING THE VERSION     #     #
#    ###################################################################     #
#                  This draft edited by H. J. Bernstein                      #
#                                                                            #
#     by Andrew P. Hammersley, Herbert J. Bernstein and John D. Westbrook    #
#                                                                            #
# This dictionary was adapted from format discussed at the imgCIF Workshop,  #
# held at BNL Oct 1997 and the Crystallographic Binary File Format Draft     #
# Proposal by Andrew Hammersley.  The first DDL 2.1 Version was created by   #
# John Westbrook.  This version was drafted by Herbert J. Bernstein and      #
# incorporates comments by I. David Brown, John Westbrook, Brian McMahon,    #
# Bob Sweet, Paul Ellis, Harry Powell, Wilfred Li, Gotzon Madariaga,         #
# Frances C. Bernstein, Chris Nielsen, Nicola Ashcroft and others.           #
##############################################################################

+--------------------------------------------------------------------------------------------------------------------+
|ARRAY_DATA_GROUP|Categories that describe array data.                                                               |
|                |---------------------------------------------------------------------------------------------------|
|                |+-------------------------------------------------------------------------------------------------+|
|                || ARRAY_DATA               | Data items in the ARRAY_DATA category are the containers for the     ||
|                ||                          | array data items described in the category ARRAY_STRUCTURE.          ||
|                ||                          |                                                                      ||
|                ||                          | It is recognized that the data in this category needs to be used in  ||
|                ||                          | two distinct ways. During a data collection the lack of ancillary    ||
|                ||                          | data and timing constraints in processing data may dictate the need  ||
|                ||                          | to make a 'miniCBF' nothing more than an essential minimum of        ||
|                ||                          | information to record the results of the data collection. In that    ||
|                ||                          | case it is proper to use the ARRAY_DATA category as a container for  ||
|                ||                          | just a single image and a compacted, beam-line dependent list of     ||
|                ||                          | data collection parameter values. In such a case, only the tags      ||
|                ||                          | '_array_data.header_convention', '_array_data.header_contents' and   ||
|                ||                          | '_array_data.data' need be populated.                                ||
|                ||                          |                                                                      ||
|                ||                          | For full processing and archiving, most of the tags in this          ||
|                ||                          | dictionary will need to be populated.                                ||
|                ||--------------------------+----------------------------------------------------------------------||
|                || ARRAY_ELEMENT_SIZE       | Data items in the ARRAY_ELEMENT_SIZE category record the physical    ||
|                ||                          | size of array elements along each array dimension.                   ||
|                ||--------------------------+----------------------------------------------------------------------||
|                || ARRAY_INTENSITIES        | Data items in the ARRAY_INTENSITIES category record the information  ||
|                ||                          | required to recover the intensity data from the set of data values   ||
|                ||                          | stored in the ARRAY_DATA category.                                   ||
|                ||                          |                                                                      ||
|                ||                          | The detector may have a complex relationship between the raw         ||
|                ||                          | intensity values and the number of incident photons. In most cases,  ||
|                ||                          | the number stored in the final array will have a simple linear       ||
|                ||                          | relationship to the actual number of incident photons, given by      ||
|                ||                          | _array_intensities.gain. If raw, uncorrected values are presented    ||
|                ||                          | (e.g. for calibration experiments), the value of                     ||
|                ||                          | _array_intensities.linearity will be 'raw' and                       ||
|                ||                          | _array_intensities.gain will not be used.                            ||
|                ||--------------------------+----------------------------------------------------------------------||
|                || ARRAY_STRUCTURE          | Data items in the ARRAY_STRUCTURE category record the organization   ||
|                ||                          | and encoding of array data that may be stored in the ARRAY_DATA      ||
|                ||                          | category.                                                            ||
|                ||-------------------------------------------------------------------------------------------------||
|                || +---------------------------------------------------------------------------------------------+ ||
|                || |   | ARRAY_STRUCTURE_LIST         | Data items in the ARRAY_STRUCTURE_LIST category record   | ||
|                || |   |                              | the size and organization of each array dimension.       | ||
|                || |   |                              |                                                          | ||
|                || |   |                              | The relationship to physical axes may be given.          | ||
|                || |   |-----------------------------------------------------------------------------------------| ||
|                || |   | +-------------------------------------------------------------------------------------+ | ||
|                || |   | |   | ARRAY_STRUCTURE_LIST_SECTION | Data items in the ARRAY_STRUCTURE_LIST_SECTION   | | ||
|                || |   | |   |                              | category identify the dimension-by-dimension     | | ||
|                || |   | |   |                              | start, end and stride of each section of an      | | ||
|                || |   | |   |                              | array that is to be referenced.                  | | ||
|                || |   | |   |                              |                                                  | | ||
|                || |   | |   |                              | For any array of array_id, ARRAYID, array        | | ||
|                || |   | |   |                              | section ids of the form                          | | ||
|                || |   | |   |                              | ARRAYID(start1:end1:stride1,start2:end2:stride2, | | ||
|                || |   | |   |                              | ...)                                             | | ||
|                || |   | |   |                              | are defined by default.                          | | ||
|                || |   | |   |------------------------------+--------------------------------------------------| | ||
|                || |   | |   | ARRAY_STRUCTURE_LIST_AXIS    | Data items in the ARRAY_STRUCTURE_LIST_AXIS      | | ||
|                || |   | |   |                              | category describe the physical settings of sets  | | ||
|                || |   | |   |                              | of axes for the centres of pixels that           | | ||
|                || |   | |   |                              | correspond to data points described in the       | | ||
|                || |   | |   |                              | ARRAY_STRUCTURE_LIST category.                   | | ||
|                || |   | |   |                              |                                                  | | ||
|                || |   | |   |                              | In the simplest cases, the physical increments   | | ||
|                || |   | |   |                              | of a single axis correspond to the increments of | | ||
|                || |   | |   |                              | a single array index. More complex               | | ||
|                || |   | |   |                              | organizations, e.g. spiral scans, may require    | | ||
|                || |   | |   |                              | coupled motions along multiple axes.             | | ||
|                || |   | |   |                              |                                                  | | ||
|                || |   | |   |                              | Note that a spiral scan uses two coupled axes:   | | ||
|                || |   | |   |                              | one for the angular direction and one for the    | | ||
|                || |   | |   |                              | radial direction. This differs from a            | | ||
|                || |   | |   |                              | cylindrical scan for which the two axes are not  | | ||
|                || |   | |   |                              | coupled into one set.                            | | ||
|                || |   | +-------------------------------------------------------------------------------------+ | ||
|                || |   |-----------------------------------------------------------------------------------------| ||
|                || +---------------------------------------------------------------------------------------------+ ||
|                |+-------------------------------------------------------------------------------------------------+|
|----------------+---------------------------------------------------------------------------------------------------|
|AXIS_GROUP      |Categories that describe axes.                                                                     |
|                |---------------------------------------------------------------------------------------------------|
|                |+-------------------------------------------------------------------------------------------------+|
|                || AXIS | Data items in the AXIS category record the information required to describe the various  ||
|                ||      | goniometer, detector, source and other axes needed to specify a data collection or the   ||
|                ||      | axes defining the coordinate system of an image.                                         ||
|                ||      |                                                                                          ||
|                ||      | The location of each axis is specified by two vectors: the axis itself, given by a unit  ||
|                ||      | vector in the direction of the axis, and an offset to the base of the unit vector.       ||
|                ||      |                                                                                          ||
|                ||      | The vectors defining an axis are referenced to an appropriate coordinate system. The     ||
|                ||      | axis vector, itself, is a dimensionless unit vector. Where meaningful, the offset vector ||
|                ||      | is given in millimetres. In coordinate systems not measured in metres, the offset is not ||
|                ||      | specified and is taken as zero.                                                          ||
|                ||      |                                                                                          ||
|                ||      | The available coordinate systems are:                                                    ||
|                ||      |                                                                                          ||
|                ||      | The imgCIF standard laboratory coordinate system                                         ||
|                ||      | The direct lattice (fractional atomic coordinates)                                       ||
|                ||      | The orthogonal Cartesian coordinate system (real space)                                  ||
|                ||      | The reciprocal lattice                                                                   ||
|                ||      | An abstract orthogonal Cartesian coordinate frame                                        ||
|                |+-------------------------------------------------------------------------------------------------+|
|----------------+---------------------------------------------------------------------------------------------------|
|DIFFRN_GROUP    |Categories that describe details of the diffraction experiment.                                    |
|                |---------------------------------------------------------------------------------------------------|
|                |+-------------------------------------------------------------------------------------------------+|
|                || DIFFRN_DATA_FRAME          | Data items in the DIFFRN_DATA_FRAME category record the details    ||
|                ||                            | about each frame of data.                                          ||
|                ||                            |                                                                    ||
|                ||                            | The items in this category were previously in a DIFFRN_FRAME_DATA  ||
|                ||                            | category, which is now deprecated. The items from the old category ||
|                ||                            | are provided as aliases but should not be used for new work.       ||
|                ||----------------------------+--------------------------------------------------------------------||
|                || DIFFRN_DETECTOR            | Data items in the DIFFRN_DETECTOR category describe the detector   ||
|                ||                            | used to measure the scattered radiation, including any analyser    ||
|                ||                            | and post-sample collimation.                                       ||
|                ||-------------------------------------------------------------------------------------------------||
|                || +---------------------------------------------------------------------------------------------+ ||
|                || |   | DIFFRN_DETECTOR_AXIS | Data items in the DIFFRN_DETECTOR_AXIS category associate axes   | ||
|                || |   |                      | with detectors.                                                  | ||
|                || +---------------------------------------------------------------------------------------------+ ||
|                ||-------------------------------------------------------------------------------------------------||
|                || +---------------------------------------------------------------------------------------------+ ||
|                || |   | DIFFRN_DETECTOR_ELEMENT | Data items in the DIFFRN_DETECTOR_ELEMENT category record the | ||
|                || |   |                         | details about spatial layout and other characteristics of     | ||
|                || |   |                         | each element of a detector which may have multiple elements.  | ||
|                || |   |                         |                                                               | ||
|                || |   |                         | In most cases, giving more detailed information in            | ||
|                || |   |                         | ARRAY_STRUCTURE_LIST and ARRAY_STRUCTURE_LIST_AXIS is         | ||
|                || |   |                         | preferable to simply providing the centre of the detector     | ||
|                || |   |                         | element.                                                      | ||
|                || +---------------------------------------------------------------------------------------------+ ||
|                ||-------------------------------------------------------------------------------------------------||
|                || DIFFRN_MEASUREMENT         | Data items in the DIFFRN_MEASUREMENT category record details about ||
|                ||                            | the device used to orient and/or position the crystal during data  ||
|                ||                            | measurement and the manner in which the diffraction data were      ||
|                ||                            | measured.                                                          ||
|                ||-------------------------------------------------------------------------------------------------||
|                || +---------------------------------------------------------------------------------------------+ ||
|                || |   | DIFFRN_MEASUREMENT_AXIS | Data items in the DIFFRN_MEASUREMENT_AXIS category associate  | ||
|                || |   |                         | axes with goniometers.                                        | ||
|                || +---------------------------------------------------------------------------------------------+ ||
|                ||-------------------------------------------------------------------------------------------------||
|                || DIFFRN_RADIATION           | Data items in the DIFFRN_RADIATION category describe the radiation ||
|                ||                            | used for measuring diffraction intensities, its collimation and    ||
|                ||                            | monochromatization before the sample.                              ||
|                ||                            |                                                                    ||
|                ||                            | Post-sample treatment of the beam is described by data items in    ||
|                ||                            | the DIFFRN_DETECTOR category.                                      ||
|                ||----------------------------+--------------------------------------------------------------------||
|                || DIFFRN_REFLN               | This category redefinition has been added to extend the key of the ||
|                ||                            | standard DIFFRN_REFLN category.                                    ||
|                ||                            |                                                                    ||
|                ||                            | Data items in the DIFFRN_REFLN category record details about the   ||
|                ||                            | intensities in the diffraction data set identified by              ||
|                ||                            | _diffrn_refln.diffrn_id.                                           ||
|                ||                            |                                                                    ||
|                ||                            | The DIFFRN_REFLN data items refer to individual intensity          ||
|                ||                            | measurements and must be included in looped lists.                 ||
|                ||                            |                                                                    ||
|                ||                            | The DIFFRN_REFLNS data items specify the parameters that apply to  ||
|                ||                            | all intensity measurements in the particular diffraction data set  ||
|                ||                            | identified by _diffrn_reflns.diffrn_id and _diffrn_refln.frame_id  ||
|                ||----------------------------+--------------------------------------------------------------------||
|                || DIFFRN_SCAN                | Data items in the DIFFRN_SCAN category describe the parameters of  ||
|                ||                            | one or more scans, relating axis positions to frames.              ||
|                ||-------------------------------------------------------------------------------------------------||
|                || +---------------------------------------------------------------------------------------------+ ||
|                || |   | DIFFRN_SCAN_AXIS | Data items in the DIFFRN_SCAN_AXIS category describe the settings of | ||
|                || |   |                  | axes for particular scans. Unspecified axes are assumed to be at     | ||
|                || |   |                  | their zero points.                                                   | ||
|                || +---------------------------------------------------------------------------------------------+ ||
|                ||-------------------------------------------------------------------------------------------------||
|                || +---------------------------------------------------------------------------------------------+ ||
|                || |   | DIFFRN_SCAN_FRAME | Data items in the DIFFRN_SCAN_FRAME category describe the           | ||
|                || |   |                   | relationships of particular frames to scans.                        | ||
|                || +---------------------------------------------------------------------------------------------+ ||
|                ||-------------------------------------------------------------------------------------------------||
|                || +---------------------------------------------------------------------------------------------+ ||
|                || |   | +-------------------------------------------------------------------------------------+ | ||
|                || |   | |   | DIFFRN_SCAN_FRAME_AXIS | Data items in the DIFFRN_SCAN_FRAME_AXIS category      | | ||
|                || |   | |   |                        | describe the settings of axes for particular frames.   | | ||
|                || |   | |   |                        | Unspecified axes are assumed to be at their zero       | | ||
|                || |   | |   |                        | points. If, for any given frame, nonzero values apply  | | ||
|                || |   | |   |                        | for any of the data items in this category, those      | | ||
|                || |   | |   |                        | values should be given explicitly in this category and | | ||
|                || |   | |   |                        | not simply inferred from values in DIFFRN_SCAN_AXIS.   | | ||
|                || |   | +-------------------------------------------------------------------------------------+ | ||
|                || |---+-----------------------------------------------------------------------------------------| ||
|                || |   | +-------------------------------------------------------------------------------------+ | ||
|                || |   | |   | DIFFRN_SCAN_FRAME_MONITOR | Data items in the DIFFRN_SCAN_FRAME_MONITOR         | | ||
|                || |   | |   |                           | category record the values and details about each   | | ||
|                || |   | |   |                           | monitor for each frame of data during a scan.       | | ||
|                || |   | |   |                           |                                                     | | ||
|                || |   | |   |                           | Each monitor value is uniquely identified by the    | | ||
|                || |   | |   |                           | combination of the scan_id given by                 | | ||
|                || |   | |   |                           | _diffrn_scan_frame.scan_id the frame_id given by    | | ||
|                || |   | |   |                           | _diffrn_scan_frame_monitor.frame_id, the monitor's  | | ||
|                || |   | |   |                           | detector_id given by                                | | ||
|                || |   | |   |                           | _diffrn_scan_frame_monitor.detector_id, and a       | | ||
|                || |   | |   |                           | 1-based ordinal given by                            | | ||
|                || |   | |   |                           | _diffrn_scan_frame_monitor.id.                      | | ||
|                || |   | |   |                           |                                                     | | ||
|                || |   | |   |                           | If there is only one frame for the scan, the value  | | ||
|                || |   | |   |                           | of _diffrn_scan_frame_monitor.frame_id may be       | | ||
|                || |   | |   |                           | omitted.                                            | | ||
|                || |   | |   |                           |                                                     | | ||
|                || |   | |   |                           | A single frame may have more than one monitor       | | ||
|                || |   | |   |                           | value, and each monitor value may be the result of  | | ||
|                || |   | |   |                           | integration over the entire frame integration time  | | ||
|                || |   | |   |                           | given by the value of                               | | ||
|                || |   | |   |                           | _diffrn_scan_frame.integration_time or many monitor | | ||
|                || |   | |   |                           | values may be reported over shorter times given by  | | ||
|                || |   | |   |                           | the value of                                        | | ||
|                || |   | |   |                           | _diffrn_scan_frame_monitor.integration_time. If     | | ||
|                || |   | |   |                           | only one monitor value for a given monitor is       | | ||
|                || |   | |   |                           | collected during the integration time of the frame, | | ||
|                || |   | |   |                           | the value of _diffrn_scan_frame_monitor.id may be   | | ||
|                || |   | |   |                           | omitted.                                            | | ||
|                || |   | +-------------------------------------------------------------------------------------+ | ||
|                || +---------------------------------------------------------------------------------------------+ ||
|                |+-------------------------------------------------------------------------------------------------+|
|----------------+---------------------------------------------------------------------------------------------------|
|MAP_GROUP       |Categories that describe maps.                                                                     |
|                |---------------------------------------------------------------------------------------------------|
|                |+-------------------------------------------------------------------------------------------------+|
|                || MAP     | Data items in the MAP category record the details of a maps. maps record values of    ||
|                ||         | parameters, such as density, that are functions of position within a cell or are      ||
|                ||         | functions of orthogonal coordinates in three space.                                   ||
|                ||         |                                                                                       ||
|                ||         | A map may is composed of one or more map segments specified in the MAP_SEGMENT        ||
|                ||         | category.                                                                             ||
|                ||         |                                                                                       ||
|                ||         | Examples are given in the MAP_SEGMENT category.                                       ||
|                ||-------------------------------------------------------------------------------------------------||
|                || +---------------------------------------------------------------------------------------------+ ||
|                || |   | MAP_SEGMENT | Data items in the MAP_SEGMENT category record the details about each      | ||
|                || |   |             | segment (section or brick) of a map.                                      | ||
|                || +---------------------------------------------------------------------------------------------+ ||
|                |+-------------------------------------------------------------------------------------------------+|
|----------------+---------------------------------------------------------------------------------------------------|
|VARIANT_GROUP   |Categories that describe variants                                                                  |
|                |---------------------------------------------------------------------------------------------------|
|                |+-------------------------------------------------------------------------------------------------+|
|                || VARIANT | Data items in the VARIANT category record the details about sets of variants of data  ||
|                ||         | items.                                                                                ||
|                ||         |                                                                                       ||
|                ||         | There is sometimes a need to allow for multiple versions of the same data items in    ||
|                ||         | order to allow for refinements and corrections to earlier assumptions, observations   ||
|                ||         | and calculations. In order to allow data sets to contain more than one variant of the ||
|                ||         | same information, an optional ...variant data item as a pointer to _variant.variant   ||
|                ||         | has been added to the key of every category, as an implicit data item with a null     ||
|                ||         | (empty) default value.                                                                ||
|                ||         |                                                                                       ||
|                ||         | All rows in a category with the same variant value are considered to be related to    ||
|                ||         | one another and to all rows in other categories with the same variant value. For a    ||
|                ||         | given variant, all such rows are also considered to be related to all rows with a     ||
|                ||         | null variant value, except that a row with a null variant value is for which all      ||
|                ||         | other components of its key are identical to those entries in another row with a      ||
|                ||         | non-null variant value is not related the the rows with that non-null variant value.  ||
|                ||         | This behavior is similar to the convention for identifying alternate conformers in an ||
|                ||         | atom list.                                                                            ||
|                ||         |                                                                                       ||
|                ||         | An optional role may be specified for a variant as the value of _variant.role.        ||
|                ||         | Possible roles are null, "preferred", "raw data", "unsuccessful trial".               ||
|                ||         |                                                                                       ||
|                ||         | variants may carry an optional timestamp as the value of _variant.timestamp.          ||
|                ||         |                                                                                       ||
|                ||         | variants may be related to other variants from which they were derived by the value   ||
|                ||         | of _variant.variant_of                                                                ||
|                ||         |                                                                                       ||
|                ||         | Further details about the variant may be specified as the value of _variant.details.  ||
|                ||         |                                                                                       ||
|                ||         | In order to allow variant information from multiple datasets to be combined,          ||
|                ||         | _variant.diffrn_id and/or _variant.entry_id may be used.                              ||
|                |+-------------------------------------------------------------------------------------------------+|
+--------------------------------------------------------------------------------------------------------------------+

    _category.NX_mapping_details
;
   
    _array_data.array_id ARRAYID
    _array_data.binary_id BINARYID
    _array_data.data  DATAARRAY
    _array_data.header_contents HEADER
    _array_data.header_convention HEADERCONVENTION
   
    -->
   
    /entry:NXentry
     /instrument:NXinstrument
       /DETECTORNAME:NXdetector_group
       /DETECTORELEMENTNAME:NXdetector
           /data_ARRAYID_BINARYID -->
                /entry/data_ARRAYID_BINARYID/data_ARRAYID_BINARYID
            @CBF_array_id="ARRAYID"
            @CBF_binary_id="BINARYID"
            @CBF_header_contents="HEADER"
            @CBF_header_convention="HEADERCONVENTION"
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
        Example 1 -

        This example shows two binary data blocks.  The first one
        was compressed by the CBF_CANONICAL compression algorithm and is
        presented as hexadecimal data.  The first character 'H' on the
        data lines means hexadecimal.  It could have been 'O' for octal
        or 'D' for decimal.  The second character on the line shows
        the number of bytes in each word (in this case '4'), which then
        requires eight hexadecimal digits per word.  The third character
        gives the order of octets within a word, in this case '<'
        for the ordering 4321 (i.e. 'big-endian').  Alternatively, the
        character '>' could have been used for the ordering 1234
        (i.e. 'little-endian').  The block has a 'message digest'
        to check the integrity of the data.

        The second block is similar, but uses CBF_PACKED compression
        and BASE64 encoding.  Note that the size and the digest are
        different.
;
;

        loop_
        _array_data.array_id
        _array_data.binary_id
        _array_data.data
        image_1 1
        ;
        --CIF-BINARY-FORMAT-SECTION--
        Content-Type: application/octet-stream;
             conversions="X-CBF_CANONICAL"
        Content-Transfer-Encoding: X-BASE16
        X-Binary-Size: 3927126
        X-Binary-ID: 1
        Content-MD5: u2sTJEovAHkmkDjPi+gWsg==

        # Hexadecimal encoding, byte 0, byte order ...21
        #
        H4< 0050B810 00000000 00000000 00000000 000F423F 00000000 00000000 ...
        ....
        --CIF-BINARY-FORMAT-SECTION----
        ;
        image_2 2
        ;
        --CIF-BINARY-FORMAT-SECTION--
        Content-Type: application/octet-stream;
             conversions="X-CBF-PACKED"
        Content-Transfer-Encoding: BASE64
        X-Binary-Size: 3745758
        X-Binary-ID: 2
        Content-MD5: 1zsJjWPfol2GYl2V+QSXrw==

        ELhQAAAAAAAA...
        ...
        --CIF-BINARY-FORMAT-SECTION----
        ;
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
        Example 2 -

        This example shows a single image in a miniCBF, provided by
        E. Eikenberry.  The entire CBF consists of one data block
        containing one category and three tags.  The CBFlib
        program convert_miniCBF and a suitable template file
        can be used to convert this miniCBF to a full imgCIF
        file.
;
;
        ###CBF: VERSION 1.5
        # CBF file written by CBFlib v0.7.8

        data_insulin_pilatus6m

        _array_data.header_convention SLS_1.0
        _array_data.header_contents
        ;
        # Detector: PILATUS 6M SN: 60-0001
        # 2007/Jun/17 15:12:36.928
        # Pixel_size 172e-6 m x 172e-6 m
        # Silicon sensor, thickness 0.000320 m
        # Exposure_time 0.995000 s
        # Exposure_period 1.000000 s
        # Tau = 194.0e-09 s
        # Count_cutoff 1048575 counts
        # Threshold_setting 5000 eV
        # Wavelength 1.2398 A
        # Energy_range (0, 0) eV
        # Detector_distance 0.15500 m
        # Detector_Voffset -0.01003 m
        # Beam_xy (1231.00, 1277.00) pixels
        # Flux 22487563295 ph/s
        # Filter_transmission 0.0008
        # Start_angle 13.0000 deg.
        # Angle_increment 1.0000 deg.
        # Detector_2theta 0.0000 deg.
        # Polarization 0.990
        # Alpha 0.0000 deg.
        # Kappa 0.0000 deg.
        # Phi 0.0000 deg.
        # Chi 0.0000 deg.
        # Oscillation_axis  X, CW
        # N_oscillations 1
        ;

        _array_data.data
        ;
        --CIF-BINARY-FORMAT-SECTION--
        Content-Type: application/octet-stream;
             conversions="x-CBF_BYTE_OFFSET"
        Content-Transfer-Encoding: BINARY
        X-Binary-Size: 6247567
        X-Binary-ID: 1
        X-Binary-Element-Type: "signed 32-bit integer"
        X-Binary-Element-Byte-Order: LITTLE_ENDIAN
        Content-MD5: 8wO6i2+899lf5iO8QPdgrw==
        X-Binary-Number-of-Elements: 6224001
        X-Binary-Size-Fastest-Dimension: 2463
        X-Binary-Size-Second-Dimension: 2527
        X-Binary-Size-Padding: 4095

        ...
       
        --CIF-BINARY-FORMAT-SECTION----
        ;
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

save__array_data.data
    _item_description.description
;             The value of _array_data.data contains the array data
              encapsulated in a STAR string.

              The representation used is a variant on the
              Multipurpose Internet Mail Extensions (MIME) specified
              in RFC 2045-2049 by N. Freed et al.  The boundary
              delimiter used in writing an imgCIF or CBF is
              '\n--CIF-BINARY-FORMAT-SECTION--' (including the
              required initial '\n--').

              The Content-Type may be any of the discrete types permitted
              in RFC 2045; 'application/octet-stream' is recommended
              for diffraction images in the ARRAY_DATA category.
              Note:  When appropriate in other categories, e.g. for
              photographs of crystals, more precise types, such as
              'image/jpeg', 'image/tiff', 'image/png', etc. should be used.
             
              If an octet stream was compressed, the compression should
              be specified by the parameter
                'conversions="X-CBF_PACKED"'
              or the parameter
                'conversions="X-CBF_CANONICAL"'
              or the parameter
                'conversions="X-CBF_BYTE_OFFSET"'
              or the parameter
                'conversions="X-CBF_BACKGROUND_OFFSET_DELTA"'
               
              If the parameter
                'conversions="X-CBF_PACKED"'
              is given it may be further modified with the parameters
                '"uncorrelated_sections"'
              or
                '"flat"'
             
              If the '"uncorrelated_sections"' parameter is
              given, each section will be compressed without using
              the prior section for averaging.
             
              If the '"flat"' parameter is given, each the
              image will be treated as one long row.
             
              Note that the X-CBF_CANONICAL and X-CBF_PACKED are
              slower but more efficient compressions that the others.
              The X-CBF_BYTE_OFFSET compression is a good compromise
              between speed and efficiency for ordinary diffraction
              images.  The X-CBF_BACKGROUND_OFFSET_DELTA compression
              is oriented towards sparse data, such as masks and
              tables of replacement pixel values for images with
              overloaded spots.

              The Content-Transfer-Encoding may be 'BASE64',
              'Quoted-Printable', 'X-BASE8', 'X-BASE10',
              'X-BASE16' or 'X-BASE32K', for an imgCIF or 'BINARY'
              for a CBF.  The octal, decimal and hexadecimal transfer
              encodings are provided for convenience in debugging and
              are not recommended for archiving and data interchange.

              In a CIF, one of the parameters 'charset=us-ascii',
              'charset=utf-8' or 'charset=utf-16' may be used on the
              Content-Transfer-Encoding to specify the character set
              used for the external presentation of the encoded data.
              If no charset parameter is given, the character set of
              the enclosing CIF is assumed.  In any case, if a BOM
              flag is detected (FE FF for big-endian UTF-16, FF FE for
              little-endian UTF-16 or EF BB BF for UTF-8) is detected,
              the indicated charset will be assumed until the end of the
              encoded data or the detection of a different BOM.  The
              charset of the Content-Transfer-Encoding is not the character
              set of the encoded data, only the character set of the
              presentation of the encoded data and should be respecified
              for each distinct STAR string.

              In an imgCIF file, the encoded binary data begins after
              the empty line terminating the header.  In an imgCIF file,
              the encoded binary data ends with the terminating boundary
              delimiter '\n--CIF-BINARY-FORMAT-SECTION----'
              in the currently effective charset or with the '\n; '
              that terminates the STAR string.

              In a CBF, the raw binary data begins after an empty line
              terminating the header and after the sequence:

              Octet   Hex   Decimal  Purpose
                0     0C       12    (ctrl-L) Page break
                1     1A       26    (ctrl-Z) Stop listings in MS-DOS
                2     04       04    (Ctrl-D) Stop listings in UNIX
                3     D5      213    Binary section begins

              None of these octets are included in the calculation of
              the message size or in the calculation of the
              message digest.

              The X-Binary-Size header specifies the size of the
              equivalent binary data in octets.  If compression was
              used, this size is the size after compression, including
              any book-keeping fields.  An adjustment is made for
              the deprecated binary formats in which eight bytes of binary
              header are used for the compression type.  In this case,
              the eight bytes used for the compression type are subtracted
              from the size, so that the same size will be reported
              if the compression type is supplied in the MIME header.
              Use of the MIME header is the recommended way to
              supply the compression type.  In general, no portion of
              the  binary header is included in the calculation of the size.

              The X-Binary-Element-Type header specifies the type of
              binary data in the octets, using the same descriptive
              phrases as in _array_structure.encoding_type.  The default
              value is 'unsigned 32-bit integer'.

              An MD5 message digest may, optionally, be used. The 'RSA Data
              Security, Inc. MD5 Message-Digest Algorithm' should be used.
              No portion of the header is included in the calculation of the
              message digest.

              If the Transfer Encoding is 'X-BASE8', 'X-BASE10' or
              'X-BASE16', the data are presented as octal, decimal or
              hexadecimal data organized into lines or words.  Each word
              is created by composing octets of data in fixed groups of
              2, 3, 4, 6 or 8 octets, either in the order ...4321 ('big-
              endian') or 1234... ('little-endian').  If there are fewer
              than the specified number of octets to fill the last word,
              then the missing octets are presented as '==' for each
              missing octet.  Exactly two equal signs are used for each
              missing octet even for octal and decimal encoding.
              The format of lines is:

              rnd xxxxxx xxxxxx xxxxxx

              where r is 'H', 'O' or 'D' for hexadecimal, octal or
              decimal, n is the number of octets per word and d is '<'
              or '>' for the '...4321' and '1234...' octet orderings,
              respectively.  The '==' padding for the last word should
              be on the appropriate side to correspond to the missing
              octets, e.g.

              H4< FFFFFFFF FFFFFFFF 07FFFFFF ====0000

              or

              H3> FF0700 00====

              For these hexadecimal, octal and decimal formats only,
              comments beginning with '#' are permitted to improve
              readability.

              BASE64 encoding follows MIME conventions.  Octets are
              in groups of three: c1, c2, c3.  The resulting 24 bits
              are broken into four six-bit quantities, starting with
              the high-order six bits (c1 >> 2) of the first octet, then
              the low-order two bits of the first octet followed by the
              high-order four bits of the second octet [(c1 & 3)<<4 | (c2>>4)],
              then the bottom four bits of the second octet followed by the
              high-order two bits of the last octet [(c2 & 15)<<2 | (c3>>6)],
              then the bottom six bits of the last octet (c3 & 63).  Each
              of these four quantities is translated into an ASCII character
              using the mapping:

                        1         2         3         4         5         6
              0123456789012345678901234567890123456789012345678901234567890123
              |         |         |         |         |         |         |
              ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/

              With short groups of octets padded on the right with one '='
              if c3 is missing, and with '==' if both c2 and c3 are missing.

              X-BASE32K encoding is similar to BASE64 encoding, except that
              sets of 15 octets are encoded as sets of 8 16-bit unicode
              characters, by breaking the 120 bits into 8 15-bit quantities.
              256 is added to each 15 bit quantity to bring it into a
              printable uncode range.  When encoding, zero padding is used
              to fill out the last 15 bit quantity.  If 8 or more bits of
              padding are used, a single equals sign (hexadecimal 003D) is
              appended.  Embedded whitespace and newlines are introduced
              to produce lines of no more than 80 characters each.  On
              decoding, all printable ascii characters and ascii whitespace
              characters are ignored except for any trailing equals signs.
              The number of trailing equals signs indicated the number of
              trailing octets to be trimmed from the end of the decoded data.
              (see Georgi Darakev, Vassil Litchev, Kostadin Z. Mitev, Herbert
              J. Bernstein, 'Efficient Support of Binary Data in the XML
              Implementation of the NeXus File Format',absract W0165,
              ACA Summer Meeting, Honolulu, HI, July 2006).

              QUOTED-PRINTABLE encoding also follows MIME conventions, copying
              octets without translation if their ASCII values are 32...38,
              42, 48...57, 59, 60, 62, 64...126 and the octet is not a ';'
              in column 1.  All other characters are translated to =nn, where
              nn is the hexadecimal encoding of the octet.  All lines are
              'wrapped' with a terminating '=' (i.e. the MIME conventions
              for an implicit line terminator are never used).
             
              The "X-Binary-Element-Byte-Order" can specify either
              '"BIG_ENDIAN"' or '"LITTLE_ENDIAN"' byte order of the imaage
              data.  Only LITTLE_ENDIAN is recommended.  Processors
              may treat BIG_ENDIAN as a warning of data that can
              only be processed by special software.

              The "X-Binary-Number-of-Elements" specifies the number of
              elements (not the number of octets) in the decompressed, decoded
              image.

              The optional "X-Binary-Size-Fastest-Dimension" specifies the
              number of elements (not the number of octets) in one row of the
              fastest changing dimension of the binary data array. This
              information must be in the MIME header for proper operation of
              some of the decompression algorithms.

              The optional "X-Binary-Size-Second-Dimension" specifies the
              number of elements (not the number of octets) in one column of
              the second-fastest changing dimension of the binary data array.
              This information must be in the MIME header for proper operation
              of some of the decompression algorithms.

              The optional "X-Binary-Size-Third-Dimension" specifies the
              number of sections for the third-fastest changing dimension of
              the binary data array.
             
              The optional "X-Binary-Size-Padding" specifies the size in
              octets of an optional padding after the binary array data and
              before the closing flags for a binary section.
;
   
######################
# ARRAY_ELEMENT_SIZE #
######################

    _category.NX_mapping_details
;
   
    _array_element_size.array_id ARRAYID
    _array_element_size.index INDEX   (See _array_element_size.array_id)
    _array_element_size.size SIZE
   
    -->
   
    /entry:NXentry
     /instrument:NXinstrument
       /DETECTORNAME:NXdetector_group
       /DETECTORELEMENTNAME:NXdetector
          /data_ARRAYID_BINARYID -->
                /entry/data_ARRAYID_BINARYID/data_ARRAYID_BINARYID
          /?_pixel_size_ARRAYID=SIZE
            @CBF_array_id="ARRAYID"
    where "?" is "x", "y", "z" for
    _array_element_size.index == 1,2, or 3 respectively
             
;

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;       Example 1 - A regular 2D array with a uniform element dimension
                    of 1220 nanometres.
;
;
        loop_
       _array_element_size.array_id
       _array_element_size.index
       _array_element_size.size
        image_1   1    1.22e-6
        image_1   2    1.22e-6
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

    
#####################
# ARRAY_INTENSITIES #
#####################


    _category.NX_mapping_details
;
   
    _array_intensities.array_id ARRAYID
    _array_intensities.binary_id BINARYID
    _array_intensities.details DETAILS
    _array_intensities.gain GAIN
    _array_intensities.gain_esd GAINESD
    _array_intensities.linearity LINEARITY
    _array_intensities.offset OFFSET
    _array_intensities.scaling SCALING
    _array_intensities.overload OVERLOAD
    _array_intensities.undefined_value UNDEFVAL
    _array_intensities.pixel_fast_bin_size FBINSIZE
    _array_intensities.pixel_slow_bin_size SBINSIZE
    _array_intensities.pixel_binning_method METHOD


    -->

      /entry:NXentry
        /data_ARRAYID_BINARYID:NXdata
          /data_ARRAYID_BINARYID
              @CBF_array_id="ARRAYID"
              @CBF_binary_id="BINARYID"
              @details="DETAILS"
              @gain=[GAIN]         
              @gain_esd=[GAINESD]
              @linearity="LINEARITY"         
              @offset=[OFFSET]
              @saturation_value=[OVERLOAD]
              @scaling_factor=[SCALING]
              @undefined_value=[UNDEFVAL]
              @CBF_array_intensities__pixel_fast_bin_size=[FBINSIZE]
              @CBF_array_intensities__pixel_slow_bin_size=[SBINSIZE]
              @CBF_array_intensities__pixel_binning_method="METHOD"
       /instrument:NXinstrument
         /DETECTORNAME:NXdetector_group
         /DETECTORELEMENTNAME:NXdetector
           /data_ARRAYID_BINARYID -->
                /entry/data_ARRAYID_BINARYID/data_ARRAYID_BINARYID
   
    The argument has been made that these attributes are not needed
    because NeXus files are supposed to have "true values" stored.
    In many cases that is true and then none of these attributes
    are needed.  However, with some detectors and some experiments
    there are good technical and scientific reasons to bring in values
    that will need processing later to derive "true values", and in
    those case some or all of these attributes will be needed.  They
    are provided for such cases.
   
    The same attributes could be used as fields in the case of a single
    data array, but in that case links for all the fields would be needed
    from NXdata to NXdetector, so it is preferable to use attributes even
    in the case of a single data array.  The reverse mapping will support
    both uses.

   
;

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
        Example 1
;
;
        loop_
        _array_intensities.array_id
        _array_intensities.linearity
        _array_intensities.gain
        _array_intensities.overload
        _array_intensities.undefined_value
        _array_intensities.pixel_fast_bin_size
        _array_intensities.pixel_slow_bin_size
        _array_intensities.pixel_binning_method
        image_1   linear  1.2    655535   0   2   2    hardware
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   
     
###################
# ARRAY_STRUCTURE #
###################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;   Example 1 -
;
;
     loop_
    _array_structure.id
    _array_structure.encoding_type
    _array_structure.compression_type
    _array_structure.byte_order
     image_1       "unsigned 16-bit integer"  none  little_endian
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

########################
# ARRAY_STRUCTURE_LIST #
########################

    _category.NX_mapping_details
;
   
    _array_structure_list.axis_set_id AXISSETID
    _array_structure_list.array_id ARRAYID
    _array_structure_list.array_section_id ARRAYSECTIONID
    _array_structure_list.dimension DIM
    _array_structure_list.direction DIR
    _array_structure_list.index INDEX
    _array_structure_list.precedence PRECEDENCE
   
    _array_structure_list_section.array_id ARRAYID -->
    _array_structure_list_section.id ARRAYSECTIONID -->
    _array_structure_list_section.index PRECEDENCE-->
    _array_structure_list_section.end END -->
    _array_structure_list_section.start START -->
    _array_structure_list_section.stride STRIDE -->

   
    loop_
    _array_structure_list_axis.axis_id
    _array_structure_list_axis.axis_set_id
    _array_structure_list_axis.angle
    _array_structure_list_axis.angle_increment
    _array_structure_list_axis.displacement
    _array_structure_list_axis.fract_displacement 
    _array_structure_list_axis.displacement_increment
    _array_structure_list_axis.fract_displacement_increment
    _array_structure_list_axis.angular_pitch 
    _array_structure_list_axis.reference_angle
    _array_structure_list_axis.reference_displacement REFDISP
    AXISID1 AXISSETID ANGLE1 ANGLEINC1 DISP1 FRACTDISP1
         DISPINC1 FRACTINC1 ANGPITCH1 REFANG1
    AXISID2 AXISSETID ANGLE2 ANGLEINC2 DISP2 FRACTDISP2
         DISPINC2 FRACTINC2 ANGPITCH2 REFANG2
    AXISID3 AXISSETID ANGLE3 ANGLEINC3 DISP3 FRACTDISP3
         DISPINC3 FRACTINC3 ANGPITCH3 REFANG3
   
    _diffrn_data_frame.array_id ARRAYID
    _diffrn_data_frame.binary_id BINARYID
    _diffrn_data_frame.center_fast CENF
    _diffrn_data_frame.center_slow CENS
    _diffrn_data_frame.center_units UNITS
    _diffrn_data_frame.detector_element_id ELEMENTID
    _diffrn_data_frame.id FRAMEID
    _diffrn_data_frame.details DETAILS

    -->
   
    ...
   
   
   /entry:NXentry
     /data_ARRAYID_BINARYID:NXdata
        @signal="data_ARRAYID_BINARY_ID"
        /data_ARRAYID_BINARYID[ the data for the array ARRAYID,
                                binary BINARYID, all sections,
                                all FRAMES]
        @axes=[...,AXISID1,...] with AXISID1 inserted at PRECEDENCE-1
        @AXISID1_indices=[PRECEDENCE-1]
        @AXISID2_indices=[PRECEDENCE-1]
        @AXISID3_indices=[PRECEDENCE-1]
        @AXISID1_origins=[origin1]  (defualt 0)
        @AXISID2_origins=[origin2]  (defualt 0)
        @AXISID3_origins=[origin3]  (defualt 0)
        @AXISID1_sizes=[size1]
        @AXISID2_sizes=[size2]
        @AXISID3_sizes=[size3]
        @AXISID1_strides=[stride1]
        @AXISID2_strides=[stride2]
        @AXISID3_strides=[stride3]
   
        ...
        /AXISID1 -->
            /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID1
        /AXISID2 -->
            /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID2
        /AXISID2 -->
            /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID3
        ...
       
     /instrument:NXinstrument
       /DETECTORNAME:NXdetector_group
       /DETECTORELEMENTNAME:NXdetector
           /data_ARRAYID_BINARYID -->
                /entry/data_ARRAYID_BINARYID/data_ARRAYID_BINARYID
           /AXISID1 -->
                /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID1
           /AXISID2 -->
                /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID2
           /AXISID2 -->
                /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID3
           /ARRAYSECTIONID:NXdetector_module
             /data_origin=[...] -- the 0-based origins indices of ARRAYSECTIONID
             /data_size=[...] the sizes in pixels of ARRAYSECTIONID
             /data_stride[...] the strides of ARRAYSECTIONID
               ..
           /transformations:NXtransformations
             /AXISID1=[DISP1,DISP1+DISPINC1,...]   (or using angles where appropriate)
                @depends_on=...   determined from AXIS definitions
                @equipment="detector"
                @offset=[...] determined from AXIS definitions
                @offset_units="mm"
                @transformation_type="..." from AXIS definitions
                @units="mm"
                @vector=[...] determined from AXIS definitions
                @CBF_array_structure_list_axis__axis_id="AXISID1"
                @CBF_array_structure_list_axis__axis_set_id="AXISSETID"
                @CBF_array_structure_list_axis__angle=ANGLE1
                @CBF_array_structure_list_axis__angle_increment=ANGLEINC1
                @CBF_array_structure_list_axis__displacement=DISP1
                @CBF_array_structure_list_axis__displacement=FRACTDISP1
                @CBF_array_structure_list_axis__displacement_increment=DISPINC1
                @CBF_array_structure_list_axis__fract_displacement_increment=FRACTINC1
                @CBF_array_structure_list_axis__angular_pitch=ANGPITCH1
                @CBF_array_structure_list_axis__radial_pitch=RADPITCH1
                @CBF_array_structure_list_axis__reference_angle=REFANG1
                @CBF_array_structure_list_axis__reference_displacement=REFDISP1
             /AXISID2=[DISP2,DISP2+DISPINC2,...]   (or using angles where appropriate)
                @depends_on=...   determined from AXIS definitions
                @equipment="detector"
                @offset=[...] determined from AXIS definitions
                @offset_units="mm"
                @transformation_type="..." from AXIS definitions
                @units="mm"
                @vector=[...] determined from AXIS definitions
                @CBF_array_structure_list_axis__axis_id="AXISID2"
                @CBF_array_structure_list_axis__axis_set_id="AXISSETID"
                @CBF_array_structure_list_axis__angle=ANGLE2
                @CBF_array_structure_list_axis__angle_increment=ANGLEINC2
                @CBF_array_structure_list_axis__displacement=DISP2
                @CBF_array_structure_list_axis__displacement=FRACTDISP2
                @CBF_array_structure_list_axis__displacement_increment=DISPINC2
                @CBF_array_structure_list_axis__fract_displacement_increment=FRACTINC2
                @CBF_array_structure_list_axis__angular_pitch=ANGPITCH2
                @CBF_array_structure_list_axis__radial_pitch=RADPITCH2
                @CBF_array_structure_list_axis__reference_angle=REFANG2
                @CBF_array_structure_list_axis__reference_displacement=REFDISP2
             /AXISID3=[DISP3,DISP3+DISPINC3,...]   (or using angles where appropriate)
                @depends_on=...   determined from AXIS definitions
                @equipment="detector"
                @offset=[...] determined from AXIS definitions
                @offset_units="mm"
                @transformation_type="..." from AXIS definitions
                @units="mm"
                @vector=[...] determined from AXIS definitions
                @CBF_array_structure_list_axis__axis_id="AXISID3"
                @CBF_array_structure_list_axis__axis_set_id="AXISSETID"
                @CBF_array_structure_list_axis__angle=ANGLE3
                @CBF_array_structure_list_axis__angle_increment=ANGLEINC3
                @CBF_array_structure_list_axis__displacement=DISP3
                @CBF_array_structure_list_axis__displacement=FRACTDISP3
                @CBF_array_structure_list_axis__displacement_increment=DISPINC3
                @CBF_array_structure_list_axis__fract_displacement_increment=FRACTINC3
                @CBF_array_structure_list_axis__angular_pitch=ANGPITCH3
                @CBF_array_structure_list_axis__radial_pitch=RADPITCH3
                @CBF_array_structure_list_axis__reference_angle=REFANG3
                @CBF_array_structure_list_axis__reference_displacement=REFDISP3
   
    Notes: The same axis AXISIDn may appear in multiple axis sets for different
           values of PRECEDENCE of the data array, in which case the values
           in AXISIDn_indices with be the sorted list of PRECEDENCE-1 values
           and the array section nformation will be origanized by the
           same ordering.
;

   # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;       Example 1 - An image array of 1300 x 1200 elements.  The raster
                    order of the image is left to right (increasing) in the
                    first dimension and bottom to top (decreasing) in
                    the second dimension.
;
;
        loop_
       _array_structure_list.array_id
       _array_structure_list.index
       _array_structure_list.dimension
       _array_structure_list.precedence
       _array_structure_list.direction
       _array_structure_list.axis_set_id
        image_1   1    1300    1     increasing  ELEMENT_X
        image_1   2    1200    2     decreasing  ELEMENY_Y
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

    
################################
# ARRAY_STRUCTURE_LIST_SECTION #
################################


    _category.NX_mapping_details
;
   
    _array_structure_list_section.array_id ARRAYID -->
    _array_structure_list_section.id SECTIONID -->
    _array_structure_list_section.index INDEX-->
    _array_structure_list_section.end END -->
    _array_structure_list_section.start START -->
    _array_structure_list_section.stride STRIDE -->
    /instrument:NXinstrument
       /DETECTORNAME:NXdetector_group
       /DETECTORELEMENTNAME:NXdetector
           /data_ARRAYID_BINARYID -->
                /entry/data_ARRAYID_BINARYID/data_ARRAYID_BINARYID
           /AXISID1 -->
                /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID1
           /AXISID2 -->
                /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID2
           /AXISID2 -->
                /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID3
           /ARRAYSECTIONID:NXdetector_module
             /data_origin=[...] -- the 0-based origins indices of ARRAYSECTIONID
             /data_size=[...] the sizes in pixels of ARRAYSECTIONID
             /data_stride[...] the strides of ARRAYSECTIONID

;

    
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;       Example 1 - An image array, myarry, of 1300 x 1200 elements,
                    700 frames is defined in ARRAY_STRUCTURE_LIST, and
                    the array section identifier
   
                    "myarray(101:1200,101:1100,1:700:10)"
   
                    is explicitly defined taking every 10th frame and
                    removing a 100 pixel border.  Note that even though
                    the slow index high is 700, the last frame that
                    will actually be included in only 691.
;
;
 
     loop_
    _array_structure_list.array_id
    _array_structure_list.index
    _array_structure_list.dimension
    _array_structure_list.precedence
    _array_structure_list.direction
    _array_structure_list.axis_set_id
    myarray   1    1300    1     increasing  ELEMENT_X
    myarray   2    1200    2     increasing  ELEMENT_Y
    myarray   3    700     3     increasing  FRAME_NO
   
     loop_
    _array_structure_list_section.id
    _array_structure_list_section.array_id
    _array_structure_list_section.index
    _array_structure_list_section.start
    _array_structure_list_section.end
    _array_structure_list_section.stride
    "myarray(101:1200,101:1100,1:700:10)"  myarray 1 101 1200   .
    "myarray(101:1200,101:1100,1:700:10)"  myarray 2 101 1100   .
    "myarray(101:1200,101:1100,1:700:10)"  myarray 3   1  700  10

;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   
     
#############################
# ARRAY_STRUCTURE_LIST_AXIS #
#############################

    _category.NX_mapping_details
;
   
    _array_structure_list.axis_set_id AXISSETID
    _array_structure_list.array_id ARRAYID
    _array_structure_list.array_section_id ARRAYSECTIONID
    _array_structure_list.dimension DIM
    _array_structure_list.direction DIR
    _array_structure_list.index INDEX
    _array_structure_list.precedence PRECEDENCE
   
    _array_structure_list_section.array_id ARRAYID -->
    _array_structure_list_section.id ARRAYSECTIONID -->
    _array_structure_list_section.index PRECEDENCE-->
    _array_structure_list_section.end END -->
    _array_structure_list_section.start START -->
    _array_structure_list_section.stride STRIDE -->

   
    loop_
    _array_structure_list_axis.axis_id
    _array_structure_list_axis.axis_set_id
    _array_structure_list_axis.angle
    _array_structure_list_axis.angle_increment
    _array_structure_list_axis.displacement
    _array_structure_list_axis.fract_displacement 
    _array_structure_list_axis.displacement_increment
    _array_structure_list_axis.fract_displacement_increment
    _array_structure_list_axis.angular_pitch 
    _array_structure_list_axis.reference_angle
    _array_structure_list_axis.reference_displacement REFDISP
    AXISID1 AXISSETID ANGLE1 ANGLEINC1 DISP1 FRACTDISP1
         DISPINC1 FRACTINC1 ANGPITCH1 REFANG1
    AXISID2 AXISSETID ANGLE2 ANGLEINC2 DISP2 FRACTDISP2
         DISPINC2 FRACTINC2 ANGPITCH2 REFANG2
    AXISID3 AXISSETID ANGLE3 ANGLEINC3 DISP3 FRACTDISP3
         DISPINC3 FRACTINC3 ANGPITCH3 REFANG3
   
    _diffrn_data_frame.array_id ARRAYID
    _diffrn_data_frame.binary_id BINARYID
    _diffrn_data_frame.center_fast CENF
    _diffrn_data_frame.center_slow CENS
    _diffrn_data_frame.center_units UNITS
    _diffrn_data_frame.detector_element_id ELEMENTID
    _diffrn_data_frame.id FRAMEID
    _diffrn_data_frame.details DETAILS

    -->
   
    ...
   
   
   /entry:NXentry
     /data_ARRAYID_BINARYID:NXdata
        @signal="data_ARRAYID_BINARY_ID"
        /data_ARRAYID_BINARYID[ the data for the array ARRAYID,
                                binary BINARYID, all sections,
                                all FRAMES]
        @axes=[...,AXISID1,...] with AXISID1 inserted at PRECEDENCE-1
        @AXISID1_indices=[PRECEDENCE-1]
        @AXISID2_indices=[PRECEDENCE-1]
        @AXISID3_indices=[PRECEDENCE-1]
        @AXISID1_origins=[origin1]  (defualt 0)
        @AXISID2_origins=[origin2]  (defualt 0)
        @AXISID3_origins=[origin3]  (defualt 0)
        @AXISID1_sizes=[size1]
        @AXISID2_sizes=[size2]
        @AXISID3_sizes=[size3]
        @AXISID1_strides=[stride1]
        @AXISID2_strides=[stride2]
        @AXISID3_strides=[stride3]
   
        ...
        /AXISID1 -->
            /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID1
        /AXISID2 -->
            /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID2
        /AXISID2 -->
            /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID3
        ...
       
     /instrument:NXinstrument
       /DETECTORNAME:NXdetector_group
       /DETECTORELEMENTNAME:NXdetector
           /data_ARRAYID_BINARYID -->
                /entry/data_ARRAYID_BINARYID/data_ARRAYID_BINARYID
           /AXISID1 -->
                /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID1
           /AXISID2 -->
                /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID2
           /AXISID2 -->
                /entry/instrument/DETECTORELEMENTNAME/transformations/AXISID3
           /ARRAYSECTIONID:NXdetector_module
             /data_origin=[...] -- the 0-based origins indices of ARRAYSECTIONID
             /data_size=[...] the sizes in pixels of ARRAYSECTIONID
             /data_stride[...] the strides of ARRAYSECTIONID
               ..
           /transformations:NXtransformations
             /AXISID1=[DISP1,DISP1+DISPINC1,...]   (or using angles where appropriate)
                @depends_on=...   determined from AXIS definitions
                @equipment="detector"
                @offset=[...] determined from AXIS definitions
                @offset_units="mm"
                @transformation_type="..." from AXIS definitions
                @units="mm"
                @vector=[...] determined from AXIS definitions
                @CBF_array_structure_list_axis__axis_id="AXISID1"
                @CBF_array_structure_list_axis__axis_set_id="AXISSETID"
                @CBF_array_structure_list_axis__angle=ANGLE1
                @CBF_array_structure_list_axis__angle_increment=ANGLEINC1
                @CBF_array_structure_list_axis__displacement=DISP1
                @CBF_array_structure_list_axis__displacement=FRACTDISP1
                @CBF_array_structure_list_axis__displacement_increment=DISPINC1
                @CBF_array_structure_list_axis__fract_displacement_increment=FRACTINC1
                @CBF_array_structure_list_axis__angular_pitch=ANGPITCH1
                @CBF_array_structure_list_axis__radial_pitch=RADPITCH1
                @CBF_array_structure_list_axis__reference_angle=REFANG1
                @CBF_array_structure_list_axis__reference_displacement=REFDISP1
             /AXISID2=[DISP2,DISP2+DISPINC2,...]   (or using angles where appropriate)
                @depends_on=...   determined from AXIS definitions
                @equipment="detector"
                @offset=[...] determined from AXIS definitions
                @offset_units="mm"
                @transformation_type="..." from AXIS definitions
                @units="mm"
                @vector=[...] determined from AXIS definitions
                @CBF_array_structure_list_axis__axis_id="AXISID2"
                @CBF_array_structure_list_axis__axis_set_id="AXISSETID"
                @CBF_array_structure_list_axis__angle=ANGLE2
                @CBF_array_structure_list_axis__angle_increment=ANGLEINC2
                @CBF_array_structure_list_axis__displacement=DISP2
                @CBF_array_structure_list_axis__displacement=FRACTDISP2
                @CBF_array_structure_list_axis__displacement_increment=DISPINC2
                @CBF_array_structure_list_axis__fract_displacement_increment=FRACTINC2
                @CBF_array_structure_list_axis__angular_pitch=ANGPITCH2
                @CBF_array_structure_list_axis__radial_pitch=RADPITCH2
                @CBF_array_structure_list_axis__reference_angle=REFANG2
                @CBF_array_structure_list_axis__reference_displacement=REFDISP2
             /AXISID3=[DISP3,DISP3+DISPINC3,...]   (or using angles where appropriate)
                @depends_on=...   determined from AXIS definitions
                @equipment="detector"
                @offset=[...] determined from AXIS definitions
                @offset_units="mm"
                @transformation_type="..." from AXIS definitions
                @units="mm"
                @vector=[...] determined from AXIS definitions
                @CBF_array_structure_list_axis__axis_id="AXISID3"
                @CBF_array_structure_list_axis__axis_set_id="AXISSETID"
                @CBF_array_structure_list_axis__angle=ANGLE3
                @CBF_array_structure_list_axis__angle_increment=ANGLEINC3
                @CBF_array_structure_list_axis__displacement=DISP3
                @CBF_array_structure_list_axis__displacement=FRACTDISP3
                @CBF_array_structure_list_axis__displacement_increment=DISPINC3
                @CBF_array_structure_list_axis__fract_displacement_increment=FRACTINC3
                @CBF_array_structure_list_axis__angular_pitch=ANGPITCH3
                @CBF_array_structure_list_axis__radial_pitch=RADPITCH3
                @CBF_array_structure_list_axis__reference_angle=REFANG3
                @CBF_array_structure_list_axis__reference_displacement=REFDISP3
   
    Notes: The same axis AXISIDn may appear in multiple axis sets for different
           values of PRECEDENCE of the data array, in which case the values
           in AXISIDn_indices with be the sorted list of PRECEDENCE-1 values
           and the array section nformation will be origanized by the
           same ordering.
;

########
# AXIS #
########

    _category.NX_mapping_details
;
    _axis.id                  AXISID
    _axis.type                AXISTYPE
    _axis.equipment           AXISEQUIPMENT
    _axis.equipment_component AXISEQUIPCOMP
    _axis.depends_on          AXISDEPENDSON
    _axis.rotation_axis       AXISROTAXIS
    _axis.rotation            AXISROTATION
    _axis.vector[1]           AXISV1
    _axis.vector[2]           AXISV2
    _axis.vector[3]           AXISV3
    _axis.offset[1]           AXISO1
    _axis.offset[2]           AXISO2
    _axis.offset[3]           AXISO3
    _axis.system              AXISSYSTEM
   
    -->

{     /entry:NXentry
        /instrument:NXinstrument
         /DETECTORELEMENTNAME:NXdetector
for AXISEQUIPMENT=="detector"}
{     /entry:NXentry
        /sample:NXsample
for AXISEQUIPMENT=="goniometer"}
{     /entry:NXentry
for AXISEQUIPMENT=="general"}
          /transformations:NXtransformations
            /AXISID=[]
              @units="mm"  if AXISTYPE=="translation"
              or @units="degrees"  if AXISTYPE=="rotation"
              @transformation_type="AXISTYPE"
              @equipment_component="AXISEQUIPCOMP"
              @depends_on="AXISDEPENDSON"
              @rotation_axis="AXISROTAXIS"
              @rotation=AXISROTATION
              @rotation_units="degrees"
              @offset=offsetxform([O1,O2,O3])
              @offset_inits="mm"
              @vector=coordxform([V1,V2,V3])
   


    Differences in Coordinate Frames
   

    The standard coordinate frame in NeXus is the McStas coordinate frame,
    in which the Z-axis points in the direction of the incident beam, the
    X-axis is orthogonal to the Z-axis in the horizontal plane and pointing
    left as seen from the source and the Y-axis points upwards.  The
    origin is in the sample.

    The standard coordinate frame in imgCIF/CBF aligns the X-axis to the
    principal goniometer axis, chooses the Z-axis to point from the sample
    into the beam.  If the beam is not orthogonal to the X-axis, the Z-axis
    is the component of the vector points into the beam orthogonal to the
    X-axis.  The Y-axis is chosen to complete a right-handed axis system.

    Let us call the NeXus coordinate axes, X_nx, Y_nx and Z_nx and the
    imgCIF/CBF coordinate axes, X_cbf, Y_cbf and $Z_cbf and the direction
    of gravity, Gravity.  In order to translate a vector v_nx = ( x, y, z)
    from the NeXus coordinate system to the imgCIF coordinate system, we
    also need two additional axes, as unit vectors, Gravity_cbf the downwards
    direction, and  Beam_cbf, the direction of the beam e.g. ( 0, 0, -1)).  

    In practice, the beam is not necessarily perfectly horizontal, so Y_nx
    is not necessarily perfectly vertical. Therefore, in order to generate
    X_nx, Y_nx and Z_nx some care is needed.  The cross product between two
    vectors a and b is a new vector c orthogonal to both a and b,
    chosen so that a, b, c is a right handed system.  If a and b are
    orthogonal unit vectors, this right-handed system is an orthonormal
    coordinate system.

    In the CBF coordinate frame, Z_nx is aligned to Beam_cbf

        Z_nx = Beam_cbf
   
    X_nx is defined as being horizontal at right angles to the beam,
    pointing to the left when seen from the source.  Assuming the beam is
    not vertical, we can compute X_nx as the normalized cross product of
    the  beam and the gravity:

        X_nx = (Beam_cbf x Gravity_cbf)/||Beam_cbf x Gravity_cbf||

    To see that this satisfies the constraint of being horizontal and
    pointing to the left, consider the case of Beam = ( 0, 0, -1 )
    and Gravity = ( 0, 0, 1 ) then we would have X_nx = ( 1, 0, 0 )
    from the cross product above.  The normalization is only necessary
    if the beam is not horizontal.

    Finally Y_nx is computed as the cross product of the beam and X_nx,
    completing an orthonormal right-handed system with Y_nx pointing upwards

        Y_nx = Beam_cbf x X_nx

    Then we know that in the imgCIF/CBF coordinate frame
   
        v_nx = X.X_nx + Y.Y_nx + Z.Z_nx

    Thus, given the imgCIF/CBF vectors for the true direction of the beam
    and the true direction of gravity, we have a linear transformation from
    the NeXus coordinate frame to the imgCIF/CBF coordinate frame.   The
    origins of the two frames agree.   The inverse linear transformation will
    transform a vector in the imgCIF/CBF coordinate frame into the NeXus
    coordinate frame.

    In the common case in which the beam is orthogonal to the principal
    goniometer axis so that Beam_cbf = ( 0, 0, -1 ) and the imgCIF/CBF
    Y-axis points upwards, the transformation inverts the X and Z axes.
    In the other common case in which the beam is orthogonal to the
    principal goniometer axis and the imgCIF/CBF Y-axis points
    downwards, the transformation inverts the Y and Z axes.
                                         
    mapping Axes

    There are two transformations needed:  coordxform(v) which takes a vector,
    v, the the CBF imgCIF Standard Laboratory Coordinate System and returns the
    equivalent McStas coordinate vector, and offsetxform(o) which takes an
    offset, o, in the the CBF imgCIF Standard Laboratory Coordinate System and
    returns the equivalent NeXus offset.  As of this writing, it has not
    been decided as to whether the NeXus offset should also be relative
    (in which case offsetxform = coordxform) or whether the NeXus offset should
    be absolute.

    In imgCIF/CBF all the information about all axes other than their
    settings are gathered in one AXIS category.  The closest equivalent
    container in NeXus is the NXinstrument class.  We put the information
    about detector axes into a
    detector:NXdetector/tranformations:NXtransformations NeXus class instance,
    information about the goniometer into a
    goniometer:NXgoniometer/tranformations:NXtransformations NeXus
    class instance, etc.  Additionally, in view of the general nature of
    some axes, such as the coordinate frame axes and gravity, we add a
    transformations:NXtransformation NeXus class instance under NXentry with
    axis__gravity, axis__beam and other axes not tied to specific equipment.

    We have applied the coordinate frame transformation changing
    the CBF laboratory coordinates into McStas coordinates.  Notice that X and
    Z have changed direction, but Y has not.   In other experimental setup,
    other transformations may occur.   The offsets for dependent axes are
    given relative to the total offset of axes on which that axis is dependent.
    Note that the axis settings do not enter into this calculation, because the
    offsets of dependent axes are given with all axes at their zero settings


    The cbf_location attribute gives a mapping back into the CBF AXIS category
    in dotted notation.  The first component is the data block.  The second
    component is "axis".  The third component is either "vector" or
    "offset"  for information drawn from the AXIS.VECTOR[...] or
    AXIS.OFFSET[...] respectively.  The last component is the CBF row number
    to facilitate recovering the original CBF layout.


;

   
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;       Example 1 -

        This example shows the axis specification of the axes of a kappa-
        geometry goniometer [see Stout, G. H. & Jensen, L. H. (1989). X-ray
        structure determination. A practical
        guide, 2nd ed. p. 134. New York: Wiley Interscience].

        There are three axes specified, and no offsets.  The outermost axis,
        omega, is pointed along the X axis.  The next innermost axis, kappa,
        is at a 50 degree angle to the X axis, pointed away from the source.
        The innermost axis, phi, aligns with the X axis when omega and
        phi are at their zero points.  If T-omega, T-kappa and T-phi
        are the transformation matrices derived from the axis settings,
        the complete transformation would be:
            X' = (T-omega) (T-kappa) (T-phi) X
;
;
         loop_
        _axis.id
        _axis.type
        _axis.equipment
        _axis.depends_on
        _axis.vector[1] _axis.vector[2] _axis.vector[3]
        omega rotation goniometer     .    1        0        0
        kappa rotation goniometer omega    -.64279  0       -.76604
        phi   rotation goniometer kappa    1        0        0
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;       Example 2 -

        This example shows the axis specification of the axes of a
        detector, source and gravity.  The order has been changed as a
        reminder that the ordering of presentation of tokens is not
        significant.  The centre of rotation of the detector has been taken
        to be 68 millimetres in the direction away from the source.
;
;
        loop_
        _axis.id
        _axis.type
        _axis.equipment
        _axis.depends_on
        _axis.vector[1] _axis.vector[2] _axis.vector[3]
        _axis.offset[1] _axis.offset[2] _axis.offset[3]
        source       .        source     .       0     0     1   . . .
        gravity      .        gravity    .       0    -1     0   . . .
        tranz     translation detector rotz      0     0     1   0 0 -68
        twotheta  rotation    detector   .       1     0     0   . . .
        roty      rotation    detector twotheta  0     1     0   0 0 -68
        rotz      rotation    detector roty      0     0     1   0 0 -68
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;       Example 3 -

        This example show the axis specification of the axes for a map,
        using fractional coordinates.  Each cell edge has been divided
        into a grid of 50 divisions in the ARRAY_STRUCTURE_LIST_AXIS
        category.  The map is using only the first octant of the grid
        in the ARRAY_STRUCTURE_LIST category.

        The fastest changing axis is the gris along A, then along B,
        and the slowest is along C.
       
        The map sampling is being done in the middle of each grid
        division
       
;
;
        loop_
        _axis.id
        _axis.system
        _axis.vector[1] _axis.vector[2] _axis.vector[3]
        CELL_A_AXIS    fractional       1 0 0
        CELL_B_AXIS    fractional       0 1 0
        CELL_C_AXIS    fractional       0 0 1
       
        loop_
        _array_structure_list.array_id
        _array_structure_list.index
        _array_structure_list.dimension
        _array_structure_list.precedence
        _array_structure_list.direction
        _array_structure_list.axis_set_id
        map 1 25 1 increasing CELL_A_AXIS
        map 1 25 2 increasing CELL_B_AXIS
        map 1 25 3 increasing CELL_C_AXIS
       
        loop_
        _array_structure_list_axis.axis_id
        _array_structure_list_axis.fract_displacement
        _array_structure_list_axis.fract_displacement_increment
        CELL_A_AXIS 0.01 0.02
        CELL_B_AXIS 0.01 0.02
        CELL_C_AXIS 0.01 0.02

       
       
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;       Example 4 -

        This example show the axis specification of the axes for a map,
        this time as orthogonal \%Angstroms, using the same coordinate system
        as for the atomic coordinates.  The map is sampling every 1.5
        \%Angstroms (1.5e-7 millimeters) in a map segment 37.5 \%Angstroms on
        a side.
       
;
;
        loop_
        _axis.id
        _axis.system
        _axis.vector[1] _axis.vector[2] _axis.vector[3]
        X    orthogonal       1 0 0
        Y    orthogonal       0 1 0
        Z    orthogonal       0 0 1
       
                loop_
        _array_structure_list.array_id
        _array_structure_list.index
        _array_structure_list.dimension
        _array_structure_list.precedence
        _array_structure_list.direction
        _array_structure_list.axis_set_id
        map 1 25 1 increasing X
        map 2 25 2 increasing Y
        map 3 25 3 increasing Z
       
        loop_
        _array_structure_list_axis.axis_id
        _array_structure_list_axis.displacement
        _array_structure_list_axis.displacement_increment
        X 7.5e-8 1.5e-7
        Y 7.5e-8 1.5e-7
        Z 7.5e-8 1.5e-7


;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;       Example 5 -
   
    This example show an excerpt from the axis specification of an FEL detector
    provided by N. Sauter and A. Brewster.
   
    The detector is divided into 4 quadrants, each quadrant contains 8 sensors
    and each sensor contains 2 ASICs.  We want to be able to refine the
    placement of each of these elements, so we maintain the set of vectors
    that places them.
   
;
;
    loop_
    _diffrn_detector_axis.detector_id
    _diffrn_detector_axis.axis_id
    CSPAD_FRONT AXIS_D0_X
    CSPAD_FRONT AXIS_D0_Y
    CSPAD_FRONT AXIS_D0_Z
    CSPAD_FRONT AXIS_D0_R
    CSPAD_FRONT FS_D0Q0
    CSPAD_FRONT FS_D0Q0S0
    CSPAD_FRONT FS_D0Q0S0A0
    CSPAD_FRONT FS_D0Q0S0A1
    CSPAD_FRONT FS_D0Q0S1
    CSPAD_FRONT FS_D0Q0S1A0
    CSPAD_FRONT FS_D0Q0S1A1
    CSPAD_FRONT FS_D0Q0S2
    CSPAD_FRONT FS_D0Q0S2A0
    CSPAD_FRONT FS_D0Q0S2A1
    CSPAD_FRONT FS_D0Q0S3
    CSPAD_FRONT FS_D0Q0S3A0
    CSPAD_FRONT FS_D0Q0S3A1
    CSPAD_FRONT FS_D0Q0S4
    CSPAD_FRONT FS_D0Q0S4A0
    CSPAD_FRONT FS_D0Q0S4A1
    CSPAD_FRONT FS_D0Q0S5
    CSPAD_FRONT FS_D0Q0S5A0
    CSPAD_FRONT FS_D0Q0S5A1
    CSPAD_FRONT FS_D0Q0S6
    CSPAD_FRONT FS_D0Q0S6A0
    CSPAD_FRONT FS_D0Q0S6A1
    CSPAD_FRONT FS_D0Q0S7
    CSPAD_FRONT FS_D0Q0S7A0
    CSPAD_FRONT FS_D0Q0S7A1
    CSPAD_FRONT FS_D0Q1
    CSPAD_FRONT FS_D0Q1S0
    CSPAD_FRONT FS_D0Q1S0A0
    CSPAD_FRONT FS_D0Q1S0A1
    CSPAD_FRONT FS_D0Q1S1
    CSPAD_FRONT FS_D0Q1S1A0
    CSPAD_FRONT FS_D0Q1S1A1
    CSPAD_FRONT FS_D0Q1S2
    CSPAD_FRONT FS_D0Q1S2A0
    CSPAD_FRONT FS_D0Q1S2A1
    CSPAD_FRONT FS_D0Q1S3
    CSPAD_FRONT FS_D0Q1S3A0
    CSPAD_FRONT FS_D0Q1S3A1
    CSPAD_FRONT FS_D0Q1S4
    CSPAD_FRONT FS_D0Q1S4A0
    CSPAD_FRONT FS_D0Q1S4A1
    CSPAD_FRONT FS_D0Q1S5
    CSPAD_FRONT FS_D0Q1S5A0
    CSPAD_FRONT FS_D0Q1S5A1
    CSPAD_FRONT FS_D0Q1S6
    CSPAD_FRONT FS_D0Q1S6A0
    CSPAD_FRONT FS_D0Q1S6A1
    CSPAD_FRONT FS_D0Q1S7
    CSPAD_FRONT FS_D0Q1S7A0
    CSPAD_FRONT FS_D0Q1S7A1
    CSPAD_FRONT FS_D0Q2
    CSPAD_FRONT FS_D0Q2S0
    CSPAD_FRONT FS_D0Q2S0A0
    CSPAD_FRONT FS_D0Q2S0A1
    CSPAD_FRONT FS_D0Q2S1
    CSPAD_FRONT FS_D0Q2S1A0
    CSPAD_FRONT FS_D0Q2S1A1
    CSPAD_FRONT FS_D0Q2S2
    CSPAD_FRONT FS_D0Q2S2A0
    CSPAD_FRONT FS_D0Q2S2A1
    CSPAD_FRONT FS_D0Q2S3
    CSPAD_FRONT FS_D0Q2S3A0
    CSPAD_FRONT FS_D0Q2S3A1
    CSPAD_FRONT FS_D0Q2S4
    CSPAD_FRONT FS_D0Q2S4A0
    CSPAD_FRONT FS_D0Q2S4A1
    CSPAD_FRONT FS_D0Q2S5
    CSPAD_FRONT FS_D0Q2S5A0
    CSPAD_FRONT FS_D0Q2S5A1
    CSPAD_FRONT FS_D0Q2S6
    CSPAD_FRONT FS_D0Q2S6A0
    CSPAD_FRONT FS_D0Q2S6A1
    CSPAD_FRONT FS_D0Q2S7
    CSPAD_FRONT FS_D0Q2S7A0
    CSPAD_FRONT FS_D0Q2S7A1
    CSPAD_FRONT FS_D0Q3
    CSPAD_FRONT FS_D0Q3S0
    CSPAD_FRONT FS_D0Q3S0A0
    CSPAD_FRONT FS_D0Q3S0A1
    CSPAD_FRONT FS_D0Q3S1
    CSPAD_FRONT FS_D0Q3S1A0
    CSPAD_FRONT FS_D0Q3S1A1
    CSPAD_FRONT FS_D0Q3S2
    CSPAD_FRONT FS_D0Q3S2A0
    CSPAD_FRONT FS_D0Q3S2A1
    CSPAD_FRONT FS_D0Q3S3
    CSPAD_FRONT FS_D0Q3S3A0
    CSPAD_FRONT FS_D0Q3S3A1
    CSPAD_FRONT FS_D0Q3S4
    CSPAD_FRONT FS_D0Q3S4A0
    CSPAD_FRONT FS_D0Q3S4A1
    CSPAD_FRONT FS_D0Q3S5
    CSPAD_FRONT FS_D0Q3S5A0
    CSPAD_FRONT FS_D0Q3S5A1
    CSPAD_FRONT FS_D0Q3S6
    CSPAD_FRONT FS_D0Q3S6A0
    CSPAD_FRONT FS_D0Q3S6A1
    CSPAD_FRONT FS_D0Q3S7
    CSPAD_FRONT FS_D0Q3S7A0
    CSPAD_FRONT FS_D0Q3S7A1
   
    loop_
    _diffrn_detector_element.id
    _diffrn_detector_element.detector_id
    ELE_D0Q0S0A0 CSPAD_FRONT
    ELE_D0Q0S0A1 CSPAD_FRONT
    ELE_D0Q0S1A0 CSPAD_FRONT
    ELE_D0Q0S1A1 CSPAD_FRONT
    ELE_D0Q0S2A0 CSPAD_FRONT
    ELE_D0Q0S2A1 CSPAD_FRONT
    ELE_D0Q0S3A0 CSPAD_FRONT
    ELE_D0Q0S3A1 CSPAD_FRONT
    ELE_D0Q0S4A0 CSPAD_FRONT
    ELE_D0Q0S4A1 CSPAD_FRONT
    ELE_D0Q0S5A0 CSPAD_FRONT
    ELE_D0Q0S5A1 CSPAD_FRONT
    ELE_D0Q0S6A0 CSPAD_FRONT
    ELE_D0Q0S6A1 CSPAD_FRONT
    ELE_D0Q0S7A0 CSPAD_FRONT
    ELE_D0Q0S7A1 CSPAD_FRONT
    ELE_D0Q1S0A0 CSPAD_FRONT
    ELE_D0Q1S0A1 CSPAD_FRONT
    ELE_D0Q1S1A0 CSPAD_FRONT
    ELE_D0Q1S1A1 CSPAD_FRONT
    ELE_D0Q1S2A0 CSPAD_FRONT
    ELE_D0Q1S2A1 CSPAD_FRONT
    ELE_D0Q1S3A0 CSPAD_FRONT
    ELE_D0Q1S3A1 CSPAD_FRONT
    ELE_D0Q1S4A0 CSPAD_FRONT
    ELE_D0Q1S4A1 CSPAD_FRONT
    ELE_D0Q1S5A0 CSPAD_FRONT
    ELE_D0Q1S5A1 CSPAD_FRONT
    ELE_D0Q1S6A0 CSPAD_FRONT
    ELE_D0Q1S6A1 CSPAD_FRONT
    ELE_D0Q1S7A0 CSPAD_FRONT
    ELE_D0Q1S7A1 CSPAD_FRONT
    ELE_D0Q2S0A0 CSPAD_FRONT
    ELE_D0Q2S0A1 CSPAD_FRONT
    ELE_D0Q2S1A0 CSPAD_FRONT
    ELE_D0Q2S1A1 CSPAD_FRONT
    ELE_D0Q2S2A0 CSPAD_FRONT
    ELE_D0Q2S2A1 CSPAD_FRONT
    ELE_D0Q2S3A0 CSPAD_FRONT
    ELE_D0Q2S3A1 CSPAD_FRONT
    ELE_D0Q2S4A0 CSPAD_FRONT
    ELE_D0Q2S4A1 CSPAD_FRONT
    ELE_D0Q2S5A0 CSPAD_FRONT
    ELE_D0Q2S5A1 CSPAD_FRONT
    ELE_D0Q2S6A0 CSPAD_FRONT
    ELE_D0Q2S6A1 CSPAD_FRONT
    ELE_D0Q2S7A0 CSPAD_FRONT
    ELE_D0Q2S7A1 CSPAD_FRONT
    ELE_D0Q3S0A0 CSPAD_FRONT
    ELE_D0Q3S0A1 CSPAD_FRONT
    ELE_D0Q3S1A0 CSPAD_FRONT
    ELE_D0Q3S1A1 CSPAD_FRONT
    ELE_D0Q3S2A0 CSPAD_FRONT
    ELE_D0Q3S2A1 CSPAD_FRONT
    ELE_D0Q3S3A0 CSPAD_FRONT
    ELE_D0Q3S3A1 CSPAD_FRONT
    ELE_D0Q3S4A0 CSPAD_FRONT
    ELE_D0Q3S4A1 CSPAD_FRONT
    ELE_D0Q3S5A0 CSPAD_FRONT
    ELE_D0Q3S5A1 CSPAD_FRONT
    ELE_D0Q3S6A0 CSPAD_FRONT
    ELE_D0Q3S6A1 CSPAD_FRONT
    ELE_D0Q3S7A0 CSPAD_FRONT
    ELE_D0Q3S7A1 CSPAD_FRONT
   
   
    loop_
    _axis.id
    _axis.type
    _axis.equipment
    _axis.depends_on
    _axis.vector[1]
    _axis.vector[2]
    _axis.vector[3]
    _axis.offset[1]
    _axis.offset[2]
    _axis.offset[3]
    _axis.equipment_component
    _axis.rotation
    _axis.rotation_axis
    AXIS_SOURCE general source . 0 0 1 . . . . . .
    AXIS_GRAVITY general gravity . 0 -1 0 . . . . . .
    AXIS_D0_Z translation detector . 0 0 1 . . . detector_arm . .
    AXIS_D0_Y translation detector AXIS_D0_Z 0 1 0 . . . detector_arm . .
    AXIS_D0_X translation detector AXIS_D0_Y 1 0 0 . . . detector_arm . .
    AXIS_D0_R rotation detector AXIS_D0_X 0 0 1 0.0 0.0 0.0 detector_arm . .
    FS_D0Q0 rotation detector AXIS_D0_R 0 0 1 -49.860765625 41.643353125 0.0 detector_quadrant . .
    FS_D0Q0S0 rotation detector FS_D0Q0 0.0 0.0 1.0 11.3696 -23.189925 0.0 detector_sensor . .
    FS_D0Q0S0A0 rotation detector FS_D0Q0S0 0 0 1 -10.835 0.0 0.0 detector_asic 89.66181 FS_D0Q0S0
    AXIS_D0Q0S0A0_F translation detector FS_D0Q0S0A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S0A0_S translation detector AXIS_D0Q0S0A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S0A1 rotation detector FS_D0Q0S0 0 0 1 10.835 0.0 0.0 detector_asic 89.66181 FS_D0Q0S0
    AXIS_D0Q0S0A1_F translation detector FS_D0Q0S0A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S0A1_S translation detector AXIS_D0Q0S0A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S1 rotation detector FS_D0Q0 0.0 0.0 1.0 34.815 -23.309825 0.0 detector_sensor . .
    FS_D0Q0S1A0 rotation detector FS_D0Q0S1 0 0 1 -10.835 0.0 0.0 detector_asic 90.00132 FS_D0Q0S1
    AXIS_D0Q0S1A0_F translation detector FS_D0Q0S1A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S1A0_S translation detector AXIS_D0Q0S1A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S1A1 rotation detector FS_D0Q0S1 0 0 1 10.835 0.0 0.0 detector_asic 90.00132 FS_D0Q0S1
    AXIS_D0Q0S1A1_F translation detector FS_D0Q0S1A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S1A1_S translation detector AXIS_D0Q0S1A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S2 rotation detector FS_D0Q0 -0.0 -0.0 -1.0 -23.5389 -10.921625 0.0 detector_sensor . .
    FS_D0Q0S2A0 rotation detector FS_D0Q0S2 0 0 1 -10.835 0.0 0.0 detector_asic 359.68548 FS_D0Q0S2
    AXIS_D0Q0S2A0_F translation detector FS_D0Q0S2A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S2A0_S translation detector AXIS_D0Q0S2A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S2A1 rotation detector FS_D0Q0S2 0 0 1 10.835 0.0 0.0 detector_asic 359.68548 FS_D0Q0S2
    AXIS_D0Q0S2A1_F translation detector FS_D0Q0S2A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S2A1_S translation detector AXIS_D0Q0S2A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S3 rotation detector FS_D0Q0 0.0 0.0 1.0 -23.5499 -34.181125 0.0 detector_sensor . .
    FS_D0Q0S3A0 rotation detector FS_D0Q0S3 0 0 1 -10.835 0.0 0.0 detector_asic 359.96513 FS_D0Q0S3
    AXIS_D0Q0S3A0_F translation detector FS_D0Q0S3A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S3A0_S translation detector AXIS_D0Q0S3A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S3A1 rotation detector FS_D0Q0S3 0 0 1 10.835 0.0 0.0 detector_asic 359.96513 FS_D0Q0S3
    AXIS_D0Q0S3A1_F translation detector FS_D0Q0S3A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S3A1_S translation detector AXIS_D0Q0S3A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S4 rotation detector FS_D0Q0 0.0 0.0 1.0 -11.2651 24.282775 0.0 detector_sensor . .
    FS_D0Q0S4A0 rotation detector FS_D0Q0S4 0 0 1 -10.835 0.0 0.0 detector_asic 270.14738 FS_D0Q0S4
    AXIS_D0Q0S4A0_F translation detector FS_D0Q0S4A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S4A0_S translation detector AXIS_D0Q0S4A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S4A1 rotation detector FS_D0Q0S4 0 0 1 10.835 0.0 0.0 detector_asic 270.14738 FS_D0Q0S4
    AXIS_D0Q0S4A1_F translation detector FS_D0Q0S4A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S4A1_S translation detector AXIS_D0Q0S4A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S5 rotation detector FS_D0Q0 0.0 0.0 1.0 -34.7336 24.169475 0.0 detector_sensor . .
    FS_D0Q0S5A0 rotation detector FS_D0Q0S5 0 0 1 -10.835 0.0 0.0 detector_asic 270.07896 FS_D0Q0S5
    AXIS_D0Q0S5A0_F translation detector FS_D0Q0S5A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S5A0_S translation detector AXIS_D0Q0S5A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S5A1 rotation detector FS_D0Q0S5 0 0 1 10.835 0.0 0.0 detector_asic 270.07896 FS_D0Q0S5
    AXIS_D0Q0S5A1_F translation detector FS_D0Q0S5A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S5A1_S translation detector AXIS_D0Q0S5A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S6 rotation detector FS_D0Q0 0.0 0.0 1.0 23.5488 33.320375 0.0 detector_sensor . .
    FS_D0Q0S6A0 rotation detector FS_D0Q0S6 0 0 1 -10.835 0.0 0.0 detector_asic 359.78222 FS_D0Q0S6
    AXIS_D0Q0S6A0_F translation detector FS_D0Q0S6A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S6A0_S translation detector AXIS_D0Q0S6A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S6A1 rotation detector FS_D0Q0S6 0 0 1 10.835 0.0 0.0 detector_asic 359.78222 FS_D0Q0S6
    AXIS_D0Q0S6A1_F translation detector FS_D0Q0S6A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S6A1_S translation detector AXIS_D0Q0S6A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S7 rotation detector FS_D0Q0 0.0 0.0 1.0 23.3541 9.829875 0.0 detector_sensor . .
    FS_D0Q0S7A0 rotation detector FS_D0Q0S7 0 0 1 -10.835 0.0 0.0 detector_asic 359.89604 FS_D0Q0S7
    AXIS_D0Q0S7A0_F translation detector FS_D0Q0S7A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S7A0_S translation detector AXIS_D0Q0S7A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q0S7A1 rotation detector FS_D0Q0S7 0 0 1 10.835 0.0 0.0 detector_asic 359.89604 FS_D0Q0S7
    AXIS_D0Q0S7A1_F translation detector FS_D0Q0S7A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q0S7A1_S translation detector AXIS_D0Q0S7A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1 rotation detector AXIS_D0_R 0 0 1 41.512521875 50.149653125 0.0 detector_quadrant . .
    FS_D0Q1S0 rotation detector FS_D0Q1 -0.0 -0.0 -1.0 -23.1589875 -11.451825 0.0 detector_sensor . .
    FS_D0Q1S0A0 rotation detector FS_D0Q1S0 0 0 1 -10.835 0.0 0.0 detector_asic 0.27238 FS_D0Q1S0
    AXIS_D0Q1S0A0_F translation detector FS_D0Q1S0A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S0A0_S translation detector AXIS_D0Q1S0A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S0A1 rotation detector FS_D0Q1S0 0 0 1 10.835 0.0 0.0 detector_asic 0.27238 FS_D0Q1S0
    AXIS_D0Q1S0A1_F translation detector FS_D0Q1S0A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S0A1_S translation detector AXIS_D0Q1S0A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S1 rotation detector FS_D0Q1 -0.0 -0.0 -1.0 -23.2073875 -34.782825 0.0 detector_sensor . .
    FS_D0Q1S1A0 rotation detector FS_D0Q1S1 0 0 1 -10.835 0.0 0.0 detector_asic 0.00525999986641 FS_D0Q1S1
    AXIS_D0Q1S1A0_F translation detector FS_D0Q1S1A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S1A0_S translation detector AXIS_D0Q1S1A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S1A1 rotation detector FS_D0Q1S1 0 0 1 10.835 0.0 0.0 detector_asic 0.00525999986641 FS_D0Q1S1
    AXIS_D0Q1S1A1_F translation detector FS_D0Q1S1A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S1A1_S translation detector AXIS_D0Q1S1A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S2 rotation detector FS_D0Q1 0.0 0.0 1.0 -10.7311875 23.286175 0.0 detector_sensor . .
    FS_D0Q1S2A0 rotation detector FS_D0Q1S2 0 0 1 -10.835 0.0 0.0 detector_asic 270.02545 FS_D0Q1S2
    AXIS_D0Q1S2A0_F translation detector FS_D0Q1S2A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S2A0_S translation detector AXIS_D0Q1S2A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S2A1 rotation detector FS_D0Q1S2 0 0 1 10.835 0.0 0.0 detector_asic 270.02545 FS_D0Q1S2
    AXIS_D0Q1S2A1_F translation detector FS_D0Q1S2A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S2A1_S translation detector AXIS_D0Q1S2A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S3 rotation detector FS_D0Q1 0.0 0.0 1.0 -34.1402875 23.344475 0.0 detector_sensor . .
    FS_D0Q1S3A0 rotation detector FS_D0Q1S3 0 0 1 -10.835 0.0 0.0 detector_asic 270.03066 FS_D0Q1S3
    AXIS_D0Q1S3A0_F translation detector FS_D0Q1S3A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S3A0_S translation detector AXIS_D0Q1S3A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S3A1 rotation detector FS_D0Q1S3 0 0 1 10.835 0.0 0.0 detector_asic 270.03066 FS_D0Q1S3
    AXIS_D0Q1S3A1_F translation detector FS_D0Q1S3A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S3A1_S translation detector AXIS_D0Q1S3A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S4 rotation detector FS_D0Q1 0.0 0.0 1.0 24.0035125 11.407275 0.0 detector_sensor . .
    FS_D0Q1S4A0 rotation detector FS_D0Q1S4 0 0 1 -10.835 0.0 0.0 detector_asic 179.96381 FS_D0Q1S4
    AXIS_D0Q1S4A0_F translation detector FS_D0Q1S4A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S4A0_S translation detector AXIS_D0Q1S4A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S4A1 rotation detector FS_D0Q1S4 0 0 1 10.835 0.0 0.0 detector_asic 179.96381 FS_D0Q1S4
    AXIS_D0Q1S4A1_F translation detector FS_D0Q1S4A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S4A1_S translation detector AXIS_D0Q1S4A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S5 rotation detector FS_D0Q1 0.0 0.0 1.0 24.0035125 34.876875 0.0 detector_sensor . .
    FS_D0Q1S5A0 rotation detector FS_D0Q1S5 0 0 1 -10.835 0.0 0.0 detector_asic 180.02434 FS_D0Q1S5
    AXIS_D0Q1S5A0_F translation detector FS_D0Q1S5A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S5A0_S translation detector AXIS_D0Q1S5A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S5A1 rotation detector FS_D0Q1S5 0 0 1 10.835 0.0 0.0 detector_asic 180.02434 FS_D0Q1S5
    AXIS_D0Q1S5A1_F translation detector FS_D0Q1S5A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S5A1_S translation detector AXIS_D0Q1S5A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S6 rotation detector FS_D0Q1 0.0 0.0 1.0 33.2523125 -23.321925 0.0 detector_sensor . .
    FS_D0Q1S6A0 rotation detector FS_D0Q1S6 0 0 1 -10.835 0.0 0.0 detector_asic 270.08027 FS_D0Q1S6
    AXIS_D0Q1S6A0_F translation detector FS_D0Q1S6A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S6A0_S translation detector AXIS_D0Q1S6A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S6A1 rotation detector FS_D0Q1S6 0 0 1 10.835 0.0 0.0 detector_asic 270.08027 FS_D0Q1S6
    AXIS_D0Q1S6A1_F translation detector FS_D0Q1S6A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S6A1_S translation detector AXIS_D0Q1S6A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S7 rotation detector FS_D0Q1 0.0 0.0 1.0 9.9785125 -23.358225 0.0 detector_sensor . .
    FS_D0Q1S7A0 rotation detector FS_D0Q1S7 0 0 1 -10.835 0.0 0.0 detector_asic 270.15067 FS_D0Q1S7
    AXIS_D0Q1S7A0_F translation detector FS_D0Q1S7A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S7A0_S translation detector AXIS_D0Q1S7A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q1S7A1 rotation detector FS_D0Q1S7 0 0 1 10.835 0.0 0.0 detector_asic 270.15067 FS_D0Q1S7
    AXIS_D0Q1S7A1_F translation detector FS_D0Q1S7A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q1S7A1_S translation detector AXIS_D0Q1S7A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2 rotation detector AXIS_D0_R 0 0 1 49.596146875 -41.351371875 0.0 detector_quadrant . .
    FS_D0Q2S0 rotation detector FS_D0Q2 -0.0 -0.0 -1.0 -11.3150125 23.1242 0.0 detector_sensor . .
    FS_D0Q2S0A0 rotation detector FS_D0Q2S0 0 0 1 -10.835 0.0 0.0 detector_asic 90.04803 FS_D0Q2S0
    AXIS_D0Q2S0A0_F translation detector FS_D0Q2S0A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S0A0_S translation detector AXIS_D0Q2S0A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S0A1 rotation detector FS_D0Q2S0 0 0 1 10.835 0.0 0.0 detector_asic 90.04803 FS_D0Q2S0
    AXIS_D0Q2S0A1_F translation detector FS_D0Q2S0A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S0A1_S translation detector AXIS_D0Q2S0A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S1 rotation detector FS_D0Q2 -0.0 -0.0 -1.0 -34.6999125 23.155 0.0 detector_sensor . .
    FS_D0Q2S1A0 rotation detector FS_D0Q2S1 0 0 1 -10.835 0.0 0.0 detector_asic 90.00592 FS_D0Q2S1
    AXIS_D0Q2S1A0_F translation detector FS_D0Q2S1A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S1A0_S translation detector AXIS_D0Q2S1A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S1A1 rotation detector FS_D0Q2S1 0 0 1 10.835 0.0 0.0 detector_asic 90.00592 FS_D0Q2S1
    AXIS_D0Q2S1A1_F translation detector FS_D0Q2S1A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S1A1_S translation detector AXIS_D0Q2S1A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S2 rotation detector FS_D0Q2 0.0 0.0 1.0 23.4746875 10.7811 0.0 detector_sensor . .
    FS_D0Q2S2A0 rotation detector FS_D0Q2S2 0 0 1 -10.835 0.0 0.0 detector_asic 180.11318 FS_D0Q2S2
    AXIS_D0Q2S2A0_F translation detector FS_D0Q2S2A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S2A0_S translation detector AXIS_D0Q2S2A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S2A1 rotation detector FS_D0Q2S2 0 0 1 10.835 0.0 0.0 detector_asic 180.11318 FS_D0Q2S2
    AXIS_D0Q2S2A1_F translation detector FS_D0Q2S2A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S2A1_S translation detector AXIS_D0Q2S2A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S3 rotation detector FS_D0Q2 0.0 0.0 1.0 23.6220875 34.2221 0.0 detector_sensor . .
    FS_D0Q2S3A0 rotation detector FS_D0Q2S3 0 0 1 -10.835 0.0 0.0 detector_asic 179.92104 FS_D0Q2S3
    AXIS_D0Q2S3A0_F translation detector FS_D0Q2S3A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S3A0_S translation detector AXIS_D0Q2S3A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S3A1 rotation detector FS_D0Q2S3 0 0 1 10.835 0.0 0.0 detector_asic 179.92104 FS_D0Q2S3
    AXIS_D0Q2S3A1_F translation detector FS_D0Q2S3A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S3A1_S translation detector AXIS_D0Q2S3A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S4 rotation detector FS_D0Q2 0.0 0.0 1.0 11.1953875 -23.9954 0.0 detector_sensor . .
    FS_D0Q2S4A0 rotation detector FS_D0Q2S4 0 0 1 -10.835 0.0 0.0 detector_asic 89.63875 FS_D0Q2S4
    AXIS_D0Q2S4A0_F translation detector FS_D0Q2S4A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S4A0_S translation detector AXIS_D0Q2S4A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S4A1 rotation detector FS_D0Q2S4 0 0 1 10.835 0.0 0.0 detector_asic 89.63875 FS_D0Q2S4
    AXIS_D0Q2S4A1_F translation detector FS_D0Q2S4A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S4A1_S translation detector AXIS_D0Q2S4A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S5 rotation detector FS_D0Q2 0.0 0.0 1.0 34.5494875 -24.1901 0.0 detector_sensor . .
    FS_D0Q2S5A0 rotation detector FS_D0Q2S5 0 0 1 -10.835 0.0 0.0 detector_asic 89.68154 FS_D0Q2S5
    AXIS_D0Q2S5A0_F translation detector FS_D0Q2S5A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S5A0_S translation detector AXIS_D0Q2S5A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S5A1 rotation detector FS_D0Q2S5 0 0 1 10.835 0.0 0.0 detector_asic 89.68154 FS_D0Q2S5
    AXIS_D0Q2S5A1_F translation detector FS_D0Q2S5A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S5A1_S translation detector AXIS_D0Q2S5A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S6 rotation detector FS_D0Q2 0.0 0.0 1.0 -23.4854125 -33.2552 0.0 detector_sensor . .
    FS_D0Q2S6A0 rotation detector FS_D0Q2S6 0 0 1 -10.835 0.0 0.0 detector_asic 179.83473 FS_D0Q2S6
    AXIS_D0Q2S6A0_F translation detector FS_D0Q2S6A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S6A0_S translation detector AXIS_D0Q2S6A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S6A1 rotation detector FS_D0Q2S6 0 0 1 10.835 0.0 0.0 detector_asic 179.83473 FS_D0Q2S6
    AXIS_D0Q2S6A1_F translation detector FS_D0Q2S6A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S6A1_S translation detector AXIS_D0Q2S6A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S7 rotation detector FS_D0Q2 0.0 0.0 1.0 -23.3413125 -9.8417 0.0 detector_sensor . .
    FS_D0Q2S7A0 rotation detector FS_D0Q2S7 0 0 1 -10.835 0.0 0.0 detector_asic 180.092 FS_D0Q2S7
    AXIS_D0Q2S7A0_F translation detector FS_D0Q2S7A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S7A0_S translation detector AXIS_D0Q2S7A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q2S7A1 rotation detector FS_D0Q2S7 0 0 1 10.835 0.0 0.0 detector_asic 180.092 FS_D0Q2S7
    AXIS_D0Q2S7A1_F translation detector FS_D0Q2S7A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q2S7A1_S translation detector AXIS_D0Q2S7A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3 rotation detector AXIS_D0_R 0 0 1 -41.247903125 -50.441634375 0.0 detector_quadrant . .
    FS_D0Q3S0 rotation detector FS_D0Q3 0.0 0.0 1.0 23.1056375 11.6367625 0.0 detector_sensor . .
    FS_D0Q3S0A0 rotation detector FS_D0Q3S0 0 0 1 -10.835 0.0 0.0 detector_asic 180.12436 FS_D0Q3S0
    AXIS_D0Q3S0A0_F translation detector FS_D0Q3S0A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S0A0_S translation detector AXIS_D0Q3S0A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S0A1 rotation detector FS_D0Q3S0 0 0 1 10.835 0.0 0.0 detector_asic 180.12436 FS_D0Q3S0
    AXIS_D0Q3S0A1_F translation detector FS_D0Q3S0A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S0A1_S translation detector AXIS_D0Q3S0A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S1 rotation detector FS_D0Q3 0.0 0.0 1.0 23.1298375 34.9864625 0.0 detector_sensor . .
    FS_D0Q3S1A0 rotation detector FS_D0Q3S1 0 0 1 -10.835 0.0 0.0 detector_asic 180.00263 FS_D0Q3S1
    AXIS_D0Q3S1A0_F translation detector FS_D0Q3S1A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S1A0_S translation detector AXIS_D0Q3S1A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S1A1 rotation detector FS_D0Q3S1 0 0 1 10.835 0.0 0.0 detector_asic 180.00263 FS_D0Q3S1
    AXIS_D0Q3S1A1_F translation detector FS_D0Q3S1A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S1A1_S translation detector AXIS_D0Q3S1A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S2 rotation detector FS_D0Q3 -0.0 -0.0 -1.0 10.9572375 -23.5830375 0.0 detector_sensor . .
    FS_D0Q3S2A0 rotation detector FS_D0Q3S2 0 0 1 -10.835 0.0 0.0 detector_asic 269.55191 FS_D0Q3S2
    AXIS_D0Q3S2A0_F translation detector FS_D0Q3S2A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S2A0_S translation detector AXIS_D0Q3S2A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S2A1 rotation detector FS_D0Q3S2 0 0 1 10.835 0.0 0.0 detector_asic 269.55191 FS_D0Q3S2
    AXIS_D0Q3S2A1_F translation detector FS_D0Q3S2A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S2A1_S translation detector AXIS_D0Q3S2A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S3 rotation detector FS_D0Q3 -0.0 -0.0 -1.0 34.4180375 -23.4818375 0.0 detector_sensor . .
    FS_D0Q3S3A0 rotation detector FS_D0Q3S3 0 0 1 -10.835 0.0 0.0 detector_asic 269.74206 FS_D0Q3S3
    AXIS_D0Q3S3A0_F translation detector FS_D0Q3S3A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S3A0_S translation detector AXIS_D0Q3S3A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S3A1 rotation detector FS_D0Q3S3 0 0 1 10.835 0.0 0.0 detector_asic 269.74206 FS_D0Q3S3
    AXIS_D0Q3S3A1_F translation detector FS_D0Q3S3A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S3A1_S translation detector AXIS_D0Q3S3A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S4 rotation detector FS_D0Q3 0.0 0.0 1.0 -24.1283625 -11.5336375 0.0 detector_sensor . .
    FS_D0Q3S4A0 rotation detector FS_D0Q3S4 0 0 1 -10.835 0.0 0.0 detector_asic 359.81971 FS_D0Q3S4
    AXIS_D0Q3S4A0_F translation detector FS_D0Q3S4A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S4A0_S translation detector AXIS_D0Q3S4A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S4A1 rotation detector FS_D0Q3S4 0 0 1 10.835 0.0 0.0 detector_asic 359.81971 FS_D0Q3S4
    AXIS_D0Q3S4A1_F translation detector FS_D0Q3S4A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S4A1_S translation detector AXIS_D0Q3S4A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S5 rotation detector FS_D0Q3 0.0 0.0 1.0 -24.1701625 -34.9548375 0.0 detector_sensor . .
    FS_D0Q3S5A0 rotation detector FS_D0Q3S5 0 0 1 -10.835 0.0 0.0 detector_asic 359.99883 FS_D0Q3S5
    AXIS_D0Q3S5A0_F translation detector FS_D0Q3S5A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S5A0_S translation detector AXIS_D0Q3S5A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S5A1 rotation detector FS_D0Q3S5 0 0 1 10.835 0.0 0.0 detector_asic 359.99883 FS_D0Q3S5
    AXIS_D0Q3S5A1_F translation detector FS_D0Q3S5A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S5A1_S translation detector AXIS_D0Q3S5A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S6 rotation detector FS_D0Q3 -0.0 -0.0 -1.0 -33.3089625 23.4474625 0.0 detector_sensor . .
    FS_D0Q3S6A0 rotation detector FS_D0Q3S6 0 0 1 -10.835 0.0 0.0 detector_asic 269.67299 FS_D0Q3S6
    AXIS_D0Q3S6A0_F translation detector FS_D0Q3S6A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S6A0_S translation detector AXIS_D0Q3S6A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S6A1 rotation detector FS_D0Q3S6 0 0 1 10.835 0.0 0.0 detector_asic 269.67299 FS_D0Q3S6
    AXIS_D0Q3S6A1_F translation detector FS_D0Q3S6A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S6A1_S translation detector AXIS_D0Q3S6A1_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S7 rotation detector FS_D0Q3 -0.0 -0.0 -1.0 -10.0032625 23.4826625 0.0 detector_sensor . .
    FS_D0Q3S7A0 rotation detector FS_D0Q3S7 0 0 1 -10.835 0.0 0.0 detector_asic 269.67561 FS_D0Q3S7
    AXIS_D0Q3S7A0_F translation detector FS_D0Q3S7A0 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S7A0_S translation detector AXIS_D0Q3S7A0_F 0 -1 0 0 0 0.0 detector_asic . .
    FS_D0Q3S7A1 rotation detector FS_D0Q3S7 0 0 1 10.835 0.0 0.0 detector_asic 269.67561 FS_D0Q3S7
    AXIS_D0Q3S7A1_F translation detector FS_D0Q3S7A1 1 0 0 -10.615000 10.120000 0.0 detector_asic . .
    AXIS_D0Q3S7A1_S translation detector AXIS_D0Q3S7A1_F 0 -1 0 0 0 0.0 detector_asic . .
   
   
;   
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;       Example 6 -
   
    This example show an excerpt from the axis specification of an FEL detector
    provided by N. Sauter and A. Brewster, using _axis.rotation_axis and
    _axis.rotation to organize the positional dependencies.  The approach
    in Example 5 is now preferred.
   
    The detector is divided into 4 quadrants, each quadrant contains 8 sensors
    and each sensor contains 2 ASICs.  We want to be able to refine the
    placement of each of these elements, so we maintain the set of vectors
    that places them.
   
    To do this, the first vector of importance is an initial placement axis
    that moves from the origin along the Z axis a distance equal to the
    detector distance.  This is the origin for the rest of the axes and is
    called AXIS_D0_ORIGIN.
   
    Each subsequent movement involves a frame shift.  This is done by using
    two imageCIF axes: a rotation axis and a translation axis.  The rotation
    axis is listed first, and includes no offset or angle.  The actual frame
    shift is done by using a translation axis.  An offset is used first in
    the parent's frame, and then an angle is listed to rotate around the
    rotation axis.
   
    Example, sensor five of quadrant 2.  First a rotation axis is listed:
   
    AXIS_D0Q2S5_ROT rotation detector AXIS_D0Q2 0.0 0.0 1.0 0 0 0 . .
    This defines a rotation axis around the z-axis in the frame of quadrant 2.
   
    Next a translation axis is listed:
    AXIS_D0Q2S5 translation detector
        AXIS_D0Q2 . . . 34.5494875 -24.1901 0.0 89.68154 AXIS_D0Q2S5_ROT
    Here, in the frame of quadrant 2, we shift X by 34 and Y by -24
    millimeters, then rotate 89 degrees around the axis named AXIS_D0Q2S5_ROT.
   
    And so forth.
;
;

     loop_
    _diffrn_detector_axis.detector_id
    _diffrn_detector_axis.axis_id
    CSPAD_FRONT AXIS_DETECTOR_X
    CSPAD_FRONT AXIS_DETECTOR_Y
    CSPAD_FRONT AXIS_DETECTOR_Z
    CSPAD_FRONT AXIS_DETECTOR_PITCH
   
     loop_
    _diffrn_detector_element.id
    _diffrn_detector_element.detector_id
    ELE_D0Q0S0A0 CSPAD_FRONT
    ELE_D0Q0S0A1 CSPAD_FRONT
    ELE_D0Q0S1A0 CSPAD_FRONT
    ELE_D0Q0S1A1 CSPAD_FRONT
    ELE_D0Q0S2A0 CSPAD_FRONT
    ELE_D0Q0S2A1 CSPAD_FRONT
    ELE_D0Q0S3A0 CSPAD_FRONT
    ELE_D0Q0S3A1 CSPAD_FRONT
    ELE_D0Q0S4A0 CSPAD_FRONT
    ELE_D0Q0S4A1 CSPAD_FRONT
    ELE_D0Q0S5A0 CSPAD_FRONT
    ELE_D0Q0S5A1 CSPAD_FRONT
    ELE_D0Q0S6A0 CSPAD_FRONT
    ELE_D0Q0S6A1 CSPAD_FRONT
    ELE_D0Q0S7A0 CSPAD_FRONT
    ELE_D0Q0S7A1 CSPAD_FRONT
    ELE_D0Q1S0A0 CSPAD_FRONT
    ELE_D0Q1S0A1 CSPAD_FRONT
    ELE_D0Q1S1A0 CSPAD_FRONT
    ELE_D0Q1S1A1 CSPAD_FRONT
    ELE_D0Q1S2A0 CSPAD_FRONT
    ELE_D0Q1S2A1 CSPAD_FRONT
    ELE_D0Q1S3A0 CSPAD_FRONT
    ELE_D0Q1S3A1 CSPAD_FRONT
    ELE_D0Q1S4A0 CSPAD_FRONT
    ELE_D0Q1S4A1 CSPAD_FRONT
    ELE_D0Q1S5A0 CSPAD_FRONT
    ELE_D0Q1S5A1 CSPAD_FRONT
    ELE_D0Q1S6A0 CSPAD_FRONT
    ELE_D0Q1S6A1 CSPAD_FRONT
    ELE_D0Q1S7A0 CSPAD_FRONT
    ELE_D0Q1S7A1 CSPAD_FRONT
    ELE_D0Q2S0A0 CSPAD_FRONT
    ELE_D0Q2S0A1 CSPAD_FRONT
    ELE_D0Q2S1A0 CSPAD_FRONT
    ELE_D0Q2S1A1 CSPAD_FRONT
    ELE_D0Q2S2A0 CSPAD_FRONT
    ELE_D0Q2S2A1 CSPAD_FRONT
    ELE_D0Q2S3A0 CSPAD_FRONT
    ELE_D0Q2S3A1 CSPAD_FRONT
    ELE_D0Q2S4A0 CSPAD_FRONT
    ELE_D0Q2S4A1 CSPAD_FRONT
    ELE_D0Q2S5A0 CSPAD_FRONT
    ELE_D0Q2S5A1 CSPAD_FRONT
    ELE_D0Q2S6A0 CSPAD_FRONT
    ELE_D0Q2S6A1 CSPAD_FRONT
    ELE_D0Q2S7A0 CSPAD_FRONT
    ELE_D0Q2S7A1 CSPAD_FRONT
    ELE_D0Q3S0A0 CSPAD_FRONT
    ELE_D0Q3S0A1 CSPAD_FRONT
    ELE_D0Q3S1A0 CSPAD_FRONT
    ELE_D0Q3S1A1 CSPAD_FRONT
    ELE_D0Q3S2A0 CSPAD_FRONT
    ELE_D0Q3S2A1 CSPAD_FRONT
    ELE_D0Q3S3A0 CSPAD_FRONT
    ELE_D0Q3S3A1 CSPAD_FRONT
    ELE_D0Q3S4A0 CSPAD_FRONT
    ELE_D0Q3S4A1 CSPAD_FRONT
    ELE_D0Q3S5A0 CSPAD_FRONT
    ELE_D0Q3S5A1 CSPAD_FRONT
    ELE_D0Q3S6A0 CSPAD_FRONT
    ELE_D0Q3S6A1 CSPAD_FRONT
    ELE_D0Q3S7A0 CSPAD_FRONT
    ELE_D0Q3S7A1 CSPAD_FRONT
   
   
     loop_
    _axis.id
    _axis.type
    _axis.equipment
    _axis.depends_on
    _axis.vector[1]
    _axis.vector[2]
    _axis.vector[3]
    _axis.offset[1]
    _axis.offset[2]
    _axis.offset[3]
    _axis.rotation
    _axis.rotation_axis
    AXIS_SOURCE general source   . 0 0 1 . . . . .
    AXIS_GRAVITY general gravity . 0 -1 0 . . . . .
    AXIS_DETECTOR_Z translation detector
                                 . 0 0 1 0 0 0 . .
    AXIS_DETECTOR_Y translation detector
                   AXIS_DETECTOR_Z 0 1 0 0 0 0 . .
    AXIS_DETECTOR_X translation detector
                   AXIS_DETECTOR_Y 1 0 0 0 0 0 . .
    AXIS_DETECTOR_PITCH rotation detector
                   AXIS_DETECTOR_X 0 1 0 0 0 0 . .
    AXIS_DETECTOR_ROT rotation detector
               AXIS_DETECTOR_PITCH 0 0 1 0 0 0 . .
    AXIS_D0_ORIGIN translation detector
               AXIS_DETECTOR_PITCH 0 0 1 0 0 171.0104 . .
    AXIS_D0_ROT rotation detector
                    AXIS_D0_ORIGIN 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0 translation detector
                    AXIS_D0_ORIGIN . . . 0.0 0.0 0.0 0.0 AXIS_D0_ROT
    AXIS_D0Q0_ROT rotation detector
                           AXIS_D0 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0 translation detector
                           AXIS_D0 . . . -49.860765625 41.643353125 0.0
                                      0.0 AXIS_D0Q0_ROT
    AXIS_D0Q0S0_ROT rotation detector
                          AXIS_D0Q0 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q0S0 translation detector
                          AXIS_D0Q0 . . . 11.3696 -23.189925 0.0
                                      89.66181 AXIS_D0Q0S0_ROT
    AXIS_D0Q0S0A0_ROT rotation detector
                        AXIS_D0Q0S0 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S0A0 translation detector
                        AXIS_D0Q0S0 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q0S0A0_ROT
    AXIS_D0Q0S0A0_F translation detector
                      AXIS_D0Q0S0A0 1 0 0 0 0 0 . .
    AXIS_D0Q0S0A0_S translation detector
                      AXIS_D0Q0S0A0 0 1 0 0 0 0 . .
    AXIS_D0Q0S0A1_ROT rotation detector
                        AXIS_D0Q0S0 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S0A1 translation detector
                        AXIS_D0Q0S0 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q0S0A1_ROT
    AXIS_D0Q0S0A1_F translation detector
                      AXIS_D0Q0S0A1 1 0 0 0 0 0 . .
    AXIS_D0Q0S0A1_S translation detector
                      AXIS_D0Q0S0A1 0 1 0 0 0 0 . .
    AXIS_D0Q0S1_ROT rotation detector
                          AXIS_D0Q0 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q0S1 translation detector
                          AXIS_D0Q0 . . . 34.815 -23.309825 0.0
                                      90.00132 AXIS_D0Q0S1_ROT
    AXIS_D0Q0S1A0_ROT rotation detector
                        AXIS_D0Q0S1 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S1A0 translation detector
                        AXIS_D0Q0S1 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q0S1A0_ROT
    AXIS_D0Q0S1A0_F translation detector
                      AXIS_D0Q0S1A0 1 0 0 0 0 0 . .
    AXIS_D0Q0S1A0_S translation detector
                      AXIS_D0Q0S1A0 0 1 0 0 0 0 . .
    AXIS_D0Q0S1A1_ROT rotation detector
                        AXIS_D0Q0S1 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S1A1 translation detector
                        AXIS_D0Q0S1 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q0S1A1_ROT
    AXIS_D0Q0S1A1_F translation detector
                      AXIS_D0Q0S1A1 1 0 0 0 0 0 . .
    AXIS_D0Q0S1A1_S translation detector
                      AXIS_D0Q0S1A1 0 1 0 0 0 0 . .
    AXIS_D0Q0S2_ROT rotation detector
                          AXIS_D0Q0 -0.0 -0.0 -1.0 0 0 0 . .
    AXIS_D0Q0S2 translation detector
                          AXIS_D0Q0 . . . -23.5389 -10.921625 0.0
                                     359.68548 AXIS_D0Q0S2_ROT
    AXIS_D0Q0S2A0_ROT rotation detector
                        AXIS_D0Q0S2 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S2A0 translation detector
                        AXIS_D0Q0S2 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q0S2A0_ROT
    AXIS_D0Q0S2A0_F translation detector
                        AXIS_D0Q0S2A0 1 0 0 0 0 0 . .
    AXIS_D0Q0S2A0_S translation detector
                        AXIS_D0Q0S2A0 0 1 0 0 0 0 . .
    AXIS_D0Q0S2A1_ROT rotation detector
                        AXIS_D0Q0S2 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S2A1 translation detector
                        AXIS_D0Q0S2 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q0S2A1_ROT
    AXIS_D0Q0S2A1_F translation detector
                        AXIS_D0Q0S2A1 1 0 0 0 0 0 . .
    AXIS_D0Q0S2A1_S translation detector
                        AXIS_D0Q0S2A1 0 1 0 0 0 0 . .
    AXIS_D0Q0S3_ROT rotation detector
                        AXIS_D0Q0 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q0S3 translation detector
                        AXIS_D0Q0 . . . -23.5499 -34.181125 0.0
                                   359.96513 AXIS_D0Q0S3_ROT
    AXIS_D0Q0S3A0_ROT rotation detector
                        AXIS_D0Q0S3 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S3A0 translation detector
                        AXIS_D0Q0S3 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q0S3A0_ROT
    AXIS_D0Q0S3A0_F translation detector
                        AXIS_D0Q0S3A0 1 0 0 0 0 0 . .
    AXIS_D0Q0S3A0_S translation detector
                        AXIS_D0Q0S3A0 0 1 0 0 0 0 . .
    AXIS_D0Q0S3A1_ROT rotation detector
                        AXIS_D0Q0S3 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S3A1 translation detector
                        AXIS_D0Q0S3 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q0S3A1_ROT
    AXIS_D0Q0S3A1_F translation detector
                        AXIS_D0Q0S3A1 1 0 0 0 0 0 . .
    AXIS_D0Q0S3A1_S translation detector
                        AXIS_D0Q0S3A1 0 1 0 0 0 0 . .
    AXIS_D0Q0S4_ROT rotation detector
                        AXIS_D0Q0 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q0S4 translation detector
                        AXIS_D0Q0 . . . -11.2651 24.282775 0.0
                                   270.14738 AXIS_D0Q0S4_ROT
    AXIS_D0Q0S4A0_ROT rotation detector
                        AXIS_D0Q0S4 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S4A0 translation detector
                        AXIS_D0Q0S4 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q0S4A0_ROT
    AXIS_D0Q0S4A0_F translation detector
                        AXIS_D0Q0S4A0 1 0 0 0 0 0 . .
    AXIS_D0Q0S4A0_S translation detector
                        AXIS_D0Q0S4A0 0 1 0 0 0 0 . .
    AXIS_D0Q0S4A1_ROT rotation detector
                        AXIS_D0Q0S4 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S4A1 translation detector
                        AXIS_D0Q0S4 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q0S4A1_ROT
    AXIS_D0Q0S4A1_F translation detector
                        AXIS_D0Q0S4A1 1 0 0 0 0 0 . .
    AXIS_D0Q0S4A1_S translation detector
                        AXIS_D0Q0S4A1 0 1 0 0 0 0 . .
    AXIS_D0Q0S5_ROT rotation detector
                        AXIS_D0Q0 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q0S5 translation detector
                        AXIS_D0Q0 . . . -34.7336 24.169475 0.0
                                   270.07896 AXIS_D0Q0S5_ROT
    AXIS_D0Q0S5A0_ROT rotation detector
                        AXIS_D0Q0S5 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S5A0 translation detector
                        AXIS_D0Q0S5 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q0S5A0_ROT
    AXIS_D0Q0S5A0_F translation detector
                        AXIS_D0Q0S5A0 1 0 0 0 0 0 . .
    AXIS_D0Q0S5A0_S translation detector
                        AXIS_D0Q0S5A0 0 1 0 0 0 0 . .
    AXIS_D0Q0S5A1_ROT rotation detector
                        AXIS_D0Q0S5 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S5A1 translation detector
                        AXIS_D0Q0S5 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q0S5A1_ROT
    AXIS_D0Q0S5A1_F translation detector
                        AXIS_D0Q0S5A1 1 0 0 0 0 0 . .
    AXIS_D0Q0S5A1_S translation detector
                        AXIS_D0Q0S5A1 0 1 0 0 0 0 . .
    AXIS_D0Q0S6_ROT rotation detector
                        AXIS_D0Q0 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q0S6 translation detector
                        AXIS_D0Q0 . . . 23.5488 33.320375 0.0
                                   359.78222 AXIS_D0Q0S6_ROT
    AXIS_D0Q0S6A0_ROT rotation detector
                        AXIS_D0Q0S6 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S6A0 translation detector
                        AXIS_D0Q0S6 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q0S6A0_ROT
    AXIS_D0Q0S6A0_F translation detector
                        AXIS_D0Q0S6A0 1 0 0 0 0 0 . .
    AXIS_D0Q0S6A0_S translation detector
                        AXIS_D0Q0S6A0 0 1 0 0 0 0 . .
    AXIS_D0Q0S6A1_ROT rotation detector
                        AXIS_D0Q0S6 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S6A1 translation detector
                        AXIS_D0Q0S6 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q0S6A1_ROT
    AXIS_D0Q0S6A1_F translation detector
                        AXIS_D0Q0S6A1 1 0 0 0 0 0 . .
    AXIS_D0Q0S6A1_S translation detector
                        AXIS_D0Q0S6A1 0 1 0 0 0 0 . .
    AXIS_D0Q0S7_ROT rotation detector
                        AXIS_D0Q0 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q0S7 translation detector
                        AXIS_D0Q0 . . . 23.3541 9.829875 0.0
                                   359.89604 AXIS_D0Q0S7_ROT
    AXIS_D0Q0S7A0_ROT rotation detector
                        AXIS_D0Q0S7 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S7A0 translation detector
                        AXIS_D0Q0S7 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q0S7A0_ROT
    AXIS_D0Q0S7A0_F translation detector
                        AXIS_D0Q0S7A0 1 0 0 0 0 0 . .
    AXIS_D0Q0S7A0_S translation detector
                        AXIS_D0Q0S7A0 0 1 0 0 0 0 . .
    AXIS_D0Q0S7A1_ROT rotation detector
                        AXIS_D0Q0S7 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q0S7A1 translation detector
                        AXIS_D0Q0S7 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q0S7A1_ROT
    AXIS_D0Q0S7A1_F translation detector
                        AXIS_D0Q0S7A1 1 0 0 0 0 0 . .
    AXIS_D0Q0S7A1_S translation detector
                        AXIS_D0Q0S7A1 0 1 0 0 0 0 . .
    AXIS_D0Q1_ROT rotation detector
                        AXIS_D0 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1 translation detector
                        AXIS_D0 . . . 41.512521875 50.149653125 0.0
                                   0.0 AXIS_D0Q1_ROT
    AXIS_D0Q1S0_ROT rotation detector
                        AXIS_D0Q1 -0.0 -0.0 -1.0 0 0 0 . .
    AXIS_D0Q1S0 translation detector
                        AXIS_D0Q1 . . . -23.1589875 -11.451825 0.0
                                     0.27238 AXIS_D0Q1S0_ROT
    AXIS_D0Q1S0A0_ROT rotation detector
                        AXIS_D0Q1S0 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S0A0 translation detector
                        AXIS_D0Q1S0 . . . -10.835 0.0 0.0
                                       0.0 AXIS_D0Q1S0A0_ROT
    AXIS_D0Q1S0A0_F translation detector
                        AXIS_D0Q1S0A0 1 0 0 0 0 0 . .
    AXIS_D0Q1S0A0_S translation detector
                        AXIS_D0Q1S0A0 0 1 0 0 0 0 . .
    AXIS_D0Q1S0A1_ROT rotation detector
                        AXIS_D0Q1S0 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S0A1 translation detector
                        AXIS_D0Q1S0 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q1S0A1_ROT
    AXIS_D0Q1S0A1_F translation detector
                        AXIS_D0Q1S0A1 1 0 0 0 0 0 . .
    AXIS_D0Q1S0A1_S translation detector
                        AXIS_D0Q1S0A1 0 1 0 0 0 0 . .
    AXIS_D0Q1S1_ROT rotation detector
                        AXIS_D0Q1 -0.0 -0.0 -1.0 0 0 0 . .
    AXIS_D0Q1S1 translation detector
                        AXIS_D0Q1 . . . -23.2073875 -34.782825 0.0
                                     0.00525999986641 AXIS_D0Q1S1_ROT
    AXIS_D0Q1S1A0_ROT rotation detector
                        AXIS_D0Q1S1 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S1A0 translation detector
                        AXIS_D0Q1S1 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q1S1A0_ROT
    AXIS_D0Q1S1A0_F translation detector
                        AXIS_D0Q1S1A0 1 0 0 0 0 0 . .
    AXIS_D0Q1S1A0_S translation detector
                        AXIS_D0Q1S1A0 0 1 0 0 0 0 . .
    AXIS_D0Q1S1A1_ROT rotation detector
                        AXIS_D0Q1S1 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S1A1 translation detector
                        AXIS_D0Q1S1 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q1S1A1_ROT
    AXIS_D0Q1S1A1_F translation detector
                        AXIS_D0Q1S1A1 1 0 0 0 0 0 . .
    AXIS_D0Q1S1A1_S translation detector
                        AXIS_D0Q1S1A1 0 1 0 0 0 0 . .
    AXIS_D0Q1S2_ROT rotation detector
                        AXIS_D0Q1 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q1S2 translation detector
                        AXIS_D0Q1 . . . -10.7311875 23.286175 0.0
                                   270.02545 AXIS_D0Q1S2_ROT
    AXIS_D0Q1S2A0_ROT rotation detector
                        AXIS_D0Q1S2 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S2A0 translation detector
                        AXIS_D0Q1S2 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q1S2A0_ROT
    AXIS_D0Q1S2A0_F translation detector
                        AXIS_D0Q1S2A0 1 0 0 0 0 0 . .
    AXIS_D0Q1S2A0_S translation detector
                        AXIS_D0Q1S2A0 0 1 0 0 0 0 . .
    AXIS_D0Q1S2A1_ROT rotation detector
                        AXIS_D0Q1S2 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S2A1 translation detector
                        AXIS_D0Q1S2 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q1S2A1_ROT
    AXIS_D0Q1S2A1_F translation detector
                        AXIS_D0Q1S2A1 1 0 0 0 0 0 . .
    AXIS_D0Q1S2A1_S translation detector
                        AXIS_D0Q1S2A1 0 1 0 0 0 0 . .
    AXIS_D0Q1S3_ROT rotation detector
                        AXIS_D0Q1 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q1S3 translation detector
                        AXIS_D0Q1 . . . -34.1402875 23.344475 0.0
                                   270.03066 AXIS_D0Q1S3_ROT
    AXIS_D0Q1S3A0_ROT rotation detector
                        AXIS_D0Q1S3 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S3A0 translation detector
                        AXIS_D0Q1S3 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q1S3A0_ROT
    AXIS_D0Q1S3A0_F translation detector
                        AXIS_D0Q1S3A0 1 0 0 0 0 0 . .
    AXIS_D0Q1S3A0_S translation detector
                        AXIS_D0Q1S3A0 0 1 0 0 0 0 . .
    AXIS_D0Q1S3A1_ROT rotation detector
                        AXIS_D0Q1S3 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S3A1 translation detector
                        AXIS_D0Q1S3 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q1S3A1_ROT
    AXIS_D0Q1S3A1_F translation detector
                        AXIS_D0Q1S3A1 1 0 0 0 0 0 . .
    AXIS_D0Q1S3A1_S translation detector
                        AXIS_D0Q1S3A1 0 1 0 0 0 0 . .
    AXIS_D0Q1S4_ROT rotation detector
                        AXIS_D0Q1 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q1S4 translation detector
                        AXIS_D0Q1 . . . 24.0035125 11.407275 0.0
                                    179.96381 AXIS_D0Q1S4_ROT
    AXIS_D0Q1S4A0_ROT rotation detector
                        AXIS_D0Q1S4 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S4A0 translation detector
                        AXIS_D0Q1S4 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q1S4A0_ROT
    AXIS_D0Q1S4A0_F translation detector
                        AXIS_D0Q1S4A0 1 0 0 0 0 0 . .
    AXIS_D0Q1S4A0_S translation detector
                        AXIS_D0Q1S4A0 0 1 0 0 0 0 . .
    AXIS_D0Q1S4A1_ROT rotation detector
                        AXIS_D0Q1S4 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S4A1 translation detector
                        AXIS_D0Q1S4 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q1S4A1_ROT
    AXIS_D0Q1S4A1_F translation detector
                        AXIS_D0Q1S4A1 1 0 0 0 0 0 . .
    AXIS_D0Q1S4A1_S translation detector
                        AXIS_D0Q1S4A1 0 1 0 0 0 0 . .
    AXIS_D0Q1S5_ROT rotation detector
                        AXIS_D0Q1 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q1S5 translation detector
                        AXIS_D0Q1 . . . 24.0035125 34.876875 0.0
                                   180.02434 AXIS_D0Q1S5_ROT
    AXIS_D0Q1S5A0_ROT rotation detector
                        AXIS_D0Q1S5 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S5A0 translation detector
                        AXIS_D0Q1S5 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q1S5A0_ROT
    AXIS_D0Q1S5A0_F translation detector
                        AXIS_D0Q1S5A0 1 0 0 0 0 0 . .
    AXIS_D0Q1S5A0_S translation detector
                        AXIS_D0Q1S5A0 0 1 0 0 0 0 . .
    AXIS_D0Q1S5A1_ROT rotation detector
                        AXIS_D0Q1S5 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S5A1 translation detector
                        AXIS_D0Q1S5 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q1S5A1_ROT
    AXIS_D0Q1S5A1_F translation detector
                        AXIS_D0Q1S5A1 1 0 0 0 0 0 . .
    AXIS_D0Q1S5A1_S translation detector
                        AXIS_D0Q1S5A1 0 1 0 0 0 0 . .
    AXIS_D0Q1S6_ROT rotation detector
                        AXIS_D0Q1 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q1S6 translation detector
                        AXIS_D0Q1 . . . 33.2523125 -23.321925 0.0
                                   270.08027 AXIS_D0Q1S6_ROT
    AXIS_D0Q1S6A0_ROT rotation detector
                        AXIS_D0Q1S6 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S6A0 translation detector
                        AXIS_D0Q1S6 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q1S6A0_ROT
    AXIS_D0Q1S6A0_F translation detector
                        AXIS_D0Q1S6A0 1 0 0 0 0 0 . .
    AXIS_D0Q1S6A0_S translation detector
                        AXIS_D0Q1S6A0 0 1 0 0 0 0 . .
    AXIS_D0Q1S6A1_ROT rotation detector
                        AXIS_D0Q1S6 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S6A1 translation detector
                        AXIS_D0Q1S6 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q1S6A1_ROT
    AXIS_D0Q1S6A1_F translation detector
                        AXIS_D0Q1S6A1 1 0 0 0 0 0 . .
    AXIS_D0Q1S6A1_S translation detector
                        AXIS_D0Q1S6A1 0 1 0 0 0 0 . .
    AXIS_D0Q1S7_ROT rotation detector
                        AXIS_D0Q1 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q1S7 translation detector
                        AXIS_D0Q1 . . . 9.9785125 -23.358225 0.0
                                   270.15067 AXIS_D0Q1S7_ROT
    AXIS_D0Q1S7A0_ROT rotation detector
                        AXIS_D0Q1S7 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S7A0 translation detector
                        AXIS_D0Q1S7 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q1S7A0_ROT
    AXIS_D0Q1S7A0_F translation detector
                        AXIS_D0Q1S7A0 1 0 0 0 0 0 . .
    AXIS_D0Q1S7A0_S translation detector
                        AXIS_D0Q1S7A0 0 1 0 0 0 0 . .
    AXIS_D0Q1S7A1_ROT rotation detector
                        AXIS_D0Q1S7 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q1S7A1 translation detector
                        AXIS_D0Q1S7 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q1S7A1_ROT
    AXIS_D0Q1S7A1_F translation detector
                        AXIS_D0Q1S7A1 1 0 0 0 0 0 . .
    AXIS_D0Q1S7A1_S translation detector
                        AXIS_D0Q1S7A1 0 1 0 0 0 0 . .
    AXIS_D0Q2_ROT rotation detector
                        AXIS_D0 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2 translation detector
                        AXIS_D0 . . . 49.596146875 -41.351371875 0.0
                                   0.0 AXIS_D0Q2_ROT
    AXIS_D0Q2S0_ROT rotation detector
                        AXIS_D0Q2 -0.0 -0.0 -1.0 0 0 0 . .
    AXIS_D0Q2S0 translation detector
                        AXIS_D0Q2 . . . -11.3150125 23.1242 0.0
                                    90.04803 AXIS_D0Q2S0_ROT
    AXIS_D0Q2S0A0_ROT rotation detector
                        AXIS_D0Q2S0 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S0A0 translation detector
                        AXIS_D0Q2S0 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q2S0A0_ROT
    AXIS_D0Q2S0A0_F translation detector
                        AXIS_D0Q2S0A0 1 0 0 0 0 0 . .
    AXIS_D0Q2S0A0_S translation detector
                        AXIS_D0Q2S0A0 0 1 0 0 0 0 . .
    AXIS_D0Q2S0A1_ROT rotation detector
                        AXIS_D0Q2S0 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S0A1 translation detector
                        AXIS_D0Q2S0 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q2S0A1_ROT
    AXIS_D0Q2S0A1_F translation detector
                        AXIS_D0Q2S0A1 1 0 0 0 0 0 . .
    AXIS_D0Q2S0A1_S translation detector
                        AXIS_D0Q2S0A1 0 1 0 0 0 0 . .
    AXIS_D0Q2S1_ROT rotation detector
                        AXIS_D0Q2 -0.0 -0.0 -1.0 0 0 0 . .
    AXIS_D0Q2S1 translation detector
                        AXIS_D0Q2 . . . -34.6999125 23.155 0.0
                                    90.00592 AXIS_D0Q2S1_ROT
    AXIS_D0Q2S1A0_ROT rotation detector
                        AXIS_D0Q2S1 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S1A0 translation detector
                        AXIS_D0Q2S1 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q2S1A0_ROT
    AXIS_D0Q2S1A0_F translation detector
                        AXIS_D0Q2S1A0 1 0 0 0 0 0 . .
    AXIS_D0Q2S1A0_S translation detector
                        AXIS_D0Q2S1A0 0 1 0 0 0 0 . .
    AXIS_D0Q2S1A1_ROT rotation detector
                        AXIS_D0Q2S1 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S1A1 translation detector
                        AXIS_D0Q2S1 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q2S1A1_ROT
    AXIS_D0Q2S1A1_F translation detector
                        AXIS_D0Q2S1A1 1 0 0 0 0 0 . .
    AXIS_D0Q2S1A1_S translation detector
                        AXIS_D0Q2S1A1 0 1 0 0 0 0 . .
    AXIS_D0Q2S2_ROT rotation detector
                        AXIS_D0Q2 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q2S2 translation detector
                        AXIS_D0Q2 . . . 23.4746875 10.7811 0.0
                                    180.11318 AXIS_D0Q2S2_ROT
    AXIS_D0Q2S2A0_ROT rotation detector
                        AXIS_D0Q2S2 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S2A0 translation detector
                        AXIS_D0Q2S2 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q2S2A0_ROT
    AXIS_D0Q2S2A0_F translation detector
                        AXIS_D0Q2S2A0 1 0 0 0 0 0 . .
    AXIS_D0Q2S2A0_S translation detector
                        AXIS_D0Q2S2A0 0 1 0 0 0 0 . .
    AXIS_D0Q2S2A1_ROT rotation detector
                        AXIS_D0Q2S2 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S2A1 translation detector
                        AXIS_D0Q2S2 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q2S2A1_ROT
    AXIS_D0Q2S2A1_F translation detector
                        AXIS_D0Q2S2A1 1 0 0 0 0 0 . .
    AXIS_D0Q2S2A1_S translation detector
                        AXIS_D0Q2S2A1 0 1 0 0 0 0 . .
    AXIS_D0Q2S3_ROT rotation detector
                        AXIS_D0Q2 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q2S3 translation detector
                        AXIS_D0Q2 . . . 23.6220875 34.2221 0.0
                                   179.92104 AXIS_D0Q2S3_ROT
    AXIS_D0Q2S3A0_ROT rotation detector
                        AXIS_D0Q2S3 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S3A0 translation detector
                        AXIS_D0Q2S3 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q2S3A0_ROT
    AXIS_D0Q2S3A0_F translation detector
                        AXIS_D0Q2S3A0 1 0 0 0 0 0 . .
    AXIS_D0Q2S3A0_S translation detector
                        AXIS_D0Q2S3A0 0 1 0 0 0 0 . .
    AXIS_D0Q2S3A1_ROT rotation detector
                        AXIS_D0Q2S3 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S3A1 translation detector
                        AXIS_D0Q2S3 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q2S3A1_ROT
    AXIS_D0Q2S3A1_F translation detector
                        AXIS_D0Q2S3A1 1 0 0 0 0 0 . .
    AXIS_D0Q2S3A1_S translation detector
                        AXIS_D0Q2S3A1 0 1 0 0 0 0 . .
    AXIS_D0Q2S4_ROT rotation detector
                        AXIS_D0Q2 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q2S4 translation detector
                        AXIS_D0Q2 . . . 11.1953875 -23.9954 0.0
                                      89.63875 AXIS_D0Q2S4_ROT
    AXIS_D0Q2S4A0_ROT rotation detector
                        AXIS_D0Q2S4 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S4A0 translation detector
                        AXIS_D0Q2S4 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q2S4A0_ROT
    AXIS_D0Q2S4A0_F translation detector
                        AXIS_D0Q2S4A0 1 0 0 0 0 0 . .
    AXIS_D0Q2S4A0_S translation detector
                        AXIS_D0Q2S4A0 0 1 0 0 0 0 . .
    AXIS_D0Q2S4A1_ROT rotation detector
                        AXIS_D0Q2S4 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S4A1 translation detector
                        AXIS_D0Q2S4 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q2S4A1_ROT
    AXIS_D0Q2S4A1_F translation detector
                        AXIS_D0Q2S4A1 1 0 0 0 0 0 . .
    AXIS_D0Q2S4A1_S translation detector
                        AXIS_D0Q2S4A1 0 1 0 0 0 0 . .
    AXIS_D0Q2S5_ROT rotation detector
                        AXIS_D0Q2 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q2S5 translation detector
                        AXIS_D0Q2 . . . 34.5494875 -24.1901 0.0
                                    89.68154 AXIS_D0Q2S5_ROT
    AXIS_D0Q2S5A0_ROT rotation detector
                        AXIS_D0Q2S5 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S5A0 translation detector
                        AXIS_D0Q2S5 . . . -10.835 0.0 0.0
                                       0.0 AXIS_D0Q2S5A0_ROT
    AXIS_D0Q2S5A0_F translation detector
                        AXIS_D0Q2S5A0 1 0 0 0 0 0 . .
    AXIS_D0Q2S5A0_S translation detector
                        AXIS_D0Q2S5A0 0 1 0 0 0 0 . .
    AXIS_D0Q2S5A1_ROT rotation detector
                        AXIS_D0Q2S5 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S5A1 translation detector
                        AXIS_D0Q2S5 . . . 10.835 0.0 0.0
                                       0.0 AXIS_D0Q2S5A1_ROT
    AXIS_D0Q2S5A1_F translation detector
                        AXIS_D0Q2S5A1 1 0 0 0 0 0 . .
    AXIS_D0Q2S5A1_S translation detector
                        AXIS_D0Q2S5A1 0 1 0 0 0 0 . .
    AXIS_D0Q2S6_ROT rotation detector
                        AXIS_D0Q2 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q2S6 translation detector
                        AXIS_D0Q2 . . . -23.4854125 -33.2552 0.0
                                   179.83473 AXIS_D0Q2S6_ROT
    AXIS_D0Q2S6A0_ROT rotation detector
                        AXIS_D0Q2S6 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S6A0 translation detector
                        AXIS_D0Q2S6 . . . -10.835 0.0 0.0
                                       0.0 AXIS_D0Q2S6A0_ROT
    AXIS_D0Q2S6A0_F translation detector
                        AXIS_D0Q2S6A0 1 0 0 0 0 0 . .
    AXIS_D0Q2S6A0_S translation detector
                        AXIS_D0Q2S6A0 0 1 0 0 0 0 . .
    AXIS_D0Q2S6A1_ROT rotation detector
                        AXIS_D0Q2S6 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S6A1 translation detector
                        AXIS_D0Q2S6 . . . 10.835 0.0 0.0
                                       0.0 AXIS_D0Q2S6A1_ROT
    AXIS_D0Q2S6A1_F translation detector
                        AXIS_D0Q2S6A1 1 0 0 0 0 0 . .
    AXIS_D0Q2S6A1_S translation detector
                        AXIS_D0Q2S6A1 0 1 0 0 0 0 . .
    AXIS_D0Q2S7_ROT rotation detector
                        AXIS_D0Q2 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q2S7 translation detector
                        AXIS_D0Q2 . . . -23.3413125 -9.8417 0.0
                                   180.092 AXIS_D0Q2S7_ROT
    AXIS_D0Q2S7A0_ROT rotation detector
                        AXIS_D0Q2S7 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S7A0 translation detector
                        AXIS_D0Q2S7 . . . -10.835 0.0 0.0
                                       0.0 AXIS_D0Q2S7A0_ROT
    AXIS_D0Q2S7A0_F translation detector
                        AXIS_D0Q2S7A0 1 0 0 0 0 0 . .
    AXIS_D0Q2S7A0_S translation detector
                        AXIS_D0Q2S7A0 0 1 0 0 0 0 . .
    AXIS_D0Q2S7A1_ROT rotation detector
                        AXIS_D0Q2S7 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q2S7A1 translation detector
                        AXIS_D0Q2S7 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q2S7A1_ROT
    AXIS_D0Q2S7A1_F translation detector
                        AXIS_D0Q2S7A1 1 0 0 0 0 0 . .
    AXIS_D0Q2S7A1_S translation detector
                        AXIS_D0Q2S7A1 0 1 0 0 0 0 . .
    AXIS_D0Q3_ROT rotation detector
                        AXIS_D0 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3 translation detector
                        AXIS_D0 . . . -41.247903125 -50.441634375 0.0
                                   0.0 AXIS_D0Q3_ROT
    AXIS_D0Q3S0_ROT rotation detector
                        AXIS_D0Q3 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q3S0 translation detector
                        AXIS_D0Q3 . . . 23.1056375 11.6367625 0.0
                                   180.12436 AXIS_D0Q3S0_ROT
    AXIS_D0Q3S0A0_ROT rotation detector
                        AXIS_D0Q3S0 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S0A0 translation detector
                        AXIS_D0Q3S0 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q3S0A0_ROT
    AXIS_D0Q3S0A0_F translation detector
                        AXIS_D0Q3S0A0 1 0 0 0 0 0 . .
    AXIS_D0Q3S0A0_S translation detector
                        AXIS_D0Q3S0A0 0 1 0 0 0 0 . .
    AXIS_D0Q3S0A1_ROT rotation detector
                        AXIS_D0Q3S0 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S0A1 translation detector
                        AXIS_D0Q3S0 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q3S0A1_ROT
    AXIS_D0Q3S0A1_F translation detector
                        AXIS_D0Q3S0A1 1 0 0 0 0 0 . .
    AXIS_D0Q3S0A1_S translation detector
                        AXIS_D0Q3S0A1 0 1 0 0 0 0 . .
    AXIS_D0Q3S1_ROT rotation detector
                        AXIS_D0Q3 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q3S1 translation detector
                        AXIS_D0Q3 . . . 23.1298375 34.9864625 0.0
                                   180.00263 AXIS_D0Q3S1_ROT
    AXIS_D0Q3S1A0_ROT rotation detector
                        AXIS_D0Q3S1 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S1A0 translation detector
                        AXIS_D0Q3S1 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q3S1A0_ROT
    AXIS_D0Q3S1A0_F translation detector
                        AXIS_D0Q3S1A0 1 0 0 0 0 0 . .
    AXIS_D0Q3S1A0_S translation detector
                        AXIS_D0Q3S1A0 0 1 0 0 0 0 . .
    AXIS_D0Q3S1A1_ROT rotation detector
                        AXIS_D0Q3S1 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S1A1 translation detector
                        AXIS_D0Q3S1 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q3S1A1_ROT
    AXIS_D0Q3S1A1_F translation detector
                        AXIS_D0Q3S1A1 1 0 0 0 0 0 . .
    AXIS_D0Q3S1A1_S translation detector
                        AXIS_D0Q3S1A1 0 1 0 0 0 0 . .
    AXIS_D0Q3S2_ROT rotation detector
                        AXIS_D0Q3 -0.0 -0.0 -1.0 0 0 0 . .
    AXIS_D0Q3S2 translation detector
                        AXIS_D0Q3 . . . 10.9572375 -23.5830375 0.0
                                   269.55191 AXIS_D0Q3S2_ROT
    AXIS_D0Q3S2A0_ROT rotation detector
                        AXIS_D0Q3S2 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S2A0 translation detector
                        AXIS_D0Q3S2 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q3S2A0_ROT
    AXIS_D0Q3S2A0_F translation detector
                        AXIS_D0Q3S2A0 1 0 0 0 0 0 . .
    AXIS_D0Q3S2A0_S translation detector
                        AXIS_D0Q3S2A0 0 1 0 0 0 0 . .
    AXIS_D0Q3S2A1_ROT rotation detector
                        AXIS_D0Q3S2 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S2A1 translation detector
                        AXIS_D0Q3S2 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q3S2A1_ROT
    AXIS_D0Q3S2A1_F translation detector
                        AXIS_D0Q3S2A1 1 0 0 0 0 0 . .
    AXIS_D0Q3S2A1_S translation detector
                        AXIS_D0Q3S2A1 0 1 0 0 0 0 . .
    AXIS_D0Q3S3_ROT rotation detector
                        AXIS_D0Q3 -0.0 -0.0 -1.0 0 0 0 . .
    AXIS_D0Q3S3 translation detector
                        AXIS_D0Q3 . . . 34.4180375 -23.4818375 0.0
                                   269.74206 AXIS_D0Q3S3_ROT
    AXIS_D0Q3S3A0_ROT rotation detector
                        AXIS_D0Q3S3 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S3A0 translation detector
                        AXIS_D0Q3S3 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q3S3A0_ROT
    AXIS_D0Q3S3A0_F translation detector
                        AXIS_D0Q3S3A0 1 0 0 0 0 0 . .
    AXIS_D0Q3S3A0_S translation detector
                        AXIS_D0Q3S3A0 0 1 0 0 0 0 . .
    AXIS_D0Q3S3A1_ROT rotation detector
                        AXIS_D0Q3S3 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S3A1 translation detector
                        AXIS_D0Q3S3 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q3S3A1_ROT
    AXIS_D0Q3S3A1_F translation detector
                        AXIS_D0Q3S3A1 1 0 0 0 0 0 . .
    AXIS_D0Q3S3A1_S translation detector
                        AXIS_D0Q3S3A1 0 1 0 0 0 0 . .
    AXIS_D0Q3S4_ROT rotation detector
                        AXIS_D0Q3 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q3S4 translation detector
                        AXIS_D0Q3 . . . -24.1283625 -11.5336375 0.0
                                   359.81971 AXIS_D0Q3S4_ROT
    AXIS_D0Q3S4A0_ROT rotation detector
                        AXIS_D0Q3S4 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S4A0 translation detector
                        AXIS_D0Q3S4 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q3S4A0_ROT
    AXIS_D0Q3S4A0_F translation detector
                        AXIS_D0Q3S4A0 1 0 0 0 0 0 . .
    AXIS_D0Q3S4A0_S translation detector
                        AXIS_D0Q3S4A0 0 1 0 0 0 0 . .
    AXIS_D0Q3S4A1_ROT rotation detector
                        AXIS_D0Q3S4 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S4A1 translation detector
                        AXIS_D0Q3S4 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q3S4A1_ROT
    AXIS_D0Q3S4A1_F translation detector
                        AXIS_D0Q3S4A1 1 0 0 0 0 0 . .
    AXIS_D0Q3S4A1_S translation detector
                        AXIS_D0Q3S4A1 0 1 0 0 0 0 . .
    AXIS_D0Q3S5_ROT rotation detector
                        AXIS_D0Q3 0.0 0.0 1.0 0 0 0 . .
    AXIS_D0Q3S5 translation detector
                        AXIS_D0Q3 . . . -24.1701625 -34.9548375 0.0
                                   359.99883 AXIS_D0Q3S5_ROT
    AXIS_D0Q3S5A0_ROT rotation detector
                        AXIS_D0Q3S5 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S5A0 translation detector
                        AXIS_D0Q3S5 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q3S5A0_ROT
    AXIS_D0Q3S5A0_F translation detector
                        AXIS_D0Q3S5A0 1 0 0 0 0 0 . .
    AXIS_D0Q3S5A0_S translation detector
                        AXIS_D0Q3S5A0 0 1 0 0 0 0 . .
    AXIS_D0Q3S5A1_ROT rotation detector
                        AXIS_D0Q3S5 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S5A1 translation detector
                        AXIS_D0Q3S5 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q3S5A1_ROT
    AXIS_D0Q3S5A1_F translation detector
                        AXIS_D0Q3S5A1 1 0 0 0 0 0 . .
    AXIS_D0Q3S5A1_S translation detector
                        AXIS_D0Q3S5A1 0 1 0 0 0 0 . .
    AXIS_D0Q3S6_ROT rotation detector
                        AXIS_D0Q3 -0.0 -0.0 -1.0 0 0 0 . .
    AXIS_D0Q3S6 translation detector
                        AXIS_D0Q3 . . . -33.3089625 23.4474625 0.0
                                   269.67299 AXIS_D0Q3S6_ROT
    AXIS_D0Q3S6A0_ROT rotation detector
                        AXIS_D0Q3S6 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S6A0 translation detector
                        AXIS_D0Q3S6 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q3S6A0_ROT
    AXIS_D0Q3S6A0_F translation detector
                        AXIS_D0Q3S6A0 1 0 0 0 0 0 . .
    AXIS_D0Q3S6A0_S translation detector
                        AXIS_D0Q3S6A0 0 1 0 0 0 0 . .
    AXIS_D0Q3S6A1_ROT rotation detector
                        AXIS_D0Q3S6 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S6A1 translation detector
                        AXIS_D0Q3S6 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q3S6A1_ROT
    AXIS_D0Q3S6A1_F translation detector
                        AXIS_D0Q3S6A1 1 0 0 0 0 0 . .
    AXIS_D0Q3S6A1_S translation detector
                        AXIS_D0Q3S6A1 0 1 0 0 0 0 . .
    AXIS_D0Q3S7_ROT rotation detector
                        AXIS_D0Q3 -0.0 -0.0 -1.0 0 0 0 . .
    AXIS_D0Q3S7 translation detector
                        AXIS_D0Q3 . . . -10.0032625 23.4826625 0.0
                                   269.67561 AXIS_D0Q3S7_ROT
    AXIS_D0Q3S7A0_ROT rotation detector
                        AXIS_D0Q3S7 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S7A0 translation detector
                        AXIS_D0Q3S7 . . . -10.835 0.0 0.0 0.0 AXIS_D0Q3S7A0_ROT
    AXIS_D0Q3S7A0_F translation detector
                        AXIS_D0Q3S7A0 1 0 0 0 0 0 . .
    AXIS_D0Q3S7A0_S translation detector
                        AXIS_D0Q3S7A0 0 1 0 0 0 0 . .
    AXIS_D0Q3S7A1_ROT rotation detector
                        AXIS_D0Q3S7 0.0 0.0 0.0 0 0 0 . .
    AXIS_D0Q3S7A1 translation detector
                        AXIS_D0Q3S7 . . . 10.835 0.0 0.0 0.0 AXIS_D0Q3S7A1_ROT
    AXIS_D0Q3S7A1_F translation detector
                        AXIS_D0Q3S7A1 1 0 0 0 0 0 . .
    AXIS_D0Q3S7A1_S translation detector
                        AXIS_D0Q3S7A1 0 1 0 0 0 0 . .
   
;
   
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
     
#####################
# DIFFRN_DATA_FRAME #
#####################

    _category.NX_mapping_details
;
   
    _diffrn_data_frame.array_id ARRAYID
    _diffrn_data_frame.array_section_id SECTIONID
    _diffrn_data_frame.binary_id BINID
    _diffrn_data_frame.center_fast CENF
    _diffrn_data_frame.center_slow CENS
    _diffrn_data_frame.center_units UNITS
    _diffrn_data_frame.detector_element_id ELEMENTID
    _diffrn_data_frame.id FRAMEID
    _diffrn_data_frame.details DETAILS

    -->
   
    /entry:NXentry
      /instrument:NXinstrument
       /DETECTORNAME:NXdetector_group
       /DETECTORELEMENTNAME:NXdetector
          /CBF_diffrn_data_frame__section_id=[SECTIONIDARRAY]
          /CBF_diffrn_data_frame__binary_id=[BINARYIDARRAY]
          /CBF_diffrn_data_frame__center_fast_slow=[CENTERARRAY]
            @units="UNITS"
          /CBF_diffrn_data_frame__details=["DETAILSARRAY"]

    inserts either ARRAYID (if not SECTIONID is specified or the SECTIONID
    into the element of SECTIONIDARRY for this frame and for this detector element (see below)

    inserts BINID
    into the element of BINARYIDARRAY for this frame and for this detector element (see below)

    inserts CENF
    into the element of CENTERARRAY for this frame, for this detector element
    and for the fast center (see below)

    inserts CENS
    into element of CENTERARRAY for this frame, for this detector element
    and for the slow center (see below)

    only one CENTERARRY unit is provided.  If there is variation, the values in
    CENTERARRAY should be rescaled to uniform units.

    _diffrn_data_frame.detector_element_id ELEMENTID -->
    ELEMENTID used to index into the arrays of this category by the ordinal of
    the matching ELEMENTID in DIFFRN_DETECTOR_ELEMENT__id for the fast index
   
    FRAMEID used to index into the arrays of this category by the ordinal of
    the matching ELEMENTID in DIFFRN_DETECTOR_ELEMENT__id for the slow index
    by matching FRAMEID against _diffrn_scan_frame.frame_id and using
    _diffrn_scan_frame.frame_number from the same row.
   
    inserts DETAILS
    into the element of DETAILSARRAY for this frame and for this detector element (see below)

    The arrays created in the mapping have a slow index of the number of frames
    and a fast index of the number of detector elements.  There is a middle index
    for CENTERARRAY in the order fast and then slow.

;

  # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;   Example 1 - A frame containing data from 4 frame elements.
                Each frame element has a common array configuration
                'array_1' described in ARRAY_STRUCTURE and related
                categories.  The data for each detector element are
                stored in four groups of binary data in the
                ARRAY_DATA category, linked by the array_id and
                binary_id.
;
;
        loop_
        _diffrn_data_frame.id
        _diffrn_data_frame.detector_element_id
        _diffrn_data_frame.array_id
        _diffrn_data_frame.binary_id
        frame_1   d1_ccd_1  array_1  1
        frame_1   d1_ccd_2  array_1  2
        frame_1   d1_ccd_3  array_1  3
        frame_1   d1_ccd_4  array_1  4
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

    
##########################################################################
#  The following is a restatement of the mmCIF DIFFRN_DETECTOR,          #
#  DIFFRN_MEASUREMENT and DIFFRN_RADIATION categories, modified for      #
#  the CBF/imgCIF extensions                                             #
##########################################################################

###################
# DIFFRN_DETECTOR #
###################

    _category.NX_mapping_details
;
   
    _diffrn_detector.diffrn_id DIFFRNID
    _diffrn_detector.id DETECTORNAME
    _diffrn_detector.details DETAILS
    _diffrn_detector.detector DETECTOR
    _diffrn_detector.dtime DTIME
    _diffrn_detector.gain_setting GAINSETTING
    _diffrn_detector.number_of_axes NAXES
    _diffrn_detector.type DETTYPE
   
    -->
   
      /entry:NXentry
        /CBF_scan_id="SCANID"
        /CBF_diffrn_id="DIFFRNID"
          /instrument:NXinstrument
           /DETECTORNAME:NXdetector_group
           /DETECTORELEMENTNAME:NXdetector
              /details="DETAILS"
              /type="DETECTOR"
              /deadtime=DTIME
              /number_of_axes=NAXES
              /decription="DETTYPE"
              /gain_setting="GAINSETTING"
   
;

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;   Example 1 - based on PDB entry 5HVP and laboratory records for the
                structure corresponding to PDB entry 5HVP.
;
;
    _diffrn_detector.diffrn_id             'd1'
    _diffrn_detector.detector              'multiwire'
    _diffrn_detector.type                  'Siemens'
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

     
########################
# DIFFRN_DETECTOR_AXIS #
########################


    _category.NX_mapping_details
;
   
    _diffrn_detector_axis.axis_id AXISID -->
    _diffrn_detector_axis.detector_id DETECTORNAME -->
        /instrument:NXinstrument
         /DETECTORNAME:NXdetector_group
         /DETECTORELEMENTNAME:NXdetector
            /transformations:NXtransformations
              /AXISID=[]

This information normally will duplicate information obtained from
the ARRAY_STRUCTURE_LIST_AXIS.

;

    
###########################
# DIFFRN_DETECTOR_ELEMENT #
###########################

    _category.NX_mapping_details
;
   
    _diffrn_detector_element.id ELEMENTID
    _diffrn_detector_element.detector_id DETECTORNAME
    _diffrn_detector_element.reference_center_fast RCF
    _diffrn_detector_element.reference_center_slow RCS
    _diffrn_detector_element.reference_center_units UNITS
   
    -->
   
    /entry:NXentry
      /CBF_scan_id="SCANID"
      /CBF_diffrn_id="DIFFRNID"
      /instrument:NXinstrument
       /DETECTORNAME:NXdetector_group
       /DETECTORELEMENTNAME:NXdetector
          /beam_center_x=[RCS]  (converted from UNITS as needed)
            @units=mm
          /beam_center_y=[RCF]  (converted from UNITS as needed)
            @units=mm
          /CBF_diffrn_detector_element__id="ELEMENTID1:ELEMENTID2:..."
          /CBF_diffrn_detector_element__reference_center_fast=[RCF1,RCF2,...]
          /CBF_diffrn_detector_element__reference_center_slow=[RCS1,RCS2,...]
          /CBF_diffrn_detector_element__id="UNITS1:UNITS2:..."
     inserts ELEMENTID into the colon-separated list of element IDs
     inserts RCF into the array of reference centers
     inserts RCS into the array of reference centers
     inserts ELEMENTID into the colon-separated list of units
   
;

    
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;       Example 1 - Detector d1 is composed of four CCD detector elements,
        each 200 mm by 200 mm, arranged in a square, in the pattern

                   1     2
                      *
                   3     4

        Note that the beam centre is slightly displaced from each of the
        detector elements, just beyond the lower right corner of 1,
        the lower left corner of 2, the upper right corner of 3 and
        the upper left corner of 4.  For each element, the detector
        face coordiate system, is assumed to have the fast axis
        running from left to right and the slow axis running from
        top to bottom with the origin at the top left corner.
;
;
        loop_
        _diffrn_detector_element.detector_id
        _diffrn_detector_element.id
        _diffrn_detector_element.reference_center_fast
        _diffrn_detector_element.reference_center_slow
        _diffrn_detector_element.reference_center_units
        d1     d1_ccd_1  201.5 201.5  mm
        d1     d1_ccd_2  -1.8  201.5  mm
        d1     d1_ccd_3  201.6  -1.4  mm
        d1     d1_ccd_4  -1.7   -1.5  mm
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
     
########################
## DIFFRN_MEASUREMENT ##
########################


    _category.NX_mapping_details
;
   
    _diffrn_measurement.diffrn_id DIFFRNID
    _diffrn_measurement.details DETAILS
    _diffrn_measurement.device DEVICE
    _diffrn_measurement.device_details DEVDETAILS
    _diffrn_measurement.device_type DEVTYPE
    _diffrn_measurement.id GONIOMETER
    _diffrn_measurement.method METHOD
    _diffrn_measurement.number_of_axes NUMBER
    _diffrn_measurement.sample_detector_distance DIST
    _diffrn_measurement.sample_detector_voffset VOFST
    _diffrn_measurement.specimen_support SPECSPRT
   
    -->
   
    /entry:NXentry
      /CBF_scan_id="SCANID
      /CBF_diffrn_id="DIFFRNID"
      /instrument:NXinstrument
      /CBF_diffrn_measurement__GONIOMETER:NXgoniometer
        /details="DETAILS"
        /local_name="DEVICE"
        /description="DEVDETAILS"
        /type="DEVTYPE"
        /CBF_diffrn_measurement__method="METHOD"
          /number_of_axes=NUMBER
        /CBF_diffrn_measurement__specimen_support="SPECSPRT"
      /CBF_diffrn_detector__DETECTORNAME:NXdetector
        /distance=DIST
          @units="mm"
        /CBF_diffrn_measurement__sample_detector_voffset=VOFST
          @units="mm"   
;
     
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;    Example 1 - based on PDB entry 5HVP and laboratory records for the
                 structure corresponding to PDB entry 5HVP
;
;
    _diffrn_measurement.diffrn_id          'd1'
    _diffrn_measurement.device             '3-circle camera'
    _diffrn_measurement.device_type        'Supper model X'
    _diffrn_measurement.device_details     'none'
    _diffrn_measurement.method             'omega scan'
    _diffrn_measurement.details
    ; 440 frames, 0.20 degrees, 150 sec, detector distance 12 cm, detector
      angle 22.5 degrees
    ;
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;     Example 2 - based on data set TOZ of Willis, Beckwith & Tozer
                  [Acta Cryst. (1991), C47, 2276-2277].
;
;
    _diffrn_measurement.diffrn_id       's1'
    _diffrn_measurement.device_type     'Philips PW1100/20 diffractometer'
    _diffrn_measurement.method          'theta/2theta (\q/2\q)'
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
     
###########################
# DIFFRN_MEASUREMENT_AXIS #
###########################

    _category.NX_mapping_details
;
   
    _diffrn_measurement_axis.axis_id AXISID
    _diffrn_measurement_axis.measurement_device DEVICE
    _diffrn_measurement_axis.measurement_id GONIOMETER
   
    -->

    /entry:NXentry
      /CBF_scan_id="SCANID
      /CBF_diffrn_id="DIFFRNID"
      /sample:Nxsample
        /transformations:NXtransformations     
          /AXISID=[]     
      /instrument:NXinstrument
        /CBF_diffrn_measurement__GONIOMETER:NXgoniometer
          /CBF_diffrn_measurement__device="DEVICE"

       
;
    
####################
# DIFFRN_RADIATION #
####################
    _category.NX_mapping_details
;
   
    _diffrn_radiation.collimation    COLLIMATION
    _diffrn_radiation.diffrn_id      DIFFRNID
    _diffrn_radiation.div_x_source   DIVX
    _diffrn_radiation.div_y_source   DIVY
    _diffrn_radiation.div_x_y_source DIVXY
    _diffrn_radiation.filter_edge'   ABSEDGE
    _diffrn_radiation.inhomogeneity  HWIDTH
    _diffrn_radiation.monochromator  MONOCHROMATOR
    _diffrn_radiation.polarisn_norm  POLNANG
    _diffrn_radiation.polarisn_ratio POLRAT
    _diffrn_radiation.polarizn_source_norm   POLSNANG
    _diffrn_radiation.polarizn_source_ratio  POLSRAT
    _diffrn_radiation.polarizn_Stokes_I  SVECI
    _diffrn_radiation.polarizn_Stokes_Q  SVECQ
    _diffrn_radiation.polarizn_Stokes_U  SVECU
    _diffrn_radiation.polarizn_Stokes_V  SVECV
    _diffrn_radiation.polarisn_norm_esd  POLNANGESD
    _diffrn_radiation.polarisn_ratio_esd POLRATESD
    _diffrn_radiation.polarizn_source_norm_esd   POLSNANGESD
    _diffrn_radiation.polarizn_source_ratio_esd  POLSRATESD
    _diffrn_radiation.polarizn_Stokes_I_esd  SVECIESD
    _diffrn_radiation.polarizn_Stokes_Q_esd  SVECQESD
    _diffrn_radiation.polarizn_Stokes_U_esd  SVECUESD
    _diffrn_radiation.polarizn_Stokes_V_esd  SVECVESD
    _diffrn_radiation.probe          RADIATION
    _diffrn_radiation.type           SIEGBAHNTYPE
    _diffrn_radiation.xray_symbol    IUPACXRAYSYMB
    _diffrn_radiation.wavelength_id  ID
    _diffrn_radiation_wavelength.id  ID
    _diffrn_radiation_wavelength.wavelength    WAVELENGTH
    _diffrn_radiation_wavelength.wt            WEIGHT
    _diffrn_scan_frame.polarizn_Stokes_I STOKESI
    _diffrn_scan_frame.polarizn_Stokes_Q STOKESQ
    _diffrn_scan_frame.polarizn_Stokes_U STOKESU
    _diffrn_scan_frame.polarizn_Stokes_V STOKESV
    _diffrn_scan_frame.polarizn_Stokes_I_esd STOKESIESD
    _diffrn_scan_frame.polarizn_Stokes_Q_esd STOKESQESD
    _diffrn_scan_frame.polarizn_Stokes_U_esd STOKESUESD
    _diffrn_scan_frame.polarizn_Stokes_V_esd STOKESVESD
    _diffrn_scan_frame.frame_number FRAMENO
   
    -->

       /entry:NXentry
         /CBF_scan_id="SCANID"
         /sample:NXsample
           /beam:NXbeam
             /incident_divergence_x=DIVX
               @units="degrees"
             /incident_divergence_y=DIVY
               @units="degrees"
             /incident_divergence_xy=DIXXY
               @units="degrees^2"
             /CBF_diffrn_radiation_wavelength__wavelength_id=[WAVELENGTH_ID]
             /incident_wavelength=[WAVELENGTH]
               @units="A"
             /weight=[WEIGHT]
             /incident_polarisation_stokes_average=[SVECI,SVECQ,SVECU,SVECV]
             /incident_polarisation_stokes_average_uncertainty=[SVECIESD,SVECQESD,SVECUESD,SVECVESD]
             /incident_polarisation_stokes=[STOKESI,STOKESQ,STOKESU,STOKESV]
             /incident_polarisation_stokes_uncertainty=[STOKESIESD,STOKESQESD,STOKESUESD,STOKESVESD]
               @units="Watts/meter^2"
             /CBF_diffrn_radiation__polarisn_norm=POLNANG
               @units="deg"
             /CBF_diffrn_radiation__polarisn_ratio=POLRAT
             /CBF_diffrn_radiation__polarisn_norm_uncertainty=POLNANGESD
               @units="deg"
             /CBF_diffrn_radiation__polarisn_ratio_uncertainty=POLRATESD
             /CBF_diffrn_radiation__polarisn_source_norm=POLSNANG
               @units="deg"
             /CBF_diffrn_radiation__polarizn_source_ratio=POLSRAT
             /CBF_diffrn_radiation__polarisn_source_norm_uncertainty=POLSNANGESD
               @units="deg"
             /CBF_diffrn_radiation__polarizn_source_ratio_uncertainty=POLSRATESD
             /CBF_diffrn_radiation__filter_edge=ABSEDGE
                @units="angstroms"
             /CBF_diffrn_radiation__inhomogeneity=HWIDTH
                @units="mm"
         /instrument:NXinstrument
           /monchromator:NXmonochromator
             /description="MONOCHROMATOR"
           /source:NXsource
             /probe="RADIATION"
             /CBF_diffrn_radiation__type="SIEGBAHNTYPE"
             /CBF_diffrn_radiation__xray_symbol="IUPACXRAYSYMB"

         With the incident_polarisation_stokes array indexed by FRAMENO
   
;

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;   Example 1 - based on PDB entry 5HVP and laboratory records for the
                structure corresponding to PDB entry 5HVP
;
;
    _diffrn_radiation.diffrn_id            'set1'

    _diffrn_radiation.collimation          '0.3 mm double pinhole'
    _diffrn_radiation.monochromator        'graphite'
    _diffrn_radiation.type                 'Cu K\a'
    _diffrn_radiation.wavelength_id         1
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;    Example 2 - based on data set TOZ of Willis, Beckwith & Tozer
                [Acta Cryst. (1991), C47, 2276-2277].
;
;
    _diffrn_radiation.wavelength_id    1
    _diffrn_radiation.type             'Cu K\a'
    _diffrn_radiation.monochromator    'graphite'
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
     
################
# DIFFRN_REFLN #
################


###############
# DIFFRN_SCAN #
###############


    _category.NX_mapping_details
;
   
    _diffrn_scan.id SCANID
    _diffrn_scan.date_end ENDDATETIME
    _diffrn_scan.date_start STARTDATETIME
    _diffrn_scan.integration_time AVGCOUNTTIME
    _diffrn_scan.frame_id_start FRAMESTARTID
    _diffrn_scan.frame_id_end FRAMEENDID
    _diffrn_scan.frames FRAMES
    _diffrn_scan.time_period TIMEPER
    _diffrn_scan.time_rstrt_incr RSTRTTIME
   
    -->
   
        /entry:NXentry
          /CBF_scan_id="SCANID"
          /end_time=ENDDATETIME
          /start_time=STARTDATETIME
          /average_count_time=AVGCOUNTTIME
            @units="sec"
          /average_frame_time=TIMEPER
            @units="sec"
          /average_frame_restart_time=RSTRTTIME
            @units="sec"
          /instrument:NXinstrument
           /DETECTORNAME:NXdetector_group
           /DETECTORELEMENTNAME:NXdetector
              /frame_start_number=FRAMESTARTNO
              /frame_end_number=FRAMEENDNO
   
    FRAMESTARTNO is the value of _diffrn_scan_frame.frame_number
    for which the value of _diffrn_scan_frame.frame_id equals FRAMESTARTID
    FRAMEENDNO is the value of _diffrn_scan_frame.frame_number
    for which the value of _diffrn_scan_frame.frame_id equals FRAMEENDID

   
;
   
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;   Example 1 - derived from a suggestion by R. M. Sweet.

   The vector of each axis is not given here, because it is provided in
   the AXIS category.  By making _diffrn_scan_axis.scan_id and
   _diffrn_scan_axis.axis_id keys of the DIFFRN_SCAN_AXIS category,
   an arbitrary number of scanning and fixed axes can be specified for a
   scan.  In this example, three rotation axes and one translation axis
   at nonzero values are specified, with one axis stepping.  There is no
   reason why more axes could not have been specified to step. Range
   information has been specified, but note that it can be calculated from
   the  number of frames and the increment, so the data item
   _diffrn_scan_axis.angle_range could be dropped.

   Both the sweep data and the data for a single frame are specified.

   Note that the information on how the axes are stepped is given twice,
   once in terms of the overall averages in the value of
   _diffrn_scan.integration_time and the values for DIFFRN_SCAN_AXIS,
   and precisely for the given frame in the value for
   _diffrn_scan_frame.integration_time and the values for
   DIFFRN_SCAN_FRAME_AXIS.  If dose-related adjustments are made to
   scan times and nonlinear stepping is done, these values may differ.
   Therefore, in interpreting the data for a particular frame it is
   important to use the frame-specific data.
;
;
      _diffrn_scan.id                   1
      _diffrn_scan.date_start         '2001-11-18T03:26:42'
      _diffrn_scan.date_end           '2001-11-18T03:36:45'
      _diffrn_scan.integration_time    3.0
      _diffrn_scan.frame_id_start      mad_L2_000
      _diffrn_scan.frame_id_end        mad_L2_200
      _diffrn_scan.frames              201

       loop_
      _diffrn_scan_axis.scan_id
      _diffrn_scan_axis.axis_id
      _diffrn_scan_axis.angle_start
      _diffrn_scan_axis.angle_range
      _diffrn_scan_axis.angle_increment
      _diffrn_scan_axis.displacement_start
      _diffrn_scan_axis.displacement_range
      _diffrn_scan_axis.displacement_increment

       1 omega 200.0 20.0 0.1 . . .
       1 kappa -40.0  0.0 0.0 . . .
       1 phi   127.5  0.0 0.0 . . .
       1 tranz  . . .   2.3 0.0 0.0

      _diffrn_scan_frame.scan_id                   1
      _diffrn_scan_frame.date               '2001-11-18T03:27:33'
      _diffrn_scan_frame.integration_time    3.0
      _diffrn_scan_frame.frame_id            mad_L2_018
      _diffrn_scan_frame.frame_number        18

      loop_
      _diffrn_scan_frame_axis.frame_id
      _diffrn_scan_frame_axis.axis_id
      _diffrn_scan_frame_axis.angle
      _diffrn_scan_frame_axis.angle_increment
      _diffrn_scan_frame_axis.displacement
      _diffrn_scan_frame_axis.displacement_increment

       mad_L2_018 omega 201.8  0.1 . .
       mad_L2_018 kappa -40.0  0.0 . .
       mad_L2_018 phi   127.5  0.0 . .
       mad_L2_018 tranz  .     .  2.3 0.0
;

;  Example 2 - a more extensive example (R. M. Sweet, P. J. Ellis &
   H. J. Bernstein).

   A detector is placed 240 mm along the Z axis from the goniometer.
   This leads to a choice:  either the axes of
   the detector are defined at the origin, and then a Z setting of -240
   is entered, or the axes are defined with the necessary Z offset.
   In this case, the setting is used and the offset is left as zero.
   This axis is called DETECTOR_Z.

   The axis for positioning the detector in the Y direction depends
   on the detector Z axis.  This axis is called DETECTOR_Y.

   The axis for positioning the detector in the X direction depends
   on the detector Y axis (and therefore on the detector Z axis).
   This axis is called DETECTOR_X.

   This detector may be rotated around the Y axis.  This rotation axis
   depends on the three translation axes.  It is called DETECTOR_PITCH.

   A coordinate system is defined on the face of the detector in terms of
   2300 0.150 mm pixels in each direction.  The ELEMENT_X axis is used to
   index the first array index of the data array and the ELEMENT_Y
   axis is used to index the second array index.  Because the pixels
   are 0.150mm X 0.150mm, the centre of the first pixel is at (0.075,
   0.075) in this coordinate system.
;

;    ###CBF: VERSION 1.1

     data_image_1

     # category DIFFRN
     _diffrn.id P6MB
     _diffrn.crystal_id P6MB_CRYSTAL7

     # category DIFFRN_SOURCE
     loop_
     _diffrn_source.diffrn_id
     _diffrn_source.source
     _diffrn_source.type
      P6MB synchrotron 'SSRL beamline 9-1'

     # category DIFFRN_RADIATION
     loop_
     _diffrn_radiation.diffrn_id
     _diffrn_radiation.wavelength_id
     _diffrn_radiation.monochromator
     _diffrn_radiation.polarizn_source_ratio
     _diffrn_radiation.polarizn_source_norm
     _diffrn_radiation.div_x_source
     _diffrn_radiation.div_y_source
     _diffrn_radiation.div_x_y_source
      P6MB WAVELENGTH1 'Si 111' 0.8 0.0 0.08
     0.01 0.00

     # category DIFFRN_RADIATION_WAVELENGTH
     loop_
     _diffrn_radiation_wavelength.id
     _diffrn_radiation_wavelength.wavelength
     _diffrn_radiation_wavelength.wt
      WAVELENGTH1 0.98 1.0

     # category DIFFRN_DETECTOR
     loop_
     _diffrn_detector.diffrn_id
     _diffrn_detector.id
     _diffrn_detector.type
     _diffrn_detector.number_of_axes
      P6MB MAR345-SN26 'MAR 345' 4

     # category DIFFRN_DETECTOR_AXIS
     loop_
     _diffrn_detector_axis.detector_id
     _diffrn_detector_axis.axis_id
      MAR345-SN26 DETECTOR_X
      MAR345-SN26 DETECTOR_Y
      MAR345-SN26 DETECTOR_Z
      MAR345-SN26 DETECTOR_PITCH

     # category DIFFRN_DETECTOR_ELEMENT
     loop_
     _diffrn_detector_element.id
     _diffrn_detector_element.detector_id
      ELEMENT1 MAR345-SN26

     # category DIFFRN_DATA_FRAME
     loop_
     _diffrn_data_frame.id
     _diffrn_data_frame.detector_element_id
     _diffrn_data_frame.array_id
     _diffrn_data_frame.binary_id
      FRAME1 ELEMENT1 ARRAY1 1

     # category DIFFRN_MEASUREMENT
     loop_
     _diffrn_measurement.diffrn_id
     _diffrn_measurement.id
     _diffrn_measurement.number_of_axes
     _diffrn_measurement.method
      P6MB GONIOMETER 3 rotation

     # category DIFFRN_MEASUREMENT_AXIS
     loop_
     _diffrn_measurement_axis.measurement_id
     _diffrn_measurement_axis.axis_id
      GONIOMETER GONIOMETER_PHI
      GONIOMETER GONIOMETER_KAPPA
      GONIOMETER GONIOMETER_OMEGA

     # category DIFFRN_SCAN
     loop_
     _diffrn_scan.id
     _diffrn_scan.frame_id_start
     _diffrn_scan.frame_id_end
     _diffrn_scan.frames
      SCAN1 FRAME1 FRAME1 1

     # category DIFFRN_SCAN_AXIS
     loop_
     _diffrn_scan_axis.scan_id
     _diffrn_scan_axis.axis_id
     _diffrn_scan_axis.angle_start
     _diffrn_scan_axis.angle_range
     _diffrn_scan_axis.angle_increment
     _diffrn_scan_axis.displacement_start
     _diffrn_scan_axis.displacement_range
     _diffrn_scan_axis.displacement_increment
      SCAN1 GONIOMETER_OMEGA 12.0 1.0 1.0 0.0 0.0 0.0
      SCAN1 GONIOMETER_KAPPA 23.3 0.0 0.0 0.0 0.0 0.0
      SCAN1 GONIOMETER_PHI -165.8 0.0 0.0 0.0 0.0 0.0
      SCAN1 DETECTOR_Z 0.0 0.0 0.0 -240.0 0.0 0.0
      SCAN1 DETECTOR_Y 0.0 0.0 0.0 0.6 0.0 0.0
      SCAN1 DETECTOR_X 0.0 0.0 0.0 -0.5 0.0 0.0
      SCAN1 DETECTOR_PITCH 0.0 0.0 0.0 0.0 0.0 0.0

     # category DIFFRN_SCAN_FRAME
     loop_
     _diffrn_scan_frame.frame_id
     _diffrn_scan_frame.frame_number
     _diffrn_scan_frame.integration_time
     _diffrn_scan_frame.scan_id
     _diffrn_scan_frame.date
      FRAME1 1 20.0 SCAN1 1997-12-04T10:23:48

     # category DIFFRN_SCAN_FRAME_AXIS
     loop_
     _diffrn_scan_frame_axis.frame_id
     _diffrn_scan_frame_axis.axis_id
     _diffrn_scan_frame_axis.angle
     _diffrn_scan_frame_axis.displacement
      FRAME1 GONIOMETER_OMEGA 12.0 0.0
      FRAME1 GONIOMETER_KAPPA 23.3 0.0
      FRAME1 GONIOMETER_PHI -165.8 0.0
      FRAME1 DETECTOR_Z 0.0 -240.0
      FRAME1 DETECTOR_Y 0.0 0.6
      FRAME1 DETECTOR_X 0.0 -0.5
      FRAME1 DETECTOR_PITCH 0.0 0.0

     # category AXIS
     loop_
     _axis.id
     _axis.type
     _axis.equipment
     _axis.depends_on
     _axis.vector[1] _axis.vector[2] _axis.vector[3]
     _axis.offset[1] _axis.offset[2] _axis.offset[3]
      GONIOMETER_OMEGA rotation goniometer . 1 0 0 . . .
      GONIOMETER_KAPPA rotation goniometer GONIOMETER_OMEGA 0.64279
      0 0.76604 . . .
      GONIOMETER_PHI   rotation goniometer GONIOMETER_KAPPA 1 0 0
     . . .
      SOURCE           general source . 0 0 1 . . .
      GRAVITY          general gravity . 0 -1 0 . . .
      DETECTOR_Z       translation detector . 0 0 1 0 0 0
      DETECTOR_Y       translation detector DETECTOR_Z 0 1 0 0 0 0
      DETECTOR_X       translation detector DETECTOR_Y 1 0 0 0 0 0
      DETECTOR_PITCH   rotation    detector DETECTOR_X 0 1 0 0 0 0
      ELEMENT_X        translation detector DETECTOR_PITCH
     1 0 0 172.43 -172.43 0
      ELEMENT_Y        translation detector ELEMENT_X
     0 1 0 0 0 0

     # category ARRAY_STRUCTURE_LIST
     loop_
     _array_structure_list.array_id
     _array_structure_list.index
     _array_structure_list.dimension
     _array_structure_list.precedence
     _array_structure_list.direction
     _array_structure_list.axis_set_id
      ARRAY1 1 2300 1 increasing ELEMENT_X
      ARRAY1 2 2300 2 increasing ELEMENT_Y

     # category ARRAY_STRUCTURE_LIST_AXIS
     loop_
     _array_structure_list_axis.axis_set_id
     _array_structure_list_axis.axis_id
     _array_structure_list_axis.displacement
     _array_structure_list_axis.displacement_increment
      ELEMENT_X ELEMENT_X 0.075 0.150
      ELEMENT_Y ELEMENT_Y 0.075 0.150

     # category ARRAY_ELEMENT_SIZE
     loop_
     _array_element_size.array_id
     _array_element_size.index
     _array_element_size.size
      ARRAY1 1 150e-6
      ARRAY1 2 150e-6

     # category ARRAY_INTENSITIES
     loop_
     _array_intensities.array_id
     _array_intensities.binary_id
     _array_intensities.linearity
     _array_intensities.gain
     _array_intensities.gain_esd
     _array_intensities.overload
     _array_intensities.undefined_value
      ARRAY1 1 linear 1.15 0.2 240000 0

      # category ARRAY_STRUCTURE
      loop_
      _array_structure.id
      _array_structure.encoding_type
      _array_structure.compression_type
      _array_structure.byte_order
      ARRAY1 "signed 32-bit integer" packed little_endian

     # category ARRAY_DATA
     loop_
     _array_data.array_id
     _array_data.binary_id
     _array_data.data
      ARRAY1 1
     ;
     --CIF-BINARY-FORMAT-SECTION--
     Content-Type: application/octet-stream;
         conversions="X-CBF_PACKED"
     Content-Transfer-Encoding: BASE64
     X-Binary-Size: 3801324
     X-Binary-ID: 1
     X-Binary-Element-Type: "signed 32-bit integer"
     Content-MD5: 07lZFvF+aOcW85IN7usl8A==

     AABRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZBQSr1sKNBOeOe9HITdMdDUnbq7bg
     ...
     8REo6TtBrxJ1vKqAvx9YDMD6J18Qg83OMr/tgssjMIJMXATDsZobL90AEXc4KigE

     --CIF-BINARY-FORMAT-SECTION----
     ;
;

;   Example 3 - Example 2 revised for a spiral scan (R. M. Sweet,
    P. J. Ellis & H. J. Bernstein).

   A detector is placed 240 mm along the Z axis from the
   goniometer, as in Example 2 above, but in this example the
   image plate is scanned in a spiral pattern from the outside edge in.

   The axis for positioning the detector in the Y direction depends
   on the detector Z axis.  This axis is called DETECTOR_Y.

   The axis for positioning the detector in the X direction depends
   on the detector Y axis (and therefore on the detector Z axis).
   This axis is called DETECTOR_X.

   This detector may be rotated around the Y axis.  This rotation axis
   depends on the three translation axes.  It is called DETECTOR_PITCH.

   A coordinate system is defined on the face of the detector in
   terms of a coupled rotation axis and radial scan axis to form
   a spiral scan.  The rotation axis is called  ELEMENT_ROT  and the
   radial axis is called ELEMENT_RAD.  A 150 micrometre radial pitch
   and a 75 micrometre 'constant velocity' angular pitch are assumed.

   Indexing is carried out first on the rotation axis and the radial axis
   is made to be dependent on it.

   The two axes are coupled to form an axis set ELEMENT_SPIRAL.
;
;    ###CBF: VERSION 1.1

     data_image_1

     # category DIFFRN
     _diffrn.id P6MB
     _diffrn.crystal_id P6MB_CRYSTAL7

     # category DIFFRN_SOURCE
     loop_
     _diffrn_source.diffrn_id
     _diffrn_source.source
     _diffrn_source.type
      P6MB synchrotron 'SSRL beamline 9-1'

     # category DIFFRN_RADIATION
          loop_
     _diffrn_radiation.diffrn_id
     _diffrn_radiation.wavelength_id
     _diffrn_radiation.monochromator
     _diffrn_radiation.polarizn_source_ratio
     _diffrn_radiation.polarizn_source_norm
     _diffrn_radiation.div_x_source
     _diffrn_radiation.div_y_source
     _diffrn_radiation.div_x_y_source
      P6MB WAVELENGTH1 'Si 111' 0.8 0.0 0.08
     0.01 0.00

     # category DIFFRN_RADIATION_WAVELENGTH
     loop_
     _diffrn_radiation_wavelength.id
     _diffrn_radiation_wavelength.wavelength
     _diffrn_radiation_wavelength.wt
      WAVELENGTH1 0.98 1.0

     # category DIFFRN_DETECTOR
     loop_
     _diffrn_detector.diffrn_id
     _diffrn_detector.id
     _diffrn_detector.type
     _diffrn_detector.number_of_axes
      P6MB MAR345-SN26 'MAR 345' 4

     # category DIFFRN_DETECTOR_AXIS
     loop_
     _diffrn_detector_axis.detector_id
     _diffrn_detector_axis.axis_id
      MAR345-SN26 DETECTOR_X
      MAR345-SN26 DETECTOR_Y
      MAR345-SN26 DETECTOR_Z
      MAR345-SN26 DETECTOR_PITCH

     # category DIFFRN_DETECTOR_ELEMENT
     loop_
     _diffrn_detector_element.id
     _diffrn_detector_element.detector_id
      ELEMENT1 MAR345-SN26

     # category DIFFRN_DATA_FRAME
     loop_
     _diffrn_data_frame.id
     _diffrn_data_frame.detector_element_id
     _diffrn_data_frame.array_id
     _diffrn_data_frame.binary_id
      FRAME1 ELEMENT1 ARRAY1 1

     # category DIFFRN_MEASUREMENT
     loop_
     _diffrn_measurement.diffrn_id
     _diffrn_measurement.id
     _diffrn_measurement.number_of_axes
     _diffrn_measurement.method
      P6MB GONIOMETER 3 rotation

     # category DIFFRN_MEASUREMENT_AXIS
     loop_
     _diffrn_measurement_axis.measurement_id
     _diffrn_measurement_axis.axis_id
      GONIOMETER GONIOMETER_PHI
      GONIOMETER GONIOMETER_KAPPA
      GONIOMETER GONIOMETER_OMEGA

     # category DIFFRN_SCAN
     loop_
     _diffrn_scan.id
     _diffrn_scan.frame_id_start
     _diffrn_scan.frame_id_end
     _diffrn_scan.frames
      SCAN1 FRAME1 FRAME1 1

     # category DIFFRN_SCAN_AXIS
     loop_
     _diffrn_scan_axis.scan_id
     _diffrn_scan_axis.axis_id
     _diffrn_scan_axis.angle_start
     _diffrn_scan_axis.angle_range
     _diffrn_scan_axis.angle_increment
     _diffrn_scan_axis.displacement_start
     _diffrn_scan_axis.displacement_range
     _diffrn_scan_axis.displacement_increment
      SCAN1 GONIOMETER_OMEGA 12.0 1.0 1.0 0.0 0.0 0.0
      SCAN1 GONIOMETER_KAPPA 23.3 0.0 0.0 0.0 0.0 0.0
      SCAN1 GONIOMETER_PHI -165.8 0.0 0.0 0.0 0.0 0.0
      SCAN1 DETECTOR_Z 0.0 0.0 0.0 -240.0 0.0 0.0
      SCAN1 DETECTOR_Y 0.0 0.0 0.0 0.6 0.0 0.0
      SCAN1 DETECTOR_X 0.0 0.0 0.0 -0.5 0.0 0.0
      SCAN1 DETECTOR_PITCH 0.0 0.0 0.0 0.0 0.0 0.0

     # category DIFFRN_SCAN_FRAME
     loop_
     _diffrn_scan_frame.frame_id
     _diffrn_scan_frame.frame_number
     _diffrn_scan_frame.integration_time
     _diffrn_scan_frame.scan_id
     _diffrn_scan_frame.date
      FRAME1 1 20.0 SCAN1 1997-12-04T10:23:48

     # category DIFFRN_SCAN_FRAME_AXIS
     loop_
     _diffrn_scan_frame_axis.frame_id
     _diffrn_scan_frame_axis.axis_id
     _diffrn_scan_frame_axis.angle
     _diffrn_scan_frame_axis.displacement
      FRAME1 GONIOMETER_OMEGA 12.0 0.0
      FRAME1 GONIOMETER_KAPPA 23.3 0.0
      FRAME1 GONIOMETER_PHI -165.8 0.0
      FRAME1 DETECTOR_Z 0.0 -240.0
      FRAME1 DETECTOR_Y 0.0 0.6
      FRAME1 DETECTOR_X 0.0 -0.5
      FRAME1 DETECTOR_PITCH 0.0 0.0

     # category AXIS
     loop_
     _axis.id
     _axis.type
     _axis.equipment
     _axis.depends_on
     _axis.vector[1] _axis.vector[2] _axis.vector[3]
     _axis.offset[1] _axis.offset[2] _axis.offset[3]
      GONIOMETER_OMEGA rotation goniometer . 1 0 0 . . .
      GONIOMETER_KAPPA rotation goniometer GONIOMETER_OMEGA 0.64279
      0 0.76604 . . .
      GONIOMETER_PHI   rotation goniometer GONIOMETER_KAPPA 1 0 0
     . . .
      SOURCE           general source . 0 0 1 . . .
      GRAVITY          general gravity . 0 -1 0 . . .
      DETECTOR_Z       translation detector . 0 0 1 0 0 0
      DETECTOR_Y       translation detector DETECTOR_Z 0 1 0 0 0 0
      DETECTOR_X       translation detector DETECTOR_Y 1 0 0 0 0 0
      DETECTOR_PITCH   rotation    detector DETECTOR_X 0 1 0 0 0 0
      ELEMENT_ROT      translation detector DETECTOR_PITCH 0 0 1 0 0 0
      ELEMENT_RAD      translation detector ELEMENT_ROT 0 1 0 0 0 0

     # category ARRAY_STRUCTURE_LIST
     loop_
     _array_structure_list.array_id
     _array_structure_list.index
     _array_structure_list.dimension
     _array_structure_list.precedence
     _array_structure_list.direction
     _array_structure_list.axis_set_id
      ARRAY1 1 8309900 1 increasing ELEMENT_SPIRAL

     # category ARRAY_STRUCTURE_LIST_AXIS
     loop_
     _array_structure_list_axis.axis_set_id
     _array_structure_list_axis.axis_id
     _array_structure_list_axis.angle
     _array_structure_list_axis.displacement
     _array_structure_list_axis.angular_pitch
     _array_structure_list_axis.radial_pitch
      ELEMENT_SPIRAL ELEMENT_ROT 0    .  0.075   .
      ELEMENT_SPIRAL ELEMENT_RAD . 172.5  .    -0.150

     # category ARRAY_ELEMENT_SIZE
     # the actual pixels are 0.075 by 0.150 mm
     # We give the coarser dimension here.
     loop_
     _array_element_size.array_id
     _array_element_size.index
     _array_element_size.size
      ARRAY1 1 150e-6

     # category ARRAY_INTENSITIES
     loop_
     _array_intensities.array_id
     _array_intensities.binary_id
     _array_intensities.linearity
     _array_intensities.gain
     _array_intensities.gain_esd
     _array_intensities.overload
     _array_intensities.undefined_value
      ARRAY1 1 linear 1.15 0.2 240000 0

      # category ARRAY_STRUCTURE
      loop_
      _array_structure.id
      _array_structure.encoding_type
      _array_structure.compression_type
      _array_structure.byte_order
      ARRAY1 "signed 32-bit integer" packed little_endian

     # category ARRAY_DATA
     loop_
     _array_data.array_id
     _array_data.binary_id
     _array_data.data
      ARRAY1 1
     ;
     --CIF-BINARY-FORMAT-SECTION--
     Content-Type: application/octet-stream;
         conversions="X-CBF_PACKED"
     Content-Transfer-Encoding: BASE64
     X-Binary-Size: 3801324
     X-Binary-ID: 1
     X-Binary-Element-Type: "signed 32-bit integer"
     Content-MD5: 07lZFvF+aOcW85IN7usl8A==

     AABRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZBQSr1sKNBOeOe9HITdMdDUnbq7bg
     ...
     8REo6TtBrxJ1vKqAvx9YDMD6J18Qg83OMr/tgssjMIJMXATDsZobL90AEXc4KigE

     --CIF-BINARY-FORMAT-SECTION----
     ;
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
       
####################
# DIFFRN_SCAN_AXIS #
####################


    _category.NX_mapping_details
;
   
    _diffrn_scan_axis.axis_id AXISID-->
    _diffrn_scan_axis.angle_start ANGSTART
    _diffrn_scan_axis.angle_range ANGRANGE
    _diffrn_scan_axis.angle_increment ANGINC
    _diffrn_scan_axis.angle_rstrt_incr ANGRSTRT
    _diffrn_scan_axis.displacement_start DISPSTART
    _diffrn_scan_axis.displacement_range DISPRANGE
    _diffrn_scan_axis.displacement_increment DISPINC
    _diffrn_scan_axis.displacement_increment DISPINC
    _diffrn_scan_axis.displacement_rstrt_incr DISPRSTRT
    _diffrn_scan_axis.reference_angle ANG
    _diffrn_scan_axis.reference_displacement DISP
    _diffrn_scan_axis.scan_id SCANID
   
    -->
   
    { /entry:NXentry
      /CBF_scan_id="SCANID"
      /instrument:NXinstrument
       /DETECTORNAME:NXdetector_group
       /DETECTORELEMENTNAME:NXdetector
    for AXISEQUIPMENT=="detector"}
    {  /CBF_diffrn_scan__SCANID:NXentry
         /sample:NXsample
    for AXISEQUIPMENT=="goniometer"}
    {  /CBF_diffrn_scan__SCANID:NXentry
    for AXISEQUIPMENT=="general"}
         /transformations:NXtransformations
           /AXISID=[]
             @diffrn_scan_axis__angle_start=ANGSTART
             @diffrn_scan_axis__angle_range=ANGRANGE
             @diffrn_scan_axis__angle_increment=ANGINC
             @diffrn_scan_axis__angle_rstrt_incr=ANGRSTRT
             @diffrn_scan_axis__displacement_start=DISPSTART
             @diffrn_scan_axis__displacement_range=DISPRANGE
             @diffrn_scan_axis__displacement_increment=DISPINC
             @diffrn_scan_axis__displacement_rstrt_incr=DISPRSTRT
             @diffrn_scan_axis__reference_angle=ANG
             @diffrn_scan_axis__reference_displacement=DISP
    
    
;
     
#####################
# DIFFRN_SCAN_FRAME #
#####################

    _category.NX_mapping_details
;
   
    _diffrn_scan_frame.date  DATETIME
    _diffrn_scan_frame.frame_id ID
    _diffrn_scan_frame.frame_number FRAMENUMBER
    _diffrn_scan_frame.integration_time COUNTTIME
    _diffrn_scan_frame.polarizn_Stokes_I STOKESI
    _diffrn_scan_frame.polarizn_Stokes_Q STOKESQ
    _diffrn_scan_frame.polarizn_Stokes_U STOKESU
    _diffrn_scan_frame.polarizn_Stokes_V STOKESV
    _diffrn_scan_frame.scan_id SCANID
    _diffrn_scan_frame.time_period FRAMETIME
    _diffrn_scan_frame.time_rstrt_incr RSTRTTIME
   
    -->
   
    /entry:NXentry
      /CBF_scan_id="SCANID"
      /instrument:NXinstrument
       /DETECTORNAME:NXdetector_group
       /DETECTORELEMENTNAME:NXdetector
          /CBF_diffrn_scan_frame__date=["DATETIME"]
          /CBF_diffrn_scan_frame__frame_id=["ID"]
          /count_time=[COUNTIME]
          /frame_time=[FRAMETIME]
          /frame_restart_time=[RSTRTTIME]
      /sample:NXsample
        /beam:NXbeam
          /incident_polarisation_stokes=[STOKESI,STOKESQ,STOKESU,STOKESV]
             @units="Watts/meter^2"
     where each array element is inserted at index FRAMENUMBER         

;
    
##########################
# DIFFRN_SCAN_FRAME_AXIS #
##########################


    _category.NX_mapping_details
;
   
    _diffrn_scan_frame_axis.axis_id AXISID
    _diffrn_scan_frame_axis.angle ANGLE
    _diffrn_scan_frame_axis.angle_increment ANGLEINCREMENT
    _diffrn_scan_frame_axis.angle_rstrt_incr ANGLERSTRTINCREMENT
    _diffrn_scan_frame_axis.displacement DISP
    _diffrn_scan_frame_axis.displacement_increment DISPINCREMENT
    _diffrn_scan_frame_axis.displacement_rstrt_incr DISPRSTRTINCREMENT
    _diffrn_scan_frame_axis.reference_angle REFANGLE
    _diffrn_scan_frame_axis.reference_displacement REFDISP

   
    { /entry:NXentry
      /CBF_scan_id="SCANID"
      /instrument:NXinstrument
       /DETECTORNAME:NXdetector_group
       /DETECTORELEMENTNAME:NXdetector
    for AXISEQUIPMENT=="detector"}
    {  /entry:NXentry
         /sample:NXsample
    for AXISEQUIPMENT=="goniometer"}
    {  /entry:NXentry
    for AXISEQUIPMENT=="general"}
         /transformations:NXtransformations
           /AXISID=[]
             @diffrn_scan_frame_axis__angle_start=[ANGSTART]
             @diffrn_scan_frame_axis__angle_range=[ANGRANGE]
             @diffrn_scan_frame_axis__angle_increment=[ANGINC]
             @diffrn_scan_frame_axis__angle_rstrt_incr=[ANGRSTRT]
             @diffrn_scan_frame_axis__displacement_start=[DISPSTART]
             @diffrn_scan_frame_axis__displacement_range=[DISPRANGE]
             @diffrn_scan_frame_axis__displacement_increment=[DISPINC]
             @diffrn_scan_frame_axis__displacement_rstrt_incr=[DISPRSTRT]
             @diffrn_scan_frame_axis__reference_angle=[ANG]
             @diffrn_scan_frame_axis__reference_displacement=[DISP]


    note that @units="mm" or @units="deg" should also be specified.
   
    The dimensions of the array depend on np (the number of frames = the
    value of _diffrn_scan.frames)
   
    either DISP OR ANGLE is inserted as the i-th element
    counting from 1 in AXISID where i is the value of
    _diffrn_scan_frame.frame_number for which the value
    of _diffrn_scan_frame.frame_id agrees with the
    value of _diffrn_scan_frame_axis.frame_id
   
    The remaining tags similarly populate the attribute arrays
   
   
   
   
;
     
#############################
# DIFFRN_SCAN_FRAME_MONITOR #
#############################

    _category.NX_mapping_details
;
   
    _diffrn_scan_frame_monitor.id MONID -->
    _diffrn_scan_frame_monitor.detector_id DETECTORNAME -->
    _diffrn_scan_frame_monitor.scan_id SCANID -->
    _diffrn_scan_frame_monitor.frame_id FRAMEID -->
    _diffrn_scan_frame_monitor.integration_time INTEGRATIONTIME -->
    _diffrn_scan_frame_monitor.monitor_value MONITORVALUE -->
   
    -->
   
    /entry:NXentry
      /CBF_scan_id="SCANID"
        /instrument:NXinstrument
          /CBF_diffrn_scan_frame_monitor__DETECTORNAME_MONID:NXmonitor
            @CBF_detector_id="DETECTORNAME"
            @CBF_diffrn_scan_frame_monitor__id="MONID"
            /data=[MONITORVALUE] 
            /count_time=[INTEGRATIONTIME]
           

;
     
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;   Example 1 - The beam intensity for frame FRAME1 is being tracked
    by a beamstop monitor detector BSM01, made from metal foil and
    a PIN diode, locate 20 mm in front of a MAR345 detector and being
    sampled every 2 seconds in a 20 second scan.

;
;
       
     # category DIFFRN_DETECTOR
     loop_
     _diffrn_detector.diffrn_id
     _diffrn_detector.id
     _diffrn_detector.type
     _diffrn_detector.number_of_axes
      P6MB MAR345-SN26 'MAR 345' 4
      P6MB BSM01 'metal foil and PIN diode' 1

     # category DIFFRN_DETECTOR_AXIS
     loop_
     _diffrn_detector_axis.detector_id
     _diffrn_detector_axis.axis_id
      MAR345-SN26 DETECTOR_X
      MAR345-SN26 DETECTOR_Y
      MAR345-SN26 DETECTOR_Z
      MAR345-SN26 DETECTOR_PITCH
      BSM01 MONITOR_Z


     # category DIFFRN_DATA_FRAME
     loop_
     _diffrn_data_frame.id
     _diffrn_data_frame.detector_element_id
     _diffrn_data_frame.array_id
     _diffrn_data_frame.binary_id
      FRAME1 ELEMENT1 ARRAY1 1


     # category DIFFRN_SCAN
     loop_
     _diffrn_scan.id
     _diffrn_scan.frame_id_start
     _diffrn_scan.frame_id_end
     _diffrn_scan.frames
      SCAN1 FRAME1 FRAME1 1

     # category DIFFRN_SCAN_AXIS
     loop_
     _diffrn_scan_axis.scan_id
     _diffrn_scan_axis.axis_id
     _diffrn_scan_axis.angle_start
     _diffrn_scan_axis.angle_range
     _diffrn_scan_axis.angle_increment
     _diffrn_scan_axis.displacement_start
     _diffrn_scan_axis.displacement_range
     _diffrn_scan_axis.displacement_increment
      SCAN1 GONIOMETER_OMEGA 12.0 1.0 1.0 0.0 0.0 0.0
      SCAN1 GONIOMETER_KAPPA 23.3 0.0 0.0 0.0 0.0 0.0
      SCAN1 GONIOMETER_PHI -165.8 0.0 0.0 0.0 0.0 0.0
      SCAN1 DETECTOR_Z 0.0 0.0 0.0 -240.0 0.0 0.0
      SCAN1 DETECTOR_Y 0.0 0.0 0.0 0.6 0.0 0.0
      SCAN1 DETECTOR_X 0.0 0.0 0.0 -0.5 0.0 0.0
      SCAN1 DETECTOR_PITCH 0.0 0.0 0.0 0.0 0.0 0.0
      SCAN1 MONITOR_Z 0.0 0.0 0.0 -220.0 0.0 0.0

     # category DIFFRN_SCAN_FRAME
     loop_
     _diffrn_scan_frame.frame_id
     _diffrn_scan_frame.frame_number
     _diffrn_scan_frame.integration_time
     _diffrn_scan_frame.scan_id
     _diffrn_scan_frame.date
      FRAME1 1 20.0 SCAN1 1997-12-04T10:23:48
     
     # category DIFFRN_SCAN_FRAME_MONITOR
     loop_
     _diffrn_scan_frame_monitor.id
     _diffrn_scan_frame_monitor.detector_id
     _diffrn_scan_frame_monitor.scan_id
     _diffrn_scan_frame_monitor.frame_id
     _diffrn_scan_frame_monitor.integration_time
     _diffrn_scan_frame_monitor.monitor_value
      1  BSM01 SCAN1 FRAME1 2.0 23838345642
      2  BSM01 SCAN1 FRAME1 2.0 23843170669
      3  BSM01 SCAN1 FRAME1 2.0 23839478690
      4  BSM01 SCAN1 FRAME1 2.0 23856642085
      5  BSM01 SCAN1 FRAME1 2.0 23781717656
      6  BSM01 SCAN1 FRAME1 2.0 23788850775
      7  BSM01 SCAN1 FRAME1 2.0 23815576677
      8  BSM01 SCAN1 FRAME1 2.0 23789299964
      9  BSM01 SCAN1 FRAME1 2.0 23830195536
      10 BSM01 SCAN1 FRAME1 2.0 23673082270

     # category DIFFRN_SCAN_FRAME_AXIS
     loop_
     _diffrn_scan_frame_axis.frame_id
     _diffrn_scan_frame_axis.axis_id
     _diffrn_scan_frame_axis.angle
     _diffrn_scan_frame_axis.displacement
      FRAME1 GONIOMETER_OMEGA 12.0 0.0
      FRAME1 GONIOMETER_KAPPA 23.3 0.0
      FRAME1 GONIOMETER_PHI -165.8 0.0
      FRAME1 DETECTOR_Z 0.0 -240.0
      FRAME1 DETECTOR_Y 0.0 0.6
      FRAME1 DETECTOR_X 0.0 -0.5
      FRAME1 DETECTOR_PITCH 0.0 0.0
      FRAME1 MONITOR_Z 0.0 -220.0

     # category AXIS
     loop_
     _axis.id
     _axis.type
     _axis.equipment
     _axis.depends_on
     _axis.vector[1] _axis.vector[2] _axis.vector[3]
     _axis.offset[1] _axis.offset[2] _axis.offset[3]
      GONIOMETER_OMEGA rotation goniometer . 1 0 0 . . .
      GONIOMETER_KAPPA rotation goniometer GONIOMETER_OMEGA 0.64279
      0 0.76604 . . .
      GONIOMETER_PHI   rotation goniometer GONIOMETER_KAPPA 1 0 0
     . . .
      SOURCE           general source . 0 0 1 . . .
      GRAVITY          general gravity . 0 -1 0 . . .
      DETECTOR_Z       translation detector . 0 0 1 0 0 0
      DETECTOR_Y       translation detector DETECTOR_Z 0 1 0 0 0 0
      DETECTOR_X       translation detector DETECTOR_Y 1 0 0 0 0 0
      DETECTOR_PITCH   rotation    detector DETECTOR_X 0 1 0 0 0 0
      ELEMENT_X        translation detector DETECTOR_PITCH
     1 0 0 172.43 -172.43 0
      ELEMENT_Y        translation detector ELEMENT_X
     0 1 0 0 0 0
      MONITOR_Z        translation detector . 0 0 1 0 0 0

;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    
#######
# MAP #
#######


# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;   Example 1 - Identifying an observed density map
                and a calculated density map
;
;
       
        loop_
        _map.id
        _map.details
       
        rho_calc
   ;
        density calculated from F_calc derived from the ATOM_SITE list
   ;
        rho_obs
   ;
        density combining the observed structure factors with the
        calculated phases
   ;
;

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;   Example 1 - Identifying an observed density map
                and a calculated density map
;
;
       
        loop_
        _map.id
        _map.details
       
        rho_calc
    ;
        density calculated from F_calc derived from the ATOM_SITE list
    ;
        rho_obs
    ;
        density combining the observed structure factors with the
        calculated phases
    ;
;

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
      
###############
# MAP_SEGMENT #
###############


# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;   Example 1 - Identifying an observed density map
                and a calculated density map, each consisting of one
                segment, both using the same array structure
                and mask.
;
;
       
        loop_
        _map.id
        _map.details
       
        rho_calc
     ;
        density calculated from F_calc derived from the ATOM_SITE list
     ;
        rho_obs
     ;
        density combining the observed structure factors with the
        calculated phases
     ;

        loop_
        _map_segment.map_id
        _map_segment.id
        _map_segment.array_id
        _map_segment.binary_id
        _map_segment.mask_array_id
        _map_segment.mask_binary_id
        rho_calc rho_calc map_structure 1 mask_structure 1
        rho_obs  rho_obs  map_structure 2 mask_structure 1
;

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

    
###########
# VARIANT #
###########


# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;   Example 1 - Distinguishing between a raw beam center and a refined beam
       center inferred after indexing.  Detector d1 is composed of
       four CCD detector elements, each 200 mm by 200 mm, arranged
       in a square, in the pattern

                   1     2
                      *
                   3     4

       Note that the beam centre is slightly displaced from each of the
       detector elements, just beyond the lower right corner of 1,
       the lower left corner of 2, the upper right corner of 3 and
       the upper left corner of 4.  For each element, the detector
       face coordiate system, is assumed to have the fast axis
       running from left to right and the slow axis running from
       top to bottom with the origin at the top left corner.
      
       After indexing and refinement, the center is shifted by .2 mm
       left and .1 mm down.
       
       
;
;

        loop_
        _variant.variant
        _variant.role
        _variant.timestamp
        _variant.variant_of
        _variant.details
            . "raw data" 2007-08-03T23:20:00 . .
            indexed "preferred" 2007-08-04T01:17:28 .
              "indexed cell and refined beam center"
             
        loop_
        _diffrn_detector_element.detector_id
        _diffrn_detector_element.id
        _diffrn_detector_element.reference_center_fast
        _diffrn_detector_element.reference_center_slow
        _diffrn_detector_element.reference_center_units
        _diffrn_detector_element.variant
        d1     d1_ccd_1  201.5 201.5  mm  .
        d1     d1_ccd_2  -1.8  201.5  mm  .
        d1     d1_ccd_3  201.6  -1.4  mm  .
        d1     d1_ccd_4  -1.7   -1.5  mm  .
        d1     d1_ccd_1  201.3 201.6  mm  indexed
        d1     d1_ccd_2  -2.0  201.6  mm  indexed
        d1     d1_ccd_3  201.3  -1.5  mm  indexed
        d1     d1_ccd_4  -1.9   -1.6  mm  indexed
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

     