##############################################################################
#                                                                            #
#                      CIF CORE DIFFRACTION DICTIONARY                       #
#                                                                            #
##############################################################################
 
data_CORE_DIFFR
 
    _dictionary.title            CORE_DIFFR
    _dictionary.class            Instance
    _dictionary.version          1.6.08 
    _dictionary.date             2013-09-08 
    _dictionary.uri              www.iucr.org/cif/dic/core_diffr.dic
    _dictionary.ddl_conformance  3.11.04
    _dictionary.namespace        CoreDiffr
    _description.text
;
     This dictionary contains the definitions of data items that
     are considered CORE to the description of DIFFRACTION data.  
;
 

save_DIFFRACTION
    _definition.id               DIFFRACTION
    _definition.scope            Category
    _definition.class            Head          
    _definition.update           2012-11-26 
    _description.text
;
    The DICTIONARY group encompassing the CORE DIFFRACTION data items defined 
    and used with in the Crystallographic Information Framework (CIF).
;
    _name.category_id            CIF_CORE
    _name.object_id              DIFFRACTION
      
#============================================================================
 
save_DIFFRN
 
    _definition.id               DIFFRN
    _definition.scope            Category
    _definition.class            Set
    _definition.update           2012-12-13  
    _description.text
;
     The CATEGORY of data items used to describe the diffraction experiment.
;
    _name.category_id            DIFFRACTION
    _name.object_id              DIFFRN
 

save_diffrn.ambient_environment
    _definition.id             '_diffrn.ambient_environment'
     loop_
    _alias.definition_id       '_diffrn_ambient_environment'
    _definition.update           2012-11-26
    _description.text
;
     The gas or liquid environment of the crystal sample, if not air.
;
    _name.category_id            diffrn
    _name.object_id              ambient_environment
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case   'He'  'vacuum' 'mother liquor'
     save_


save_diffrn.ambient_pressure
    _definition.id             '_diffrn.ambient_pressure'
     loop_
    _alias.definition_id       '_diffrn_ambient_pressure'
    _definition.update           2012-11-26 
    _description.text
;
     Mean hydrostatic  pressure at which intensities were measured.
;
    _name.category_id            diffrn
    _name.object_id              ambient_pressure
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  kilopascals 
     save_
 

save_diffrn.ambient_pressure_gt
    _definition.id             '_diffrn.ambient_pressure_gt'
     loop_
    _alias.definition_id       '_diffrn_ambient_pressure_gt'
    _definition.update           2012-12-13
    _description.text
;   
     Mean hydrostatic pressure above which intensities were measured. 
     These items allow for a pressure range to be given.  
    _diffrn.ambient_pressure should be used in preference to this 
     item when possible.
;
    _name.category_id            diffrn
    _name.object_id              ambient_pressure_gt
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  kilopascals
     save_


save_diffrn.ambient_pressure_lt
    _definition.id             '_diffrn.ambient_pressure_lt'
     loop_
    _alias.definition_id       '_diffrn_ambient_pressure_lt'
    _definition.update           2012-12-13
    _description.text          
;     
     Mean hydrostatic pressure below which intensities were measured. 
     These items allow for a pressure range to be given.
    _diffrn.ambient_pressure should be used in preference to this
     item when possible.
;   
    _name.category_id            diffrn
    _name.object_id              ambient_pressure_lt
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  kilopascals
     save_

 
save_diffrn.ambient_temperature
    _definition.id             '_diffrn.ambient_temperature'
     loop_
    _alias.definition_id       '_diffrn_ambient_temperature'
                               '_diffrn_ambient_temp'
                               '_diffrn.ambient_temp'
    _definition.update           2012-11-26 
    _description.text
;
     Mean temperature at which intensities were measured.
;
    _name.category_id            diffrn
    _name.object_id              ambient_temperature
    _type.purpose                Number 
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  kelvins
     save_
 

save_diffrn.ambient_temperature_gt
    _definition.id             '_diffrn.ambient_temperature_gt'
     loop_
    _alias.definition_id       '_diffrn_ambient_temperature_gt'
    _definition.update           2012-12-13
    _description.text
;
     Mean temperature above which intensities were measured.
     These items allow for a temperature range to be given.
    _diffrn.ambient_temperature should be used in preference to 
     this item when possible.
;
    _name.category_id            diffrn
    _name.object_id              ambient_temperature_gt
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  kelvins
     save_


save_diffrn.ambient_temperature_lt
    _definition.id             '_diffrn.ambient_temperature_lt'
     loop_
    _alias.definition_id       '_diffrn_ambient_temperature_lt'
    _definition.update           2012-12-13
    _description.text
;
     Mean temperature below which intensities were measured.
     These items allow for a temperature range to be given.
    _diffrn.ambient_temperature should be used in preference to 
     this item when possible.
;
    _name.category_id            diffrn
    _name.object_id              ambient_temperature_lt
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  kelvins
     save_
 
save_diffrn.crystal_treatment
    _definition.id             '_diffrn.crystal_treatment'
     loop_
    _alias.definition_id       '_diffrn_crystal_treatment'
    _definition.update           2012-11-26 
    _description.text
;
     Remarks about how the crystal was treated prior to intensity measurement.
     Particularly relevant when intensities were measured at low temperature.
;
    _name.category_id            diffrn
    _name.object_id              crystal_treatment
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case  'equilibrated in hutch for 24 hours'
                               'flash frozen in liquid nitrogen'
                               'slow cooled with direct air stream'
     save_
 

save_diffrn.measured_fraction_theta_full
    _definition.id             '_diffrn.measured_fraction_theta_full'
    loop_
    _alias.definition_id       '_diffrn_measured_fraction_theta_full'
    _definition.update           2013-01-20
    _description.text
;
     Fraction of unique (symmetry-independent) reflections measured
     out to _diffrn_reflns.theta_full.
;
    _name.category_id            diffrn
    _name.object_id              measured_fraction_theta_full
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:1.0
    _units.code                  none
     save_


save_diffrn.measured_fraction_theta_max
    _definition.id             '_diffrn.measured_fraction_theta_max'
    loop_
    _alias.definition_id       '_diffrn_measured_fraction_theta_max'
    _definition.update           2013-01-20
    _description.text
;
     Fraction of unique (symmetry-independent) reflections measured
     out to _diffrn_reflns.theta_max.
;
    _name.category_id            diffrn
    _name.object_id              measured_fraction_theta_max
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:1.0
    _units.code                  none
     save_


 
save_diffrn.special_details
    _definition.id             '_diffrn.special_details'
     loop_
    _alias.definition_id       '_diffrn_special_details'
                               '_diffrn.details'
    _definition.update           2012-11-26 
    _description.text
;
     Special details of the diffraction measurement process. Should include
     information about source instability, crystal motion, degradation, etc.
;
    _name.category_id            diffrn
    _name.object_id              special_details
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case
;
     The results may not be entirely reliable as the measurement was
     made during a heat wave when the air-conditioning had failed.
;
     save_
 
 
save_diffrn.symmetry_description
    _definition.id             '_diffrn.symmetry_description'
     loop_
    _alias.definition_id       '_diffrn_symmetry_description'
    _definition.update           2012-11-26 
    _description.text
;
     Recorded diffraction point symmetry, systematic absences and possible
     space group(s) or superspace group(s) compatible with these.
;
    _name.category_id            diffrn
    _name.object_id              symmetry_description
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     save_
 
#----------------------------------------------------------------------
 
save_DIFFRN_ATTENUATOR
 
    _definition.id               DIFFRN_ATTENUATOR
    _definition.scope            Category
    _definition.class            Loop
    _definition.update           2013-09-08 
    _description.text
;
     The CATEGORY of data items which specify the attenuators used in the
     diffraction source.
;
    _name.category_id            DIFFRN
    _name.object_id              ATTENUATOR
    _category.key_id           '_diffrn_attenuator.key'
    _category.key_list        ['_diffrn_attenuator.code']


save_diffrn_attenuator.key
    _definition.id             '_diffrn_attenuator.key'
    _definition.update           2012-11-26 
    _description.text
;
     Value is a unique key to a set of DIFFRN_ATTENUATOR items
     in a looped list.
;
    _name.category_id            attenuator
    _name.object_id              key
    _type.purpose                Key
    _type.source                 Related
    _type.container              Single
    _type.contents               Implied
     loop_
    _method.purpose
    _method.expression
     Definition
;              _type.contents = Type_Contents(diffrn_attenuator.code)
;
     Evaluation
;              _diffrn_attenuator.key = _diffrn_attenuator.code
;
     save_
 
 
save_diffrn_attenuator.code
    _definition.id             '_diffrn_attenuator.code'
     loop_
    _alias.definition_id       '_diffrn_attenuator_code'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying a particular attenuator setting; referenced by the
     _diffrn_refln.attenuator_code which is stored with the intensities.
;
    _name.category_id            attenuator
    _name.object_id              code
    _type.purpose                Encode
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Code
     save_
 
 
save_diffrn_attenuator.material
    _definition.id             '_diffrn_attenuator.material'
     loop_
    _alias.definition_id       '_diffrn_attenuator_material'
    _definition.update           2012-11-26 
    _description.text
;
     Description of the material from which the attenuator is made.
;
    _name.category_id            attenuator
    _name.object_id              material
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     save_
 
 
save_diffrn_attenuator.scale
    _definition.id             '_diffrn_attenuator.scale'
     loop_
    _alias.definition_id       '_diffrn_attenuator_scale'
    _definition.update           2012-11-26 
    _description.text
;
     The scale factor applied to a measured intensity if it is reduced by
     an attenuator identified by _diffrn_attenuator.code.
;
    _name.category_id            attenuator
    _name.object_id              scale
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           1.0:
    _units.code                  none
     save_

     save_     #------ close DIFFRN_ATTENUATOR category
 
 
#----------------------------------------------------------------------
 
save_DIFFRN_DETECTOR
 
    _definition.id               DIFFRN_DETECTOR
    _definition.scope            Category
    _definition.class            Set
    _definition.update           2012-11-26 
    _description.text
;
     The CATEGORY of data items which specify the detectors used in the
     in the measurement of diffraction intensities.
;
    _name.category_id            DIFFRN
    _name.object_id              DETECTOR
 
 
save_diffrn_detector.description
    _definition.id             '_diffrn_detector.description'
    loop_
    _alias.definition_id       '_diffrn_radiation_detector'
                               '_diffrn_detector'
                               '_diffrn_detector.detector'
    _definition.update           2012-11-26 
    _description.text
;
     Description of the type of diffraction radiation detector.
;
    _name.category_id            detector
    _name.object_id              description
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case   'photographic film'
                                'scintillation counter'
                                'CCD plate'
                                'BF~3~ counter'
     save_
 
 
save_diffrn_detector.area_resol_mean
    _definition.id             '_diffrn_detector.area_resol_mean'
    loop_
    _alias.definition_id       '_diffrn_detector_area_resol_mean'
    _definition.update           2012-11-26 
    _description.text
;
     The resolution limit of an area diffraction radiation detector.
;
    _name.category_id            detector
    _name.object_id              area_resol_mean
    _type.purpose                Number
    _type.source                 Assigned 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  pixel_per_millimetre
     save_
 
 
save_diffrn_detector.details
    _definition.id             '_diffrn_detector.details'
    loop_
    _alias.definition_id       '_diffrn_detector_details'
    _definition.update           2012-11-26 
    _description.text
;
     Description of special aspects of the radiation detector.
;
    _name.category_id            detector
    _name.object_id              details
    _type.purpose                Describe
    _type.source                 Recorded 
    _type.container              Single
    _type.contents               Text
     save_
 
 
save_diffrn_detector.dtime
    _definition.id             '_diffrn_detector.dtime'
    loop_
    _alias.definition_id       '_diffrn_detector_dtime'
                               '_diffrn_radiation.detector_dtime'
                               '_diffrn_radiation_detector_dtime'
    _definition.update           2012-11-26 
    _description.text
;
     The maximum time between two detector signals that cannot be resolved.
;
    _name.category_id            detector
    _name.object_id              dtime
    _type.purpose                Number
    _type.source                 Assigned 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  microseconds
     save_
 
 
save_diffrn_detector.make
    _definition.id             '_diffrn_detector.make'
    loop_
    _alias.definition_id       '_diffrn_detector_type'
                               '_diffrn_detector.type'
    _definition.update           2012-11-26 
    _description.text
;
     The make, model or name of the diffraction radiation detector.
;
    _name.category_id            detector
    _name.object_id              make
    _type.purpose                Describe
    _type.source                 Recorded 
    _type.container              Single
    _type.contents               Text
     save_

     save_     #------ close DIFFRN_DETECTOR category

#----------------------------------------------------------------------------
 

save_DIFFRN_MEASUREMENT
 
    _definition.id               DIFFRN_MEASUREMENT
    _definition.scope            Category
    _definition.class            Set
    _definition.update           2012-11-26 
    _description.text
;
     The CATEGORY of data items which specify the details of the 
     diffraction measurement.
;
    _name.category_id            DIFFRN
    _name.object_id              MEASUREMENT
 
 
save_diffrn_measurement.details
    _definition.id             '_diffrn_measurement.details'
     loop_
    _alias.definition_id       '_diffrn_measurement_details'
                               '_diffrn.measurement_details'
    _definition.update           2012-11-26 
    _description.text
;
     Description of special aspects of the diffraction measurement.
;
    _name.category_id            measurement
    _name.object_id              details
    _type.purpose                Describe
    _type.source                 Recorded 
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case   '440 frames of 0.25\%'
     save_
 
 
save_diffrn_measurement.device_class
    _definition.id             '_diffrn_measurement.device_class'
    loop_
    _alias.definition_id       '_diffrn_measurement_device'
                               '_diffrn.measurement_device_class'
                               '_diffrn.measurement.device'
    _definition.update           2012-11-26 
    _description.text
;
     Type of goniometer device used to mount and orient the specimen.
;
    _name.category_id            measurement
    _name.object_id              device_class
    _type.purpose                Describe
    _type.source                 Recorded 
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case   'three-circle diffractometer'
                                'four-circle diffractometer'
                                '\k-geometry diffractometer'
                                'oscillation camera'
                                'precession camera'
     save_
 
 
save_diffrn_measurement.device_details
    _definition.id             '_diffrn_measurement.device_details'
     loop_
    _alias.definition_id       '_diffrn_measurement_device_details'
                               '_diffrn.measurement_device_details'
    _definition.update           2012-11-26 
    _description.text
;
     Details of the goniometer device used in the diffraction experiment.
;
    _name.category_id            measurement
    _name.object_id              device_details
    _type.purpose                Describe
    _type.source                 Recorded 
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case
;                                commercial goniometer modified locally to
                                 allow for 90\% \t arc
;
     save_
 
 
save_diffrn_measurement.device_make
    _definition.id             '_diffrn_measurement.device_make'
    loop_
    _alias.definition_id       '_diffrn_measurement_device_type'
                               '_diffrn.measurement_device_make'
                               '_diffrn_measurement_device.type'
    _definition.update           2013-03-07 
    _description.text
;
     The make, model or name of the goniometer device used.
;
    _name.category_id            measurement
    _name.object_id              device_make
    _type.purpose                Describe
    _type.source                 Recorded 
    _type.container              Single
    _type.contents               Text
     save_
 
 
save_diffrn_measurement.method
    _definition.id             '_diffrn_measurement.method'
     loop_
    _alias.definition_id       '_diffrn_measurement_method'
                               '_diffrn.measurement_method'
    _definition.update           2012-11-26 
    _description.text
;
     Description of scan method used to measure diffraction intensities.
;
    _name.category_id            measurement
    _name.object_id              method
    _type.purpose                Describe
    _type.source                 Recorded 
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case    'profile data from \q/2\q scans'
     save_
 
 
save_diffrn_measurement.specimen_support
    _definition.id             '_diffrn_measurement.specimen_support'
     loop_
    _alias.definition_id       '_diffrn_measurement_specimen_support'
                               '_diffrn.measurement_specimen_support'
    _definition.update           2013-01-23 
    _description.text
;
     Mounting method for the crystal specimum during data collection.
;
    _name.category_id            measurement
    _name.object_id              specimen_support
    _type.purpose                Describe
    _type.source                 Recorded 
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case   'glass capillary'
                                'quartz capillary'
                                'fiber'
                                'metal loop'
     save_

     save_     #------ close DIFFRN_MEASUREMENT category
 
#----------------------------------------------------------------------------
 

save_DIFFRN_ORIENT
 
    _definition.id               DIFFRN_ORIENT
    _definition.scope            Category
    _definition.class            Set
    _definition.update           2012-11-26 
    _description.text
;
     The CATEGORY of data items which specify the orientation of the crystal
     axes to the diffractometer goniometer.
;
    _name.category_id            DIFFRN
    _name.object_id              ORIENT
 
#----------------------------------------------------------------------------
 

save_DIFFRN_ORIENT_MATRIX
 
    _definition.id               DIFFRN_ORIENT_MATRIX
    _definition.scope            Category
    _definition.class            Set
    _definition.update           2012-11-26 
    _description.text
;
     The CATEGORY of data items which specify the matrix specifying the 
     orientation of the crystal axes to the diffractometer goniometer.
;
    _name.category_id            DIFFRN_ORIENT
    _name.object_id              MATRIX
 
 
save_diffrn_orient_matrix.type
    _definition.id             '_diffrn_orient_matrix.type'
     loop_
    _alias.definition_id       '_diffrn_orient_matrix_type'
    _definition.update           2012-11-26 
    _description.text
;
     Description of orientation matrix and how it should be applied to define
     the orientation of the crystal with respect to the diffractometer axes.
;
    _name.category_id            matrix
    _name.object_id              type
    _type.purpose                Describe
    _type.source                 Recorded 
    _type.container              Single
    _type.contents               Text
     save_
 
 
save_diffrn_orient_matrix.UBIJ
    _definition.id             '_diffrn_orient_matrix.UBIJ'
    _definition.update           2012-11-26 
    _description.text
;
     The 3x3 matrix specifying the orientation of the crystal with
     respect to the diffractometer axes.
;
    _name.category_id            matrix
    _name.object_id              UBIJ   
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Matrix
    _type.contents               Real
    _type.dimension              [3,3]
     loop_
    _method.purpose    
    _method.expression
     Evaluation
;
     With  o  as  diffrn_orient_matrix
 
      _diffrn_orient_matrix.UBIJ  =   [[ o.ub_11, o.ub_12, o.ub_13 ],
                                       [ o.ub_21, o.ub_22, o.ub_23 ],
                                       [ o.ub_31, o.ub_32, o.ub_33 ]]
;
     save_
 
 
save_diffrn_orient_matrix.UB_11
    _definition.id             '_diffrn_orient_matrix.UB_11'
     loop_
    _alias.definition_id       '_diffrn_orient_matrix_UB_11'
                               '_diffrn_orient_matrix.UB[1][1]'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_matrix'}]
    _name.category_id            matrix
    _name.object_id              UB_11
     save_
 
 
save_diffrn_orient_matrix.UB_12
    _definition.id             '_diffrn_orient_matrix.UB_12'
     loop_
    _alias.definition_id       '_diffrn_orient_matrix_UB_12'
                               '_diffrn_orient_matrix.UB[1][2]'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_matrix'}]
    _name.category_id            matrix
    _name.object_id              UB_12
     save_
 
 
save_diffrn_orient_matrix.UB_13
    _definition.id             '_diffrn_orient_matrix.UB_13'
     loop_
    _alias.definition_id       '_diffrn_orient_matrix_UB_13'
                               '_diffrn_orient_matrix.UB[1][3]'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_matrix'}]
    _name.category_id            matrix
    _name.object_id              UB_13
     save_
 
 
save_diffrn_orient_matrix.UB_21
    _definition.id             '_diffrn_orient_matrix.UB_21'
     loop_
    _alias.definition_id       '_diffrn_orient_matrix_UB_21'
                               '_diffrn_orient_matrix.UB[2][1]'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_matrix'}]
    _name.category_id            matrix
    _name.object_id              UB_21
     save_
 
 
save_diffrn_orient_matrix.UB_22
    _definition.id             '_diffrn_orient_matrix.UB_22'
     loop_
    _alias.definition_id       '_diffrn_orient_matrix_UB_22'
                               '_diffrn_orient_matrix.UB[2][2]'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_matrix'}]
    _name.category_id            matrix
    _name.object_id              UB_22
     save_
 
 
save_diffrn_orient_matrix.UB_23
    _definition.id             '_diffrn_orient_matrix.UB_23'
     loop_
    _alias.definition_id       '_diffrn_orient_matrix_UB_23'
                               '_diffrn_orient_matrix.UB[2][3]'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_matrix'}]
    _name.category_id            matrix
    _name.object_id              UB_23
     save_
 
 
save_diffrn_orient_matrix.UB_31
    _definition.id             '_diffrn_orient_matrix.UB_31'
     loop_
    _alias.definition_id       '_diffrn_orient_matrix_UB_31'
                               '_diffrn_orient_matrix.UB[3][1]'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_matrix'}]
    _name.category_id            matrix
    _name.object_id              UB_31
     save_
 
 
save_diffrn_orient_matrix.UB_32
    _definition.id             '_diffrn_orient_matrix.UB_32'
     loop_
    _alias.definition_id       '_diffrn_orient_matrix_UB_32'
                               '_diffrn_orient_matrix.UB[3][2]'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_matrix'}]
    _name.category_id            matrix
    _name.object_id              UB_32
     save_
 
 
save_diffrn_orient_matrix.UB_33
    _definition.id             '_diffrn_orient_matrix.UB_33'
     loop_
    _alias.definition_id       '_diffrn_orient_matrix_UB_33'
                               '_diffrn_orient_matrix.UB[3][3]'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_matrix'}]
    _name.category_id            matrix
    _name.object_id              UB_33
     save_

     save_     #------ close DIFFRN_ORIENT_MATRIX category
 
#----------------------------------------------------------------------------
 

save_DIFFRN_ORIENT_REFLN
 
    _definition.id               DIFFRN_ORIENT_REFLN
    _definition.scope            Category
    _definition.class            Loop
    _definition.update           2013-09-08 
    _description.text
;
     The CATEGORY of data items which specify the reflections used to
     calculate the matrix which gives the orientation of the crystal
     axes to the diffractometer goniometer.
;
    _name.category_id            DIFFRN_ORIENT
    _name.object_id              REFLN 
    _category.key_id           '_diffrn_orient_refln.key'
    _category.key_list        ['_diffrn_orient_refln.index_h',
                               '_diffrn_orient_refln.index_k',
                               '_diffrn_orient_refln.index_l']


save_diffrn_orient_refln.key
    _definition.id             '_diffrn_orient_refln.key'
    _definition.update           2012-11-26 
    _description.text
;
     Value is a unique key to a set of DIFFRN_ORIENT_REFLN items
     in a looped list.
;
    _name.category_id            refln
    _name.object_id              key
    _type.purpose                Key
    _type.source                 Related
    _type.container              Single
    _type.contents               Implied
     loop_
    _method.purpose
    _method.expression
     Definition
;          _type.contents = Type_Contents(diffrn_orient_refln.hkl)
;
     Evaluation
;          _diffrn_orient_refln.key = _diffrn_orient_refln.hkl
;
     save_
 
 
save_diffrn_orient_refln.angle_chi
    _definition.id             '_diffrn_orient_refln.angle_chi'
     loop_
    _alias.definition_id       '_diffrn_orient_refln_angle_chi'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_angle'}]
    _name.category_id            refln
    _name.object_id              angle_chi
     save_
 
 
save_diffrn_orient_refln.angle_kappa
    _definition.id             '_diffrn_orient_refln.angle_kappa'
     loop_
    _alias.definition_id       '_diffrn_orient_refln_angle_kappa'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_angle'}]
    _name.category_id            refln
    _name.object_id              angle_kappa
     save_
 
 
save_diffrn_orient_refln.angle_omega
    _definition.id             '_diffrn_orient_refln.angle_omega'
     loop_
    _alias.definition_id       '_diffrn_orient_refln_angle_omega'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_angle'}]
    _name.category_id            refln
    _name.object_id              angle_omega
     save_
 
 
save_diffrn_orient_refln.angle_phi
    _definition.id             '_diffrn_orient_refln.angle_phi'
     loop_
    _alias.definition_id       '_diffrn_orient_refln_angle_phi'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_angle'}]
    _name.category_id            refln
    _name.object_id              angle_phi
     save_
 
 
save_diffrn_orient_refln.angle_psi
    _definition.id             '_diffrn_orient_refln.angle_psi'
     loop_
    _alias.definition_id       '_diffrn_orient_refln_angle_psi'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_angle'}]
    _name.category_id            refln
    _name.object_id              angle_psi
     save_
 
 
save_diffrn_orient_refln.angle_theta
    _definition.id             '_diffrn_orient_refln.angle_theta'
     loop_
    _alias.definition_id       '_diffrn_orient_refln_angle_theta'
    _import.get         [{"file":'templ_attr.cif',"save":'orient_angle'}]
    _name.category_id            refln
    _name.object_id              angle_theta
     save_
 

save_diffrn_orient_refln.hkl
    _definition.id             '_diffrn_orient_refln.hkl'
    _definition.update           2012-11-26 
    _description.text
;
     Miller indices of a reflection used to define the orientation matrix.
;
    _name.category_id            refln
    _name.object_id              hkl
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Matrix
    _type.contents               Integer
    _type.dimension              [3]
     loop_
    _method.purpose    
    _method.expression
     Evaluation
;
     With a as diffrn_orient_refln
 
       _diffrn_orient_refln.hkl =  [a.index_h, a.index_k, a.index_l]
;
     save_
 
 
save_diffrn_orient_refln.index_h
    _definition.id             '_diffrn_orient_refln.index_h'
     loop_
    _alias.definition_id       '_diffrn_orient_refln_index_h'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            refln
    _name.object_id              index_h
     save_
 
 
save_diffrn_orient_refln.index_k
    _definition.id             '_diffrn_orient_refln.index_k'
     loop_
    _alias.definition_id       '_diffrn_orient_refln_index_k'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            refln
    _name.object_id              index_k
     save_
 
 
save_diffrn_orient_refln.index_l
    _definition.id             '_diffrn_orient_refln.index_l'
     loop_
    _alias.definition_id       '_diffrn_orient_refln_index_l'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            refln
    _name.object_id              index_l
     save_

     save_     #------ close DIFFRN_ORIENT_REFLN category

     save_     #------ close DIFFRN_ORIENT category
 

#----------------------------------------------------------------------------
 

save_DIFFRN_RADIATION
 
    _definition.id               DIFFRN_RADIATION
    _definition.scope            Category
    _definition.class            Set
    _definition.update           2012-11-26 
    _description.text
;
     The CATEGORY of data items which specify the wavelength of the
     radiation used in measuring diffraction intensities. Items may be
     looped to identify and assign weights to distinct wavelength
     components from a polychromatic beam.
;
    _name.category_id            DIFFRN
    _name.object_id              RADIATION
 
 
save_diffrn_radiation.collimation
    _definition.id             '_diffrn_radiation.collimation'
     loop_
    _alias.definition_id       '_diffrn_radiation_collimation'
    _definition.update           2012-11-26 
    _description.text
;
     Description of the collimation or focusing applied to the radiation.
;
    _name.category_id            radiation
    _name.object_id              collimation
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case  '0.3 mm double-pinhole'
                               '0.5 mm'
                               'focusing mirrors'
     save_
 
 
save_diffrn_radiation.filter_edge
    _definition.id             '_diffrn_radiation.filter_edge'
     loop_
    _alias.definition_id       '_diffrn_radiation_filter_edge'
    _definition.update           2012-11-26 
    _description.text
;
     Absorption edge of the radiation filter used.
;
    _name.category_id            radiation
    _name.object_id              filter_edge
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  angstroms 
     save_
 
 
save_diffrn_radiation.inhomogeneity
    _definition.id             '_diffrn_radiation.inhomogeneity'
     loop_
    _alias.definition_id       '_diffrn_radiation_inhomogeneity'
    _definition.update           2012-11-26 
    _description.text
;
     Half-width of the incident beam perpendicular to the diffraction plane.
;
    _name.category_id            radiation
    _name.object_id              inhomogeneity
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  millimetres 
     save_
 
 
save_diffrn_radiation.monochromator
    _definition.id             '_diffrn_radiation.monochromator'
     loop_
    _alias.definition_id       '_diffrn_radiation_monochromator'
    _definition.update           2012-11-26 
    _description.text
;
     Description of the method used to obtain monochromatic radiation.
     If a monochromator crystal is used the material and the indices of
     the Bragg reflection are specified.
;
    _name.category_id            radiation
    _name.object_id              monochromator
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case   'Zr filter'   'Ge 220'   'none'
                                'equatorial mounted graphite'
     save_
 
 
save_diffrn_radiation.polarisn_norm
    _definition.id             '_diffrn_radiation.polarisn_norm'
     loop_
    _alias.definition_id       '_diffrn_radiation_polarisn_norm'
    _definition.update           2012-11-26 
    _description.text
;
     The angle, as viewed from the specimen, between the perpendicular
     component of the polarisation and the diffraction plane.
;
    _name.category_id            radiation
    _name.object_id              polarisn_norm
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           -180.0:180.0
    _units.code                  degrees
     save_
 
 
save_diffrn_radiation.polarisn_ratio
    _definition.id             '_diffrn_radiation.polarisn_ratio'
     loop_
    _alias.definition_id       '_diffrn_radiation_polarisn_ratio'
    _definition.update           2012-11-26 
    _description.text
;
     Polarisation ratio of the diffraction beam incident on the crystal.
     It is the ratio of the perpendicularly polarised to the parallel
     polarised component of the radiation. The perpendicular component
     forms an angle of _diffrn_radiation.polarisn_norm to the normal to
     the diffraction plane of the sample (i.e. the plane containing the
     incident and reflected beams).
;
    _name.category_id            radiation
    _name.object_id              polarisn_ratio
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 
 
save_diffrn_radiation.probe
    _definition.id             '_diffrn_radiation.probe'
     loop_
    _alias.definition_id       '_diffrn_radiation_probe'
    _definition.update           2012-11-26 
    _description.text
;
     Enumerated code for the nature of radiation used (i.e. name of 
     subatomic particle or region of the electromagnetic spectrum).
;
    _name.category_id            radiation
    _name.object_id              probe
    _type.purpose                State
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Code
     loop_
    _enumeration_set.state       x-ray  neutron  electron  gamma
    _enumeration.default         x-ray
     save_
 
 
save_diffrn_radiation.type
    _definition.id             '_diffrn_radiation.type'
     loop_
    _alias.definition_id       '_diffrn_radiation_type'
    _definition.update           2013-03-23 
    _description.text
;
     Details of the radiation source or energy spectrum.
;
    _name.category_id            radiation
    _name.object_id              type
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     loop_ _description_example.case             'Mo K\a'
                                 'Cu K\a'        'Cu K\a~1~'
                                 'Cu K-L~2,3~'   white-beam
     save_
 
 
save_diffrn_radiation.xray_symbol
    _definition.id             '_diffrn_radiation.xray_symbol'
     loop_
    _alias.definition_id       '_diffrn_radiation_xray_symbol'
    _definition.update           2012-11-26 
    _description.text
;
     IUPAC symbol for the X-ray wavelength for probe radiation.
;
    _name.category_id            radiation
    _name.object_id              xray_symbol
    _type.purpose                State
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Code
    loop_ _enumeration_set.state
          _enumeration_set.detail
                  K-L~3~        'K\a~1~ in older Siegbahn notation'
                  K-L~2~        'K\a~2~ in older Siegbahn notation'
                  K-M~3~        'K\b~1~ in older Siegbahn notation'
                  K-L~2,3~      'use where K-L~3~ and K-L~2~ are not resolved'
    _enumeration.default         K-L~3~
     save_
 

#-----------------------------------------------------------------------------
 
save_DIFFRN_RADIATION_WAVELENGTH
 
    _definition.id               DIFFRN_RADIATION_WAVELENGTH
    _definition.scope            Category
    _definition.class            Loop
    _definition.update           2013-09-08 
    _description.text
;
     The CATEGORY of data items which specify the wavelength of the
     radiation used in measuring diffraction intensities. Items may be
     looped to identify and assign weights to distinct wavelength
     components from a polychromatic beam.
;
    _name.category_id            DIFFRN_RADIATION
    _name.object_id              WAVELENGTH
    _category.key_id           '_diffrn_radiation_wavelength.key'
    _category.key_list        ['_diffrn_radiation_wavelength.id']


save_diffrn_radiation_wavelength.key
    _definition.id             '_diffrn_radiation_wavelength.key'
    _definition.update           2012-11-26 
    _description.text
;
     Value is a unique key to a set of DIFFRN_RADIATION_WAVELENGTH items
     in a looped list.
;
    _name.category_id            wavelength
    _name.object_id              key
    _type.purpose                Key
    _type.source                 Related
    _type.container              Single
    _type.contents               Implied
     loop_
    _method.purpose
    _method.expression
     Definition
;      _type.contents = Type_Contents(diffrn_radiation_wavelength.id)
;
     Evaluation
;     _diffrn_radiation_wavelength.key = _diffrn_radiation_wavelength.id
;
     save_
 
 
save_diffrn_radiation_wavelength.value
    _definition.id             '_diffrn_radiation_wavelength.value'
     loop_
    _alias.definition_id       '_diffrn_radiation_wavelength'
                               '_diffrn_radiation_wavelength.wavelength'
    _definition.update           2012-11-26 
    _description.text
;
     Wavelength of radiation used in diffraction measurements.
;
    _name.category_id            wavelength
    _name.object_id              value
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  angstroms 
     save_
 
 
save_diffrn_radiation_wavelength.id
    _definition.id             '_diffrn_radiation_wavelength.id'
     loop_
    _alias.definition_id       '_diffrn_radiation_wavelength_id'
                               '_diffrn_radiation.wavelength_id'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying a radiation used in the diffraction measurements.
     This is linked to _diffrn_refln.wavelength_id and _refln.wavelength_id
;
    _name.category_id            wavelength
    _name.object_id              id
    _type.purpose                Encode
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Code
     loop_ _description_example.case    "x2"
     save_
 

save_diffrn_radiation_wavelength.details
    _definition.id             '_diffrn_radiation_wavelength.details'
     loop_
    _alias.definition_id       '_diffrn_radiation_wavelength_details'
                               '_diffrn_radiation.wavelength_details'
    _definition.update           2012-11-26
    _description.text
;
     Information about the determination of the radiation
     wavelength that is not conveyed completely by an
     enumerated value of _diffrn_radiation_wavelength.determination.
;
    _name.category_id            wavelength
    _name.object_id              details
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     save_


save_diffrn_radiation_wavelength.determination
    _definition.id             '_diffrn_radiation_wavelength.determination'
     loop_
    _alias.definition_id       '_diffrn_radiation_wavelength_determination'
                               '_diffrn_radiation.wavelength_determination'
    _definition.update           2012-11-26
    _description.text
;
     Information about the determination of the radiation 
     wavelength that is not conveyed completely by an
     enumerated value of _diffrn_radiation_wavelength.determination.
;
    _name.category_id            wavelength
    _name.object_id              determination
    _type.purpose                State
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Code
     loop_ 
    _enumeration_set.state
    _enumeration_set.detail
     fundamental 'Fundamental property of matter e.g. MoK\alpha'
     estimated   'Estimated  e.g. from monochromator angle or time of flight'
     refined     'Refined using a standard crystal with known cell parameters'
    _enumeration.default    fundamental
     save_

 
save_diffrn_radiation_wavelength.wt
    _definition.id             '_diffrn_radiation_wavelength.wt'
     loop_
    _alias.definition_id       '_diffrn_radiation_wavelength_wt'
    _definition.update           2012-11-26 
    _description.text
;
     Relative intensity of a radiation used in the diffraction measurements.
;
    _name.category_id            wavelength
    _name.object_id              wt
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:1.0
    _enumeration.default         1.0
    _units.code                  none
     save_

     save_     #------ close DIFFRN_RADIATION_WAVELENGTH category

     save_     #------ close DIFFRN_RADIATION category
 

#-----------------------------------------------------------------------------


save_DIFFRN_REFLN
 
    _definition.id               DIFFRN_REFLN
    _definition.scope            Category
    _definition.class            Loop
    _definition.update           2013-09-08 
    _description.text
;
     The CATEGORY of data items which specify the reflection measurements,
     prior to data reduction and merging.
;
    _name.category_id            DIFFRN
    _name.object_id              REFLN
    _category.key_id           '_diffrn_refln.key'
    _category.key_list        ['_diffrn_refln.index_h',
                               '_diffrn_refln.index_k',
                               '_diffrn_refln.index_l']


save_diffrn_refln.key
    _definition.id             '_diffrn_refln.key'
    _definition.update           2012-11-26 
    _description.text
;
     Value is a unique key to a set of DIFFRN_REFLN items
     in a looped list.
;
    _name.category_id            refln
    _name.object_id              key
    _type.purpose                Key
    _type.source                 Related
    _type.container              Single
    _type.contents               Implied
     loop_
    _method.purpose
    _method.expression
     Definition
;           _type.contents = Type_Contents(diffrn_refln.hkl)
;
     Evaluation
;           _diffrn_refln.key = _diffrn_refln.hkl
;
     save_
 
 
save_diffrn_refln.angle_chi
    _definition.id             '_diffrn_refln.angle_chi'
     loop_
    _alias.definition_id       '_diffrn_refln_angle_chi'
    _import.get         [{"file":'templ_attr.cif',"save":'diffr_angle'}]
    _name.category_id            diffrn_refln
    _name.object_id              angle_chi
     save_
 
 
save_diffrn_refln.angle_kappa
    _definition.id             '_diffrn_refln.angle_kappa'
     loop_
    _alias.definition_id       '_diffrn_refln_angle_kappa'
    _import.get         [{"file":'templ_attr.cif',"save":'diffr_angle'}]
    _name.category_id            refln
    _name.object_id              angle_kappa
     save_
 
 
save_diffrn_refln.angle_omega
    _definition.id             '_diffrn_refln.angle_omega'
     loop_
    _alias.definition_id       '_diffrn_refln_angle_omega'
    _import.get         [{"file":'templ_attr.cif',"save":'diffr_angle'}]
    _name.category_id            refln
    _name.object_id              angle_omega
     save_
 
 
save_diffrn_refln.angle_phi
    _definition.id             '_diffrn_refln.angle_phi'
     loop_
    _alias.definition_id       '_diffrn_refln_angle_phi'
    _import.get         [{"file":'templ_attr.cif',"save":'diffr_angle'}]
    _name.category_id            refln
    _name.object_id              angle_phi
     save_
 
 
save_diffrn_refln.angle_psi
    _definition.id             '_diffrn_refln.angle_psi'
     loop_
    _alias.definition_id       '_diffrn_refln_angle_psi'
    _import.get         [{"file":'templ_attr.cif',"save":'diffr_angle'}]
    _name.category_id            refln
    _name.object_id              angle_psi
     save_
 
 
save_diffrn_refln.angle_theta
    _definition.id             '_diffrn_refln.angle_theta'
     loop_
    _alias.definition_id       '_diffrn_refln_angle_theta'
    _import.get         [{"file":'templ_attr.cif',"save":'diffr_angle'}]
    _name.category_id            refln
    _name.object_id              angle_theta
     save_
 
 
save_diffrn_refln.attenuator_code
    _definition.id             '_diffrn_refln.attenuator_code'
     loop_
    _alias.definition_id       '_diffrn_refln_attenuator_code'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying any attenuator setting for this reflection.
;
    _name.category_id            refln
    _name.object_id              attenuator_code
    _name.linked_item_id       '_diffrn_attenuator.code'
    _type.purpose                Link
    _type.source                 Related
    _type.container              Single
    _type.contents               Code
     save_
 
 
save_diffrn_refln.class_code
    _definition.id             '_diffrn_refln.class_code'
     loop_
    _alias.definition_id       '_diffrn_refln_class_code'
    _definition.update           2012-11-26 
    _description.text
;
     Code for reflection class, if assigned. e.g. modulated structures
;
    _name.category_id            refln
    _name.object_id              class_code
    _name.linked_item_id       '_diffrn_reflns_class.code'
    _type.purpose                Link
    _type.source                 Related
    _type.container              Single
    _type.contents               Code
     save_
 
 
save_diffrn_refln.counts_bg_1
    _definition.id             '_diffrn_refln.counts_bg_1'
     loop_
    _alias.definition_id       '_diffrn_refln_counts_bg_1'
    _import.get         [{"file":'templ_attr.cif',"save":'diffr_counts'}]
    _name.category_id            refln
    _name.object_id              counts_bg_1
     save_
 
 
save_diffrn_refln.counts_bg_2
    _definition.id             '_diffrn_refln.counts_bg_2'
     loop_
    _alias.definition_id       '_diffrn_refln_counts_bg_2'
    _import.get         [{"file":'templ_attr.cif',"save":'diffr_counts'}]
    _name.category_id            refln
    _name.object_id              counts_bg_2
     save_
 
 
save_diffrn_refln.counts_net
    _definition.id             '_diffrn_refln.counts_net'
     loop_
    _alias.definition_id       '_diffrn_refln_counts_net'
    _import.get         [{"file":'templ_attr.cif',"save":'diffr_counts'}]
    _name.category_id            refln
    _name.object_id              counts_net
     save_
 
 
save_diffrn_refln.counts_peak
    _definition.id             '_diffrn_refln.counts_peak'
     loop_
    _alias.definition_id       '_diffrn_refln_counts_peak'
    _import.get         [{"file":'templ_attr.cif',"save":'diffr_counts'}]
    _name.category_id            refln
    _name.object_id              counts_peak
     save_
 
 
save_diffrn_refln.counts_total
    _definition.id             '_diffrn_refln.counts_total'
     loop_
    _alias.definition_id       '_diffrn_refln_counts_total'
    _import.get         [{"file":'templ_attr.cif',"save":'diffr_counts'}]
    _name.category_id            refln
    _name.object_id              counts_total
     save_
 
 
save_diffrn_refln.crystal_id
    _definition.id             '_diffrn_refln.crystal_id'
     loop_
    _alias.definition_id       '_diffrn_refln_crystal_id'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying each crystal if multiple crystals are used.
;
    _name.category_id            refln
    _name.object_id              crystal_id
    _name.linked_item_id       '_exptl_crystal.id'
    _type.purpose                Link
    _type.source                 Related
    _type.container              Single
    _type.contents               Code
     save_
 
 
save_diffrn_refln.detect_slit_horiz
    _definition.id             '_diffrn_refln.detect_slit_horiz'
     loop_
    _alias.definition_id       '_diffrn_refln_detect_slit_horiz'
    _definition.update           2012-11-26 
    _description.text
;
     Total slit aperture angle in the diffraction plane.
;
    _name.category_id            refln
    _name.object_id              detect_slit_horiz
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:90.0
    _units.code                  degrees
     save_
 
 
save_diffrn_refln.detect_slit_vert
    _definition.id             '_diffrn_refln.detect_slit_vert'
     loop_
    _alias.definition_id       '_diffrn_refln_detect_slit_vert'
    _definition.update           2012-11-26 
    _description.text
;
     Total slit aperture angle perpendicular to the diffraction plane.
;
    _name.category_id            refln
    _name.object_id              detect_slit_vert
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:90.0
    _units.code                  degrees
     save_
 
 
save_diffrn_refln.elapsed_time
    _definition.id             '_diffrn_refln.elapsed_time'
     loop_
    _alias.definition_id       '_diffrn_refln_elapsed_time'
    _definition.update           2012-11-26 
    _description.text
;
     Elapsed time from the start to the end of the intensity measurement.
;
    _name.category_id            refln
    _name.object_id              elapsed_time
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  minutes
     save_
 
 
save_diffrn_refln.hkl
    _definition.id             '_diffrn_refln.hkl'
    _definition.update           2012-11-26 
    _description.text
;
     Miller indices of a measured reflection. These need not match the
     _refln.hkl values if a transformation of the original measured
     cell has taken place.
;
    _name.category_id            refln
    _name.object_id              hkl
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Matrix
    _type.contents               Integer
    _type.dimension              [3]
     loop_
    _method.purpose    
    _method.expression
     Evaluation
;
     With a as diffrn_refln
 
           _diffrn_refln.hkl =   [a.index_h, a.index_h, a.index_l]
;
     save_
 
 
save_diffrn_refln.index_h
    _definition.id             '_diffrn_refln.index_h'
     loop_
    _alias.definition_id       '_diffrn_refln_index_h'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            refln
    _name.object_id              index_h
     save_
 
 
save_diffrn_refln.index_k
    _definition.id             '_diffrn_refln.index_k'
     loop_
    _alias.definition_id       '_diffrn_refln_index_k'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            refln
    _name.object_id              index_k
     save_
 
 
save_diffrn_refln.index_l
    _definition.id             '_diffrn_refln.index_l'
     loop_
    _alias.definition_id       '_diffrn_refln_index_l'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            refln
    _name.object_id              index_l
     save_
 
 
save_diffrn_refln.intensity_net
    _definition.id             '_diffrn_refln.intensity_net'
     loop_
    _alias.definition_id       '_diffrn_refln_intensity_net'
    _definition.update           2012-11-26 
    _description.text
;
     Net intensity calculated from the diffraction counts after the
     attenuator and standard scales have been applied.
;
    _name.category_id            refln
    _name.object_id              intensity_net
    _type.purpose                Measurand
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0:       
    _units.code                  none
     save_
 

save_diffrn_refln.intensity_net_su
    _definition.id             '_diffrn_refln.intensity_net_su'
     loop_
    _alias.definition_id       '_diffrn_refln_intensity_u'
                               '_diffrn_refln_intensity_sigma'
    _definition.update           2012-12-13
    _description.text
;
     Standard uncertainty of the net intensity calculated from the 
     diffraction counts after the attenuator and standard scales 
     have been applied.
;
    _name.category_id            refln
    _name.object_id              intensity_net_su
    _type.purpose                SU
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0:       
    _units.code                  none
     save_

 
save_diffrn_refln.scale_group_code
    _definition.id             '_diffrn_refln.scale_group_code'
     loop_
    _alias.definition_id       '_diffrn_refln_scale_group_code'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying the scale applying to this reflection.
;
    _name.category_id            refln
    _name.object_id              scale_group_code
    _name.linked_item_id       '_diffrn_scale_group.code'
    _type.purpose                Link
    _type.source                 Related
    _type.container              Single
    _type.contents               Code
     save_
 
 
save_diffrn_refln.scan_mode
    _definition.id             '_diffrn_refln.scan_mode'
     loop_
    _alias.definition_id       '_diffrn_refln_scan_mode'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying the mode of scanning with a diffractometer.
     See also  _diffrn_refln.scan_width and _diffrn_refln.scan_mode_backgd.
;
    _name.category_id            refln
    _name.object_id              scan_mode
    _type.purpose                State
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Code
     loop_
    _enumeration_set.state
    _enumeration_set.detail    om  'omega scan'
                               ot  'omega/2theta scan'
                               q   'Q-scans (arbitrary reciprocal directions)'
    _enumeration.default       ot
     save_
 
 
save_diffrn_refln.scan_mode_backgd
    _definition.id             '_diffrn_refln.scan_mode_backgd'
     loop_
    _alias.definition_id       '_diffrn_refln_scan_mode_backgd'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying mode of scanning to measure the background intensity.
;
    _name.category_id            refln
    _name.object_id              scan_mode_backgd
    _type.purpose                State
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Code 
     loop_
    _enumeration_set.state
    _enumeration_set.detail      st  'stationary counter background'
                                 mo  'moving counter background'
    _enumeration.default         st
     save_
 
 
save_diffrn_refln.scan_rate
    _definition.id             '_diffrn_refln.scan_rate'
     loop_
    _alias.definition_id       '_diffrn_refln_scan_rate'
    _definition.update           2013-03-07 
    _description.text
;
     Angular rate of scanning a reflection to measure the intensity.
;
    _name.category_id            refln
    _name.object_id              scan_rate
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  degree_per_minute
     save_
 
 
save_diffrn_refln.scan_time_backgd
    _definition.id             '_diffrn_refln.scan_time_backgd'
     loop_
    _alias.definition_id       '_diffrn_refln_scan_time_backgd'
    _definition.update           2012-11-26 
    _description.text
;
     Time spent measuring background counts.
;
    _name.category_id            refln
    _name.object_id              scan_time_backgd
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  seconds
     save_
 
 
save_diffrn_refln.scan_width
    _definition.id             '_diffrn_refln.scan_width'
     loop_
    _alias.definition_id       '_diffrn_refln_scan_width'
    _definition.update           2012-11-26 
    _description.text
;
     Angular scan width when measuring the peak intensity.
;
    _name.category_id            refln
    _name.object_id              scan_width
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:90.0
    _units.code                  degrees
     save_
 
 
save_diffrn_refln.sin_theta_over_lambda
    _definition.id             '_diffrn_refln.sin_theta_over_lambda'
    loop_
    _alias.definition_id       '_diffrn_refln_sint/lambda'
                               '_diffrn_refln_sint_over_lambda'
    _definition.update           2012-11-26 
    _description.text
;
     (sin theta)/lambda value for this reflection.
;
    _name.category_id            refln
    _name.object_id              sin_theta_over_lambda
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  reciprocal_angstroms
     save_
 
 
save_diffrn_refln.standard_code
    _definition.id             '_diffrn_refln.standard_code'
     loop_
    _alias.definition_id       '_diffrn_refln_standard_code'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying reflections measured repeated as standard intensity.
     Must match a _diffrn_standard_refln.code values OR set to '.' if
     it was not used as a intensity standard.
;
    _name.category_id            refln
    _name.object_id              standard_code
    _name.linked_item_id       '_diffrn_standard_refln.code'
    _type.purpose                Link
    _type.source                 Related
    _type.container              Single
    _type.contents               Code
     save_
 
 
save_diffrn_refln.wavelength
    _definition.id             '_diffrn_refln.wavelength'
     loop_
    _alias.definition_id       '_diffrn_refln_wavelength'
    _definition.update           2012-11-26 
    _description.text
;
     Mean wavelength of radiation used to measure this intensity.
;
    _name.category_id            refln
    _name.object_id              wavelength
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  angstroms 
     save_
 
 
save_diffrn_refln.wavelength_id
    _definition.id             '_diffrn_refln.wavelength_id'
     loop_
    _alias.definition_id       '_diffrn_refln_wavelength_id'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying the wavelength in the diffrn_radiation_wavelength list.
;
    _name.category_id            refln
    _name.object_id              wavelength_id
    _name.linked_item_id       '_diffrn_radiation_wavelength.id'
    _type.purpose                Link
    _type.source                 Related
    _type.container              Single
    _type.contents               Code
     save_

     save_     #------ close DIFFRN_REFLN category
 
 
#============================================================================
 
 
save_DIFFRN_REFLNS
 
    _definition.id               DIFFRN_REFLNS
    _definition.scope            Category
    _definition.class            Set
    _definition.update           2012-11-26 
    _description.text
;
     The CATEGORY of data items which specify the overall reflection
     measurement information. 
;
    _name.category_id            DIFFRN
    _name.object_id              REFLNS
 
 
save_diffrn_reflns.av_R_equivalents
    _definition.id             '_diffrn_reflns.av_R_equivalents'
     loop_
    _alias.definition_id       '_diffrn_reflns_av_R_equivalents'
    _definition.update           2012-11-26 
    _description.text
;
     The residual [sum av|del(I)| / sum |av(I)|] for symmetry-equivalent
     reflections used to calculate the average intensity av(I). The
     av|del(I)| term is the average absolute difference between av(I) and
     the individual symmetry-equivalent intensities.
;
    _name.category_id            reflns
    _name.object_id              av_R_equivalents
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 
 
save_diffrn_reflns.av_sunetI_over_netI
    _definition.id             '_diffrn_reflns.av_sunetI_over_netI'
     loop_
    _alias.definition_id       '_diffrn_reflns_av_sigmaI_over_netI'
                               '_diffrn_reflns_av_sigmaI/netI'
                               '_diffrn_reflns_av_unetI/netI'
    _definition.update           2012-11-26 
    _description.text
;
     Recorded [sum |su(netI)| / sum |netI|] for all measured reflections.
;
    _name.category_id            reflns
    _name.object_id              av_sunetI_over_netI
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 

save_diffrn_reflns.Laue_measured_fraction_full
    _definition.id             '_diffrn_reflns.Laue_measured_fraction_full'
    loop_
    _alias.definition_id       '_diffrn_reflns_Laue_measured_fraction_full'
    _definition.update           2013-01-20
    _description.text
;
     Fraction of Laue_group unique reflections (symmetry-independent in
     the Laue group) measured out to the resolution given in
     _diffrn_reflns.resolution_full or _diffrn_reflns.theta_full.
     The Laue group always contains a centre of symmetry so that
     the reflection h,k,l is always equivalent to the reflection
     -h,-k,-l even in space groups without a centre of symmetry.
     This number should not be less than 0.95, since it represents
     the fraction of reflections measured in the part of the
     diffraction pattern that is essentially complete.
;
    _name.category_id            reflns
    _name.object_id              Laue_measured_fraction_full
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.95:1.0
    _units.code                  none
     save_


save_diffrn_reflns.Laue_measured_fraction_max
    _definition.id             '_diffrn_reflns.Laue_measured_fraction_max'
    loop_
    _alias.definition_id       '_diffrn_reflns_Laue_measured_fraction_max'
    _definition.update           2013-01-20
    _description.text
;
     Fraction of Laue-group unique reflections (symmetry-independent in
     the Laue group) measured out to the resolution given in
     _diffrn_reflns.resolution_max or _diffrn_reflns.theta_max.
     The Laue group always contains a centre of symmetry so that the
     reflection h,k,l is always equivalent to the reflection -h,-k,-l
     even in space groups without a centre of symmetry.
;
    _name.category_id            reflns
    _name.object_id              Laue_measured_fraction_max
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:1.0
    _units.code                  none
     save_


save_diffrn_reflns.point_measured_fraction_full
    _definition.id             '_diffrn_reflns.point_measured_fraction_full'
    loop_
    _alias.definition_id  '_diffrn_reflns_point_group_measured_fraction_full'
    _definition.update           2013-01-20
    _description.text
;
     Fraction of crystal point-group unique reflections (i.e.
     symmetry-independent in the crystal point group) measured
     out to the resolution given in _diffrn_reflns.resolution_full
     or _diffrn_reflns.theta_full. For space groups that do not
     contain a centre of symmetry the reflections h,k,l and
     -h,-k,-l are independent. This number should not be less
     than 0.95, since it represents the fraction of reflections
     measured in the part of the diffraction pattern that is
     essentially complete.
;
    _name.category_id            reflns
    _name.object_id              point_measured_fraction_full
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.95:1.0
    _units.code                  none
     save_


save_diffrn_reflns.point_measured_fraction_max
    _definition.id             '_diffrn_reflns.point_measured_fraction_max'
    loop_
    _alias.definition_id  '_diffrn_reflns_point_group_measured_fraction_max'
    _definition.update           2013-01-20
    _description.text
;
     Fraction of crystal point-group unique reflections (i.e.
     symmetry-independent in the crystal point group) measured
     out to the resolution given in _diffrn_reflns.resolution_max
     or _diffrn_reflns.theta_max. For space groups that do not
     contain a centre of symmetry the reflections h,k,l and
     -h,-k,-l are independent.
;
    _name.category_id            reflns
    _name.object_id              point_measured_fraction_max
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.95:1.0
    _units.code                  none
     save_


save_diffrn_reflns.limit_max
    _definition.id             '_diffrn_reflns.limit_max'
    _definition.update           2013-01-15
    _description.text
;
     Maximum Miller indices of measured diffraction reflections.
;
    _name.category_id            reflns
    _name.object_id              limit_max
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Matrix
    _type.contents               Real
    _type.dimension              [3]  
     loop_
    _method.purpose    
    _method.expression
     Evaluation
;
     With t as diffrn_reflns
 
     _diffrn_reflns.limit_max = [t.limit_h_max,t.limit_k_max,t.limit_l_max]
;
     save_


save_diffrn_reflns.limit_min
    _definition.id             '_diffrn_reflns.limit_min'
    _definition.update           2013-01-15
    _description.text
;
     Minimum Miller indices of meas.ued diffraction reflections. 
;
    _name.category_id            reflns
    _name.object_id              limit_min
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Matrix
    _type.contents               Real
    _type.dimension              [3]
     loop_
    _method.purpose
    _method.expression
     Evaluation
;
     With t as diffrn_reflns

     _diffrn_reflns.limit_min = [t.limit_h_min,t.limit_k_min,t.limit_l_min]
;
     save_

 
save_diffrn_reflns.limit_h_max
    _definition.id             '_diffrn_reflns.limit_h_max'
     loop_
    _alias.definition_id       '_diffrn_reflns_limit_h_max'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            reflns
    _name.object_id              limit_h_max
     save_
 
 
save_diffrn_reflns.limit_h_min
    _definition.id             '_diffrn_reflns.limit_h_min'
     loop_
    _alias.definition_id       '_diffrn_reflns_limit_h_min'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            reflns
    _name.object_id              limit_h_min
     save_
 
 
save_diffrn_reflns.limit_k_max
    _definition.id             '_diffrn_reflns.limit_k_max'
     loop_
    _alias.definition_id       '_diffrn_reflns_limit_k_max'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            reflns
    _name.object_id              limit_k_max
     save_
 
 
save_diffrn_reflns.limit_k_min
    _definition.id             '_diffrn_reflns.limit_k_min'
     loop_
    _alias.definition_id       '_diffrn_reflns_limit_k_min'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            reflns
    _name.object_id              limit_k_min
     save_
 
 
save_diffrn_reflns.limit_l_max
    _definition.id             '_diffrn_reflns.limit_l_max'
     loop_
    _alias.definition_id       '_diffrn_reflns_limit_l_max'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            reflns
    _name.object_id              limit_l_max
     save_
 
 
save_diffrn_reflns.limit_l_min
    _definition.id             '_diffrn_reflns.limit_l_min'
     loop_
    _alias.definition_id       '_diffrn_reflns_limit_l_min'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            reflns
    _name.object_id              limit_l_min
     save_

 
save_diffrn_reflns.number
    _definition.id             '_diffrn_reflns.number'
     loop_
    _alias.definition_id       '_diffrn_reflns_number'
    _definition.update           2012-11-26 
    _description.text
;
     Total number of measured intensities, excluding reflections that are
     classed as systematically absent arising from translational symmetry
     in the crystal unit cell.
;
    _name.category_id            reflns
    _name.object_id              number
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Single
    _type.contents               Count
    _enumeration.range           0:
     save_


save_diffrn_reflns.reduction_process
    _definition.id             '_diffrn_reflns.reduction_process'
     loop_
    _alias.definition_id       '_diffrn_reflns_reduction_process'
    _definition.update           2012-11-26 
    _description.text
;
     How intensities were reduced to structure-factor magnitudes.
;
    _name.category_id            reflns
    _name.object_id              reduction_process
    _type.purpose                Describe
    _type.source                 Recorded 
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case   'data averaged using Fisher test'
     save_
 
 
save_diffrn_reflns.theta_full
    _definition.id             '_diffrn_reflns.theta_full'
     loop_
    _alias.definition_id       '_diffrn_reflns_theta_full'
    _definition.update           2012-11-26 
    _description.text
;
     Theta angle at which the count of measured reflections is almost 
     complete.  The fraction of unique reflections measured out to 
     this angle is given by _diffrn.measured_fraction_theta_full.
;
    _name.category_id            reflns
    _name.object_id              theta_full
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:90.0
    _units.code                  degrees
     save_
 
 
save_diffrn_reflns.theta_max
    _definition.id             '_diffrn_reflns.theta_max'
     loop_
    _alias.definition_id       '_diffrn_reflns_theta_max'
    _definition.update           2012-11-26 
    _description.text
;
     Maximum theta angle of the measured reflections.
;
    _name.category_id            reflns
    _name.object_id              theta_max
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:90.0
    _units.code                  degrees
     save_
 
 
save_diffrn_reflns.theta_min
    _definition.id             '_diffrn_reflns.theta_min'
     loop_
    _alias.definition_id       '_diffrn_reflns_theta_min'
    _definition.update           2012-11-26 
    _description.text
;
     Minimum theta angle of the measured reflections.
;
    _name.category_id            reflns
    _name.object_id              theta_min
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:90.0
    _units.code                  degrees
     save_
 

save_diffrn_reflns.resolution_full
    _definition.id             '_diffrn_reflns.resolution_full'
     loop_
    _alias.definition_id       '_diffrn_reflns_resolution_full'
    _definition.update           2012-11-26
    _description.text
;
     The resolution at which the measured reflection count is close 
     to complete. The fraction of unique reflections measured out 
     to this angle is given by _diffrn.measured_fraction_theta_full.
;
    _name.category_id            reflns
    _name.object_id              resolution_full
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  reciprocal_angstroms
     save_


save_diffrn_reflns.resolution_max
    _definition.id             '_diffrn_reflns.resolution_max'
     loop_
    _alias.definition_id       '_diffrn_reflns_resolution_max'
    _definition.update           2013-02-22
    _description.text
;
     Maximum resolution of the measured diffraction pattern.
     The fraction of unique reflections measured out to this angle 
     is given by _diffrn.measured_fraction_theta_max.
;
    _name.category_id            reflns
    _name.object_id              resolution_max
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  reciprocal_angstroms 
     save_

 
#----------------------------------------------------------------------------

save_DIFFRN_REFLNS_TRANSF_MATRIX
 
    _definition.id               DIFFRN_REFLNS_TRANSF_MATRIX
    _definition.scope            Category
    _definition.class            Set
    _definition.update           2012-11-26 
    _description.text
;
     The CATEGORY of data items which specify the elements of the matrix
     used to transform the reflection indices _diffrn_refln.hkl
     into _refln.hkl.
                                 |11 12 13|
            (h k l) diffraction  |21 22 23|  =  (h' k' l')
                                 |31 32 33|
;
    _name.category_id            DIFFRN_REFLNS
    _name.object_id              TRANSF_MATRIX
 
 
save_diffrn_reflns_transf_matrix.TIJ
    _definition.id             '_diffrn_reflns_transf_matrix.TIJ'
    _definition.update           2012-11-26 
    _description.text
;
     Elements of the matrix used to transform the diffraction reflection
     indices _diffrn_refln.hkl into the _refln.hkl indices.
                                  |11 12 13|
             (h k l) diffraction  |21 22 23|  =  (h' k' l')
                                  |31 32 33|
;
    _name.category_id            transf_matrix
    _name.object_id              TIJ               
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Matrix
    _type.contents               Real
    _type.dimension              [3,3]
     loop_
    _method.purpose    
    _method.expression
     Evaluation
;
     With t as diffrn_reflns_transf_matrix
 
          _diffrn_reflns_transf_matrix.TIJ =  [[t.11, t.12, t.13],
                                               [t.21, t.22, t.23],
                                               [t.31, t.32, t.33]]
;
     save_
 

save_diffrn_reflns_transf_matrix.11
    _definition.id             '_diffrn_reflns_transf_matrix.11'
     loop_
    _alias.definition_id       '_diffrn_reflns_transf_matrix_11'
                               '_diffrn_reflns.transf_matrix[1][1]'
    _import.get         [{"file":'templ_attr.cif',"save":'transf_matrix'}]
    _name.category_id            transf_matrix
    _name.object_id              '11'
     save_
 
 
save_diffrn_reflns_transf_matrix.12
    _definition.id             '_diffrn_reflns_transf_matrix.12'
     loop_
    _alias.definition_id       '_diffrn_reflns_transf_matrix_12'
                               '_diffrn_reflns.transf_matrix[1][2]'
    _import.get         [{"file":'templ_attr.cif',"save":'transf_matrix'}]
    _name.category_id            transf_matrix
    _name.object_id              '12'
     save_
 
 
save_diffrn_reflns_transf_matrix.13
    _definition.id             '_diffrn_reflns_transf_matrix.13'
     loop_
    _alias.definition_id       '_diffrn_reflns_transf_matrix_13'
                               '_diffrn_reflns.transf_matrix[1][3]'
    _import.get         [{"file":'templ_attr.cif',"save":'transf_matrix'}]
    _name.category_id            transf_matrix
    _name.object_id              '13'
     save_
 
 
save_diffrn_reflns_transf_matrix.21
    _definition.id             '_diffrn_reflns_transf_matrix.21'
     loop_
    _alias.definition_id       '_diffrn_reflns_transf_matrix_21'
                               '_diffrn_reflns.transf_matrix[2][1]'
    _import.get         [{"file":'templ_attr.cif',"save":'transf_matrix'}]
    _name.category_id            transf_matrix
    _name.object_id              '21'
     save_
 
 
save_diffrn_reflns_transf_matrix.22
    _definition.id             '_diffrn_reflns_transf_matrix.22'
     loop_
    _alias.definition_id       '_diffrn_reflns_transf_matrix_22'
                               '_diffrn_reflns.transf_matrix[2][2]'
    _import.get         [{"file":'templ_attr.cif',"save":'transf_matrix'}]
    _name.category_id            transf_matrix
    _name.object_id              '22'
     save_
 
 
save_diffrn_reflns_transf_matrix.23
    _definition.id             '_diffrn_reflns_transf_matrix.23'
     loop_
    _alias.definition_id       '_diffrn_reflns_transf_matrix_23'
                               '_diffrn_reflns.transf_matrix[2][3]'
    _import.get         [{"file":'templ_attr.cif',"save":'transf_matrix'}]
    _name.category_id            transf_matrix
    _name.object_id              '23'
     save_
 
 
save_diffrn_reflns_transf_matrix.31
    _definition.id             '_diffrn_reflns_transf_matrix.31'
     loop_
    _alias.definition_id       '_diffrn_reflns_transf_matrix_31'
                               '_diffrn_reflns.transf_matrix[3][1]'
    _import.get         [{"file":'templ_attr.cif',"save":'transf_matrix'}]
    _name.category_id            transf_matrix
    _name.object_id              '31'
     save_
 
 
save_diffrn_reflns_transf_matrix.32
    _definition.id             '_diffrn_reflns_transf_matrix.32'
     loop_
    _alias.definition_id       '_diffrn_reflns_transf_matrix_32'
                               '_diffrn_reflns.transf_matrix[3][2]'
    _import.get         [{"file":'templ_attr.cif',"save":'transf_matrix'}]
    _name.category_id            transf_matrix
    _name.object_id              '32'
     save_
 
 
save_diffrn_reflns_transf_matrix.33
    _definition.id             '_diffrn_reflns_transf_matrix.33'
     loop_
    _alias.definition_id       '_diffrn_reflns_transf_matrix_33'
                               '_diffrn_reflns.transf_matrix[3][3]'
    _import.get         [{"file":'templ_attr.cif',"save":'transf_matrix'}]
    _name.category_id            transf_matrix
    _name.object_id              '33'
     save_

     save_     #------ close DIFFRN_REFLNS_TRANS_MATRIX category
 
 
#============================================================================
 
 
save_DIFFRN_REFLNS_CLASS
 
    _definition.id               DIFFRN_REFLNS_CLASS
    _definition.scope            Category
    _definition.class            Loop
    _definition.update           2013-09-08 
    _description.text
;
     The CATEGORY of data items which specify different classes of
     reflections in the raw measured diffraction data.
 
;
    _name.category_id            DIFFRN_REFLNS
    _name.object_id              CLASS
    _category.key_id           '_diffrn_reflns_class.key'
    _category.key_list        ['_diffrn_reflns_class.code']


save_diffrn_reflns_class.key
    _definition.id             '_diffrn_reflns_class.key'
    _definition.update           2012-11-26 
    _description.text
;
     Value is a unique key to a set of DIFFRN_REFLNS_CLASS items
     in a looped list.
;
    _name.category_id            class
    _name.object_id              key
    _type.purpose                Key
    _type.source                 Related
    _type.container              Single
    _type.contents               Implied
     loop_
    _method.purpose
    _method.expression
     Definition
;           _type.contents = Type_Contents(diffrn_reflns_class.code)
;
     Evaluation
;           _diffrn_reflns_class.key = _diffrn_reflns_class.code
;
     save_
 
 
save_diffrn_reflns_class.av_R_eq
    _definition.id             '_diffrn_reflns_class.av_R_eq'
     loop_
    _alias.definition_id       '_diffrn_reflns_class_av_R_eq'
    _definition.update           2012-11-26 
    _description.text
;
     Residual [sum av|del(I)|/sum|av(I)|] for symmetry-equivalent 
     reflections used to calculate the average intensity av(I). 
     The av|del(I)| term is the average absolute difference 
     between av(I) and the individual intensities.
;
    _name.category_id            class
    _name.object_id              av_R_eq
    _type.purpose                Number
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 
 
save_diffrn_reflns_class.av_suI_over_I
    _definition.id             '_diffrn_reflns_class.av_suI_over_I'
     loop_
    _alias.definition_id       '_diffrn_reflns_class_av_uI_over_I'
                               '_diffrn_reflns_class_av_uI/I'
                               '_diffrn_reflns_class_av_sgI/I'
    _definition.update           2012-11-26 
    _description.text
;
     Recorded [sum|su(net I)|/sum|net I|] in a reflection class.
;
    _name.category_id            class
    _name.object_id              av_suI_over_I
    _type.purpose                Number
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 
 
save_diffrn_reflns_class.code
    _definition.id             '_diffrn_reflns_class.code'
     loop_
    _alias.definition_id       '_diffrn_reflns_class_code'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying a reflection class.
;
    _name.category_id            class
    _name.object_id              code
    _type.purpose                Encode
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Code
     loop_
    _description_example.case    "m2"
     save_
 
 
save_diffrn_reflns_class.description
    _definition.id             '_diffrn_reflns_class.description'
     loop_
    _alias.definition_id       '_diffrn_reflns_class_description'
    _definition.update           2012-11-26 
    _description.text
;
     Description of a reflection class.
;
    _name.category_id            class
    _name.object_id              description
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case   'm=1 first order satellites'
     save_
 
 
save_diffrn_reflns_class.d_res_high
    _definition.id             '_diffrn_reflns_class.d_res_high'
     loop_
    _alias.definition_id       '_diffrn_reflns_class_d_res_high'
    _definition.update           2012-11-26 
    _description.text
;
     Highest resolution in reflection class i.e. smallest d value in class.
;
    _name.category_id            class
    _name.object_id              d_res_high
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  angstroms 
     save_
 
 
save_diffrn_reflns_class.d_res_low
    _definition.id             '_diffrn_reflns_class.d_res_low'
     loop_
    _alias.definition_id       '_diffrn_reflns_class_d_res_low'
    _definition.update           2012-11-26 
    _description.text
;
     Lowest resolution in reflection class i.e. largest d value in class.
;
    _name.category_id            class
    _name.object_id              d_res_low
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  angstroms 
     save_
 
 
save_diffrn_reflns_class.number
    _definition.id             '_diffrn_reflns_class.number'
     loop_
    _alias.definition_id       '_diffrn_reflns_class_number'
    _definition.update           2012-11-26 
    _description.text
;
     Number of measured intensities for a reflection class, excluding
     the systematic absences arising from centring translations.
;
    _name.category_id            class
    _name.object_id              number
    _type.purpose                Number
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Count
    _enumeration.range           0:
     save_

     save_     #------ close DIFFRN_REFLNS_CLASS category

     save_     #------ close DIFFRN_REFLNS category
 
#----------------------------------------------------------------------------
 

save_DIFFRN_SCALE_GROUP
 
    _definition.id               DIFFRN_SCALE_GROUP
    _definition.scope            Category
    _definition.class            Loop
    _definition.update           2013-09-08 
    _description.text
;
     The CATEGORY of data items which specify the groups of reflections in
     the raw measured diffraction data with different relative scales.
;
    _name.category_id            DIFFRN
    _name.object_id              SCALE_GROUP
    _category.key_id           '_diffrn_scale_group.key'
    _category.key_list        ['_diffrn_scale_group.code']


save_diffrn_scale_group.key
    _definition.id             '_diffrn_scale_group.key'
    _definition.update           2012-11-26 
    _description.text
;
     Value is a unique key to a set of DIFFRN_SCALE_GROUP items
     in a looped list.
;
    _name.category_id            scale_group
    _name.object_id              key
    _type.purpose                Key
    _type.source                 Related
    _type.container              Single
    _type.contents               Implied
     loop_
    _method.purpose
    _method.expression
     Definition
;           _type.contents = Type_Contents(diffrn_scale_group.code)
;
     Evaluation
;           _diffrn_scale_group.key = _diffrn_scale_group.code
;
     save_
 
 
save_diffrn_scale_group.code
    _definition.id             '_diffrn_scale_group.code'
     loop_
    _alias.definition_id       '_diffrn_scale_group_code'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying a specific scale group of reflections (e.g. for
     multi-film or multi-crystal data). The code must match a
     _diffrn_refln.scale_group_code in the diffrn_refln list.

;
    _name.category_id            scale_group
    _name.object_id              code
    _name.linked_item_id        '_diffrn_refln.scale_group_code'
    _type.purpose                Encode
    _type.source                 Assigned 
    _type.container              Single
    _type.contents               Code
     loop_
    _description_example.case    1 2 3 s1 A B c1 c2 c3
     save_
 
 
save_diffrn_scale_group.I_net
    _definition.id             '_diffrn_scale_group.I_net'
     loop_
    _alias.definition_id       '_diffrn_scale_group_I_net'
    _definition.update           2012-11-26 
    _description.text
;
     Scale for a specific measurement group of eflections. Is multiplied
     with the net intensity to place all intensities on a common scale.
;
    _name.category_id            scale_group
    _name.object_id              I_net
    _type.purpose                Measurand
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_

     save_     #------ close DIFFRN_SCALE_GROUP category
 
#----------------------------------------------------------------------------
 
save_DIFFRN_SOURCE         
 
    _definition.id               DIFFRN_SOURCE
    _definition.scope            Category
    _definition.class            Set
    _definition.update           2012-11-26 
    _description.text
;
     The CATEGORY of data items which specify information about the 
     radiation source. 
;
    _name.category_id            DIFFRN
    _name.object_id              SOURCE
 
 
save_diffrn_source.device
    _definition.id             '_diffrn_source.device'
     loop_
    _alias.definition_id       '_diffrn_source'
                               '_diffrn_radiation_source'
    _definition.update           2013-08-09 
    _description.text
;
     Enumerated code for the device providing the source of radiation.
;
    _name.category_id            source
    _name.object_id              device
    _type.purpose                State
    _type.source                 Assigned 
    _type.container              Single
    _type.contents               Code
     loop_
    _enumeration_set.state      
    _enumeration_set.detail      
                 tube           'sealed X-ray tube'
                 nuclear        'nuclear reactor'
                 spallation     'spallation source'
                 elect-micro    'electron microscope'
                 rot_anode      'rotating-anode X-ray tube'
                 synch          'synchrotron'
    _enumeration.default     tube      
     save_
 
 
save_diffrn_source.current
    _definition.id             '_diffrn_source.current'
     loop_
    _alias.definition_id       '_diffrn_source_current'
    _definition.update           2012-11-26 
    _description.text
;
     Generator current at which the radiation source device was operated.
;
    _name.category_id            source
    _name.object_id              current
    _type.purpose                Number
    _type.source                 Assigned 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  milliamperes 
     save_
 
 
save_diffrn_source.details
    _definition.id             '_diffrn_source.details'
     loop_
    _alias.definition_id       '_diffrn_source_details'
    _definition.update           2012-11-26 
    _description.text
;
     General description of the radiation source device.
;
    _name.category_id            source
    _name.object_id              details
    _type.purpose                Describe
    _type.source                 Recorded 
    _type.container              Single
    _type.contents               Text
     save_
 
 
save_diffrn_source.power
    _definition.id             '_diffrn_source.power'
     loop_
    _alias.definition_id       '_diffrn_source_power'
    _definition.update           2012-11-26 
    _description.text
;    Generator power at which the radiation source device was operated.
;
    _name.category_id            source
    _name.object_id              power
    _type.purpose                Number
    _type.source                 Assigned 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  kilowatts 
     save_
 
 
save_diffrn_source.size
    _definition.id             '_diffrn_source.size'
     loop_
    _alias.definition_id       '_diffrn_source_size'
    _definition.update           2012-11-26 
    _description.text
;
     Description of the collimated source beam as viewed from the sample.
;
    _name.category_id            source
    _name.object_id              size
    _type.purpose                Describe
    _type.source                 Recorded 
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case   '8mm x 0.4 mm fine-focus'
                                'broad focus'
     save_
 

save_diffrn_source.take_off_angle
    _definition.id             '_diffrn_source.take_off_angle'
     loop_
    _alias.definition_id       '_diffrn_source_take-off_angle'
    _definition.update           2013-02-22
    _description.text
;
     The complement of the angle in degrees between the normal
     to the surface of the X-ray tube target and the primary
     X-ray beam for beams generated by traditional X-ray tubes.
;
    _name.category_id            source
    _name.object_id              take_off_angle
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0:90
    _units.code                  degrees
     save_


save_diffrn_source.target
    _definition.id             '_diffrn_source.target'
     loop_
    _alias.definition_id       '_diffrn_source_target'
    _definition.update           2012-11-26 
    _description.text
;
     Chemical element symbol for the radiation source target (usually
     the anode). This can be used also for spallation sources.
;
    _name.category_id            source
    _name.object_id              target
    _type.purpose                State
    _type.source                 Assigned 
    _type.container              Single
    _type.contents               Code
    _import.get         [{"file":'templ_enum.cif',"save":'element_symbol'}]
    _enumeration.default         Cu 
     save_
 
 
save_diffrn_source.make
    _definition.id             '_diffrn_source.make'
     loop_
    _alias.definition_id       '_diffrn_source_make'
                               '_diffrn_source.type'
                               '_diffrn_source_type'
    _definition.update           2012-11-26 
    _description.text
;
     Description of the make, model or name of the source device.
;
    _name.category_id            source
    _name.object_id              make
    _type.purpose                Describe
    _type.source                 Recorded 
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case   'NSLS beamline X8C' 'Rigaku RU2012-05-07 '
     save_
 
 
save_diffrn_source.voltage
    _definition.id             '_diffrn_source.voltage'
     loop_
    _alias.definition_id       '_diffrn_source_voltage'
    _definition.update           2012-11-26 
    _description.text
;
     Generator voltage at which the radiation source device was operated.
;
    _name.category_id            source
    _name.object_id              voltage
    _type.purpose                Number
    _type.source                 Assigned 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  kilovolts 
     save_

     save_     #------ close DIFFRN_SOURCE category
 
 
#----------------------------------------------------------------------------
 

save_DIFFRN_STANDARD         
    _definition.id               DIFFRN_STANDARD
    _definition.scope            Category
    _definition.class            Set
    _definition.update           2012-11-26 
    _description.text
;
     The CATEGORY of data items which specify information about the 
     standard reflections used in the diffraction measurement process.
;
    _name.category_id            DIFFRN
    _name.object_id              STANDARD
 
 
save_diffrn_standard.decay_percent
    _definition.id             '_diffrn_standard.decay_percent'
    loop_
    _alias.definition_id       '_diffrn_standards_decay_%'
                               '_diffrn_standards.decay_%'
                               '_diffrn_standards_decay_percent'
    _definition.update           2013-03-07 
    _description.text
;
     The percentage decrease in the mean of the intensities for the 
     standard reflections at the start to the finish of the measurement 
     process. This value affords a measure of the overall decay in 
     crystal quality during measurement. Negative values only occur in 
     exceptional instances where the final intensities are greater than
     the initial ones.  If no measurable decay has occurred, the 
     standard uncertainty should be quoted to indicate the maximum 
     possible value the decay might have.  A range of 3 standard 
     uncertainties is considered possible.  Thus 0.0(1) would indicate 
     a decay of less than 0.3% or an enhancement of less than 0.3%.
;
    _name.category_id            standard
    _name.object_id              decay_percent
    _type.purpose                Measurand
    _type.source                 Derived  
    _type.container              Single
    _type.contents               Real
    _enumeration.range           :100
    _units.code                  none
    loop_ _description_example.case
          _description_example.detail
        0.5(1)   'represents a decay between 0.2% and 0.8%'
         -1(1)   'change in standards between 2% decay and 4% rise'
        0.0(2)   'change in standards between 0.6% decay and 0.6% rise.'
     save_
 
 
save_diffrn_standard.interval_count
    _definition.id             '_diffrn_standard.interval_count'
    loop_
    _alias.definition_id       '_diffrn_standards_interval_count%'
                               '_diffrn_standards_interval_count'
    _definition.update           2012-11-26 
    _description.text
;
     Reflection count between the standard reflection measurements.
;
    _name.category_id            standard
    _name.object_id              interval_count
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Count
    _enumeration.range           0:
     save_
 
 
save_diffrn_standard.interval_time
    _definition.id             '_diffrn_standard.interval_time'
    loop_
    _alias.definition_id       '_diffrn_standards_interval_time'
    _definition.update           2012-11-26 
    _description.text
;
     Time between the standard reflection measurements.
;
    _name.category_id            standard
    _name.object_id              interval_time
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.:
    _units.code                  minutes
     save_
 
 
save_diffrn_standard.number
    _definition.id             '_diffrn_standard.number'
    loop_
    _alias.definition_id       '_diffrn_standards_number'
    _definition.update           2012-11-26 
    _description.text
;
     Number of unique standard reflections used in measurements.
;
    _name.category_id            standard
    _name.object_id              number
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Count   
    _enumeration.range           0:
     save_
 
 
save_diffrn_standard.scale_su_average
    _definition.id             '_diffrn_standard.scale_su_average'
    loop_
    _alias.definition_id       '_diffrn_standards_scale_sigma'
                               '_diffrn_standards.scale_sigma'
                               '_diffrn_standards_scale_u'
    _definition.update           2013-01-20 
    _description.text
;
     The average standard uncertainty of the individual standard scales
     applied to the intensity data.
;
    _name.category_id            standard
    _name.object_id              scale_su_average
    _type.purpose                Measurand
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 
 
#----------------------------------------------------------------------------
 
save_DIFFRN_STANDARD_REFLN
 
    _definition.id               DIFFRN_STANDARD_REFLN
    _definition.scope            Category
    _definition.class            Loop
    _definition.update           2013-09-08 
    _description.text
;
     The CATEGORY of data items which specify the "standard" reflections
     measured repeatedly to monitor variations in intensity due to source
     flux, environment conditions or crystal quality.
;
    _name.category_id            DIFFRN_STANDARD
    _name.object_id              REFLN
    _category.key_id           '_diffrn_standard_refln.key'
    _category.key_list        ['_diffrn_standard_refln.index_h',
                               '_diffrn_standard_refln.index_k',
                               '_diffrn_standard_refln.index_l']


save_diffrn_standard_refln.key
    _definition.id             '_diffrn_standard_refln.key'
    _definition.update           2012-11-26 
    _description.text
;
     Value is a unique key to a set of DIFFRN_STANDARD_REFLN items
     in a looped list.
;
    _name.category_id            refln
    _name.object_id              key
    _type.purpose                Key
    _type.source                 Related
    _type.container              Single
    _type.contents               Implied
     loop_
    _method.purpose
    _method.expression
     Definition
;        _type.contents = Type_Contents(diffrn_standard_refln.code)
;
     Evaluation
;       _diffrn_standard_refln.key = _diffrn_standard_refln.code
;
     save_
 
 
save_diffrn_standard_refln.code
    _definition.id             '_diffrn_standard_refln.code'
     loop_
    _alias.definition_id       '_diffrn_standard_refln_code'
                               '_diffrn_standard_refln.diffrn_id'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying a standard reflection used to monitor source
     intensity variations or crystal degradation or movement during
     data collection.
;
    _name.category_id            refln
    _name.object_id              code
    _name.linked_item_id        '_diffrn_refln.standard_code'
    _type.purpose                Encode 
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Code
     loop_
    _description_example.case    "s1"
     save_
 
 
save_diffrn_standard_refln.hkl
    _definition.id             '_diffrn_standard_refln.hkl'
    _definition.update           2012-11-26 
    _description.text
;
     Miller indices of a standard reflection.
;
    _name.category_id            refln
    _name.object_id              hkl
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Matrix
    _type.contents               Integer
    _type.dimension              [3]
     loop_
    _method.purpose    
    _method.expression
     Evaluation
;
     With d as diffrn_standard_refln
 
      _diffrn_standard_refln.hkl =  [d.index_h, d.index_h, d.index_l]
;
     save_
 
 
save_diffrn_standard_refln.index_h
    _definition.id             '_diffrn_standard_refln.index_h'
     loop_
    _alias.definition_id       '_diffrn_standard_refln_index_h'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            refln
    _name.object_id              index_h
     save_
 
 
save_diffrn_standard_refln.index_k
    _definition.id             '_diffrn_standard_refln.index_k'
     loop_
    _alias.definition_id       '_diffrn_standard_refln_index_k'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            refln
    _name.object_id              index_k
     save_
 
 
save_diffrn_standard_refln.index_l
    _definition.id             '_diffrn_standard_refln.index_l'
     loop_
    _alias.definition_id       '_diffrn_standard_refln_index_l'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            refln
    _name.object_id              index_l
     save_

     save_     #------ close DIFFRN_STANDARD_REFLN category

     save_     #------ close DIFFRN_STANDARD category

     save_     #------ close DIFFRN category
 
#============================================================================
 
save_REFLN
 
    _definition.id               REFLN
    _definition.scope            Category
    _definition.class            Loop
    _definition.update           2013-09-08 
    _description.text
;
     The CATEGORY of data items used to describe the reflection data
     used in the refinement of a crystallographic structure model.
;
    _name.category_id            DIFFRACTION
    _name.object_id              REFLN
    _category.key_id           '_refln.key'
    _category.key_list        ['_refln.index_h',
                               '_refln.index_k',
                               '_refln.index_l']


save_refln.key
    _definition.id             '_refln.key'
    _definition.update           2012-11-26 
    _description.text
;
     Value is a unique key to a set of REFLN items
     in a looped list.
;
    _name.category_id            refln
    _name.object_id              key
    _type.purpose                Key
    _type.source                 Related
    _type.container              Single
    _type.contents               Implied
     loop_
    _method.purpose
    _method.expression
     Definition
;           _type.contents = Type_Contents(_refln.hkl)
;
     Evaluation
;           _refln.key = _refln.hkl
;
     save_
 

save_refln.A_calc
    _definition.id             '_refln.A_calc'
     loop_
    _alias.definition_id       '_refln_A_calc'
    _definition.update           2012-11-26
    _description.text
;
     The calculated real structure-factor component A =|Fcalc|cos(phase)
;
    _name.category_id            refln
    _name.object_id              A_calc
    _type.purpose                Measurand
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.default         0.
     loop_
    _method.purpose
    _method.expression
     Definition
;
         If (_diffrn_radiation.probe == "neutron")  _units.code =  "femtometres"
    Else If (_diffrn_radiation.probe == "electron") _units.code =  "volts"
    Else                                            _units.code =  "electrons"
;
     Evaluation
;
    _refln.A_calc =  Real ( _refln.F_complex )
;
     save_

 
save_refln.A_meas
    _definition.id             '_refln.A_meas'
     loop_
    _alias.definition_id       '_refln_A_meas'
    _definition.update           2012-11-26 
    _description.text
;
     The measured real structure-factor component A =|Fmeas|cos(phase)
;
    _name.category_id            refln
    _name.object_id              A_meas
    _type.purpose                Measurand
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.default         0.
     loop_
    _method.purpose    
    _method.expression
     Definition
;
         If (_diffrn_radiation.probe == "neutron")  _units.code =  "femtometres"
    Else If (_diffrn_radiation.probe == "electron") _units.code =  "volts"
    Else                                            _units.code =  "electrons"
;
     save_
 

save_refln.B_calc
    _definition.id             '_refln.B_calc'
     loop_
    _alias.definition_id       '_refln_B_calc'
    _definition.update           2012-11-26
    _description.text
;
     The calculated imaginary structure-factor component B =|Fcalc|sin(phase)
;
    _name.category_id            refln
    _name.object_id              B_calc
    _type.purpose                Measurand
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.default         0.
     loop_
    _method.purpose
    _method.expression
     Definition
;
         If (_diffrn_radiation.probe == "neutron")  _units.code =  "femtometres"
    Else If (_diffrn_radiation.probe == "electron") _units.code =  "volts"
    Else                                            _units.code =  "electrons"
;
     Evaluation
;
    _refln.B_calc =  Imag ( _refln.F_complex )
;
     save_

 
save_refln.B_meas
    _definition.id             '_refln.B_meas'
     loop_
    _alias.definition_id       '_refln_B_meas'
    _definition.update           2012-11-26 
    _description.text
;
     The measured imaginary structure-factor component B =|Fmeas|sin(phase)
;
    _name.category_id            refln
    _name.object_id              B_meas
    _type.purpose                Measurand
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.default         0.
     loop_
    _method.purpose    
    _method.expression
     Definition
;
         If (_diffrn_radiation.probe == "neutron")  _units.code =  "femtometres"
    Else If (_diffrn_radiation.probe == "electron") _units.code =  "volts"
    Else                                            _units.code =  "electrons"
;
     save_
 
 
save_refln.class_code
    _definition.id             '_refln.class_code'
     loop_
    _alias.definition_id       '_refln_class_code'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying the class to which this reflection has been
     assigned. This code must match a value of _reflns_class.code.
     Reflections may be grouped into classes for a variety of
     purposes. For example, for modulated structures each reflection
     class may be defined by the number m=sum|m~i~|, where the m~i~
     are the integer coefficients that, in addition to h,k,l, index
     the corresponding diffraction vector in the basis defined
     for the reciprocal lattice.
;
    _name.category_id            refln
    _name.object_id              class_code
    _name.linked_item_id       '_reflns_class.code'
    _type.purpose                Link
    _type.source                 Related 
    _type.container              Single
    _type.contents               Code
     save_
 
 
save_refln.crystal_id
    _definition.id             '_refln.crystal_id'
     loop_
    _alias.definition_id       '_refln_crystal_id'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying each crystal if multiple crystals are used. Is
     used to link with crystals identified by _exptl_crystal.id.
;
    _name.category_id            refln
    _name.object_id              crystal_id
    _name.linked_item_id       '_exptl_crystal.id'
    _type.purpose                Link
    _type.source                 Related 
    _type.container              Single
    _type.contents               Code
     save_
 
 
save_refln.d_spacing
    _definition.id             '_refln.d_spacing'
     loop_
    _alias.definition_id       '_refln_d_spacing'
    _definition.update           2012-11-26 
    _description.text
;
     The distance in angstroms between lattice planes in the crystal
     with the indices _refln.hkl for this reflection.
;
    _name.category_id            refln
    _name.object_id              d_spacing
    _type.purpose                Number
    _type.source                 Derived  
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  angstroms
     loop_
    _method.purpose    
    _method.expression
     Evaluation
;
    _refln.d_spacing = 2. / _refln.sin_theta_over_lambda
;
     save_
 

save_refln.F_calc
    _definition.id             '_refln.F_calc'
     loop_
    _alias.definition_id       '_refln_F_calc'
    _definition.update           2013-02-21 
    _description.text
;
     The structure factor amplitude for the reflection calculated from
     the atom site data.
;
    _name.category_id            refln
    _name.object_id              F_calc
    _type.purpose                Measurand
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.default         0.
     loop_
    _method.purpose    
    _method.expression
     Definition
;
         If (_diffrn_radiation.probe == "neutron")  _units.code =  "femtometres"
    Else If (_diffrn_radiation.probe == "electron") _units.code =  "volts"
    Else                                            _units.code =  "electrons"
;
     Evaluation         
;
      _refln.F_calc  =   Magn ( _refln.F_complex )
;
     save_
 

save_refln.F_complex
    _definition.id             '_refln.F_complex'
     loop_
    _alias.definition_id       '_refln_F_complex'
    _definition.update           2013-04-23
    _description.text
;
     The structure factor vector for the reflection calculated from
     the atom site data.
;
    _name.category_id            refln
    _name.object_id              F_complex
    _type.purpose                Measurand
    _type.source                 Derived
    _type.container              Single
    _type.contents               Complex
    _enumeration.default         0.
     loop_
    _method.purpose
    _method.expression
     Definition
;
         If (_diffrn_radiation.probe == "neutron")  _units.code =  "femtometres"
    Else If (_diffrn_radiation.probe == "electron") _units.code =  "volts"
    Else                                            _units.code =  "electrons"
;
     Evaluation
;
   With r  as  refln

      fc  =   Complex (0., 0.)
      h   =   r.hkl

   Loop a  as  atom_site  {

          f  =   a.site_symmetry_multiplicity * a.occupancy *
                 ( r.form_factor_table [a.type_symbol]      +
                        _atom_type_scat[a.type_symbol].dispersion  )

      Loop s  as  symmetry_equiv  {

          t   =  Exp(-h * s.R * a.tensor_beta * s.RT * h)

          fc +=  f * t * ExpImag(TwoPi *( h *( s.R * a.fract_xyz + s.T)))
   }  }
          _refln.F_complex  =   fc / _symmetry.multiplicity
;
     save_

 
save_refln.F_meas
    _definition.id             '_refln.F_meas'
     loop_
    _alias.definition_id       '_refln_F_meas'
    _definition.update           2013-02-21 
    _description.text
;
     The structure factor amplitude for the reflection derived from the
     measured intensities.
;
    _name.category_id            refln
    _name.object_id              F_meas
    _type.purpose                Measurand
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.default         0.
     loop_
    _method.purpose           
    _method.expression
     Definition
;
         If (_diffrn_radiation.probe == "neutron")  _units.code =  "femtometres"
    Else If (_diffrn_radiation.probe == "electron") _units.code =  "volts"
    Else                                            _units.code =  "electrons"
;
#     Evaluation
#;
#                _refln.F_meas  =   Sqrt ( _refln.F_squared_meas )
#;
     save_
 
 
save_refln.F_meas_su 
    _definition.id             '_refln.F_meas_su'
     loop_
    _alias.definition_id       '_refln_F_sigma'
                               '_refln.F_meas_sigma'
                               '_refln_F_meas_su'
    _definition.update           2013-02-21 
    _description.text
;
     The standard uncertainty of the measured structure factor amplitude.
;
    _name.category_id            refln
    _name.object_id              F_meas_su
    _name.linked_item_id       '_refln.F_meas'
    _type.purpose                SU       
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.default         0.
     loop_
    _method.purpose          
    _method.expression
     Definition
;
         If (_diffrn_radiation.probe == "neutron")  _units.code =  "femtometres"
    Else If (_diffrn_radiation.probe == "electron") _units.code =  "volts"
    Else                                            _units.code =  "electrons"
;
#     Evaluation
#;
#                _refln.F_meas_su  =   _refln.F_squared_meas_su / 2
#;
     save_
 
 
save_refln.F_squared_calc
    _definition.id             '_refln.F_squared_calc'
     loop_
    _alias.definition_id       '_refln_F_squared_calc'
    _definition.update           2012-11-26 
    _description.text
;
     The structure factor amplitude squared for the reflection calculated from
     the atom site data.
;
    _name.category_id            refln
    _name.object_id              F_squared_calc
    _type.purpose                Measurand
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.default         0.
     loop_
    _method.purpose      
    _method.expression
     Definition
;
    If      (_diffrn_radiation.probe == "neutron")  
                                         _units.code =  "femtometre_squared"
    Else If (_diffrn_radiation.probe == "electron")  
                                         _units.code =  "volt_squared"
    Else                                 _units.code =  "electron_squared"
;
#     Evaluation
#;
#                _refln.F_squared_calc  =    _refln.F_calc **2
#;
     save_
 
 
save_refln.F_squared_meas
    _definition.id             '_refln.F_squared_meas'
     loop_
    _alias.definition_id       '_refln_F_squared_meas'
    _definition.update           2013-02-21 
    _description.text
;
     The structure factor amplitude for the reflection derived from the
     measured intensities.
;
    _name.category_id            refln
    _name.object_id              F_squared_meas
    _type.purpose                Measurand
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.default         0.
     loop_
    _method.purpose         
    _method.expression
     Definition
;
    If      (_diffrn_radiation.probe == "neutron")  
                                         _units.code =  "femtometre_squared"
    Else If (_diffrn_radiation.probe == "electron")  
                                         _units.code =  "volt_squared"
    Else                                 _units.code =  "electron_squared"
;
#     Evaluation
#;
#                _refln.F_squared_meas  =   _refln.F_meas **2
#;
     save_
 
 
save_refln.F_squared_meas_su
    _definition.id             '_refln.F_squared_meas_su'
     loop_
    _alias.definition_id       '_refln_F_squared_sigma'
                               '_refln.F_squared_sigma'
                               '_refln_F_squared_meas_su'
    _definition.update           2012-11-26 
    _description.text
;
     The standard uncertainty of the measured structure factor squared.
;
    _name.category_id            refln
    _name.object_id              F_squared_meas_su
    _name.linked_item_id       '_refln.F_squared_meas'
    _type.purpose                SU
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.default         0.
     loop_
    _method.purpose    
    _method.expression           
     Definition
;
    If      (_diffrn_radiation.probe == "neutron")  
                                         _units.code =  "femtometre_squared"
    Else If (_diffrn_radiation.probe == "electron")  
                                         _units.code =  "volt_squared"
    Else                                 _units.code =  "electron_squared"
;
#     Evaluation
#;
#                _refln.F_squared_meas_su  =   2. * _refln.F_meas_su
#;
     save_
 
 
save_refln.form_factor_table
    _definition.id             '_refln.form_factor_table'
    _definition.update           2013-04-23 
    _description.text
;
     Atomic scattering factor table for the scattering angle
     of this diffraction vector and atom types in structure.
;
    _name.category_id            refln
    _name.object_id              form_factor_table
    _type.purpose                Number
    _type.source                 Derived 
    _type.container              Table
    _type.contents               Real
    _type.dimension              []
    _units.code                  none
     loop_
    _method.purpose    
    _method.expression
     Evaluation
;
    With r  as  refln
 
     table = Table ()      
     s  =    r.sin_theta_over_lambda
 
    Loop t  as  atom_type  {
 
       If (_diffrn_radiation.probe == 'neutron') {
 
            f  =   t.length_neutron
 
       } Else If (s < 2.0 ) {

            c  =   t.Cromer_Mann_coeffs
 
            f  =  (c[0] + c[1] * Exp (-c[2] * s*s)
                        + c[3] * Exp (-c[4] * s*s)
                        + c[5] * Exp (-c[6] * s*s)
                        + c[7] * Exp (-c[8] * s*s))
       } Else {

            c  =   t.hi_ang_Fox_coeffs

            f  =   Exp ( c[0] + c[1]*s + c[2]*s*s + c[3]*s*s*s ) 
       }
        table [ t.symbol ]  =   f
    }
       _refln.form_factor_table  =   table
;
    save_
 
 
save_refln.include_status
    _definition.id             '_refln.include_status'
     loop_
    _alias.definition_id       '_refln_include_status'
                               '_refln_observed_status'
                               '_refln.observed_status'
    _definition.update           2013-03-07 
    _description.text
;
     Code indicating how the reflection was included in the refinement
     and R-factor calculations.
;
    _name.category_id            refln
    _name.object_id              include_status
    _type.purpose                State
    _type.source                 Assigned 
    _type.container              Single
    _type.contents               Code
     loop_
    _enumeration_set.state
    _enumeration_set.detail
    'o' 'ob : within  _reflns.threshold_expression; within d-res limits'
    '<' 'lt : without _reflns.threshold_expression; within d-res limits'
    '-' 'sa : systematically absent reflection due to symmetry'
    'x' 'du : deemed unreliable measurement -- not used'
    'h' 'hd : above _refine_ls.d_res_high'
    'l' 'ld : below _refine_ls.d_res_low'
    _enumeration.default         o
     save_
 
 
save_refln.hkl
    _definition.id             '_refln.hkl'
    _definition.update           2012-11-26 
    _description.text
;
     The Miller indices as a reciprocal space vector.
;
    _name.category_id            refln
    _name.object_id              hkl
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Matrix
    _type.contents               Integer
    _type.dimension              [3]
     loop_
    _method.purpose    
    _method.expression
     Evaluation
;
     With r  as  refln

            _refln.hkl =  [r.index_h, r.index_k, r.index_l] 
;
     save_
 
 
save_refln.index_h
    _definition.id             '_refln.index_h'
     loop_
    _alias.definition_id       '_refln_index_h'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            refln
    _name.object_id              index_h
     save_
 
 
save_refln.index_k
    _definition.id             '_refln.index_k'
     loop_
    _alias.definition_id       '_refln_index_k'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            refln
    _name.object_id              index_k
     save_
 
 
save_refln.index_l
    _definition.id             '_refln.index_l'
     loop_
    _alias.definition_id       '_refln_index_l'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            refln
    _name.object_id              index_l
     save_
 
 
save_refln.intensity_calc
    _definition.id             '_refln.intensity_calc'
     loop_
    _alias.definition_id       '_refln_intensity_calc'
    _definition.update           2012-11-26 
    _description.text
;
     The intensity of the reflection calculated from the atom site data.
;
    _name.category_id            refln
    _name.object_id              intensity_calc
    _type.purpose                Measurand
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.:
    _units.code                  none
     loop_
    _method.purpose    
    _method.expression
     Evaluation
;
    _refln.intensity_calc  =   _refln.F_squared_calc / _refln.Lp_factor
;
     save_
 
 
save_refln.intensity_meas
    _definition.id             '_refln.intensity_meas'
     loop_
    _alias.definition_id       '_refln_intensity_meas'
    _definition.update           2013-04-11 
    _description.text
;
     The intensity of the reflection derived from the diffraction measurements.
;
    _name.category_id            refln
    _name.object_id              intensity_meas
    _type.purpose                Measurand
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.:
    _units.code                  none
     save_
 

save_refln.intensity_meas_su
    _definition.id             '_refln.intensity_meas_su'
     loop_
    _alias.definition_id       '_refln_intensity_meas_su'
                               '_refln_intensity_sigma'
    _definition.update           2013-01-23
    _description.text
;
     standard uncertainty of the measured intensity.
;
    _name.category_id            refln
    _name.object_id              intensity_meas_su
    _name.linked_item_id       '_refln.intensity_meas'
    _type.purpose                SU
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.:
    _units.code                  none
     save_

 
save_refln.Lp_factor
    _definition.id             '_refln.Lp_factor'
     loop_
    _alias.definition_id       '_refln_Lp_factor'
    _definition.update           2012-11-26 
    _description.text
;
     The Lorentz-polarization factor appropriate for the instrument
     used to measure the diffraction intensity. This is applied to
     convert the net intensity into the measured F squared.
;
    _name.category_id            refln
    _name.object_id              Lp_factor
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.:
    _units.code                  none
     save_
 
 
save_refln.mean_path_length_tbar
    _definition.id             '_refln.mean_path_length_tbar'
     loop_
    _alias.definition_id       '_refln_mean_path_length_tbar'
    _definition.update           2012-11-26 
    _description.text
;
     Mean path length through the crystal for this diffraction vector.
;
    _name.category_id            refln
    _name.object_id              mean_path_length_tbar
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  millimetres
     save_
 

save_refln.phase_calc
    _definition.id             '_refln.phase_calc'
     loop_
    _alias.definition_id       '_refln_phase_calc'
    _definition.update           2013-04-27 
    _description.text
;
     The phase of the calculated structure-factor.
;
    _name.category_id            refln
    _name.object_id              phase_calc
    _type.purpose                Measurand
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.:360.
    _units.code                  degrees
     loop_
    _method.purpose    
    _method.expression
     Evaluation
;
    phase  = Atan2d ( _refln.B_calc, _refln.A_calc )
      If(phase < 0.) _refln.phase_calc = phase + 360.
      Else           _refln.phase_calc = phase
;
     save_
 
 
save_refln.phase_meas
    _definition.id             '_refln.phase_meas'
     loop_
    _alias.definition_id       '_refln_phase_meas'
    _definition.update           2012-11-26 
    _description.text
;
     The phase of the measured structure-factor. This may be derived from
     the atom site data if available or from the phase solution process
     prior to determination of the structure.
;
    _name.category_id            refln
    _name.object_id              phase_meas
    _type.purpose                Measurand
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.:360.
    _units.code                  degrees
     save_
 
 
save_refln.refinement_status
    _definition.id             '_refln.refinement_status'
     loop_
    _alias.definition_id       '_refln_refinement_status'
    _definition.update           2012-11-26 
    _description.text
;
     Status code of reflection in the structure refinement process.
;
    _name.category_id            refln
    _name.object_id              refinement_status
    _type.purpose                State
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Code
     loop_
    _enumeration_set.state
    _enumeration_set.detail      incl    'included in ls process'
                                 excl    'excluded from ls process'
                                 extn    'excluded due to extinction'
    _enumeration.default         incl
     save_
 
 
save_refln.scale_group_code
    _definition.id             '_refln.scale_group_code'
     loop_
    _alias.definition_id       '_refln_scale_group_code'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying the scale (if there is more than one scale) used
     convert the measured structure factor to a common absolute value.
;
    _name.category_id            refln
    _name.object_id              scale_group_code
    _name.linked_item_id       '_reflns_scale.group_code'
    _type.purpose                Link
    _type.source                 Related
    _type.container              Single
    _type.contents               Code
     save_
 
 
save_refln.sin_theta_over_lambda
    _definition.id             '_refln.sin_theta_over_lambda'
    loop_
    _alias.definition_id       '_refln_sint/lambda'
                               '_refln_sin_theta_over_lambda'
                               '_refln.sint_over_lambda'
    _definition.update           2013-03-07 
    _description.text
;
     The (sin theta)/lambda value for this reflection.
;
    _name.category_id            refln
    _name.object_id              sin_theta_over_lambda
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  reciprocal_angstroms
     loop_
    _method.purpose    
    _method.expression
     Evaluation
;
     With r  as  refln
                            h =  r.hkl
                            G =  _cell_reciprocal.metric_tensor

     r.sin_theta_over_lambda  =   Sqrt ( h * G * h ) / 2.
;
     save_
 
 
save_refln.symmetry_epsilon
    _definition.id             '_refln.symmetry_epsilon'
    loop_
    _alias.definition_id       '_refln_symmetry_epsilon'
    _definition.update           2012-11-26 
    _description.text
;
     The symmetry reinforcement factor corresponding to the number of
     times the reflection indices are generated identically from the
     space-group symmetry operations.
;
    _name.category_id            refln
    _name.object_id              symmetry_epsilon
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Index
    _enumeration.range           1:48
     save_
 
 
save_refln.symmetry_multiplicity
    _definition.id             '_refln.symmetry_multiplicity'
    loop_
    _alias.definition_id       '_refln_symmetry_multiplicity'
    _definition.update           2012-11-26 
    _description.text
;
     The number of reflections symmetry-equivalent under the Laue
     symmetry to the present reflection. In the Laue symmetry, Friedel
     opposites (h k l and -h -k -l) are equivalent. Tables of
     symmetry-equivalent reflections are available in International
     Tables for Crystallography, Volume A (1987), section 10.2.
;
    _name.category_id            refln
    _name.object_id              symmetry_multiplicity
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Index
    _enumeration.range           1:48
     save_
 
 
save_refln.wavelength
    _definition.id             '_refln.wavelength'
    loop_
    _alias.definition_id       '_refln_wavelength'
    _definition.update           2012-11-26 
    _description.text
;
     The mean wavelength in angstroms of radiation used to measure
     this reflection. This is an important parameter for data
     collected using energy-dispersive detectors or the Laue method.
;
    _name.category_id            refln
    _name.object_id              wavelength
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  angstroms
     save_
 
 
save_refln.wavelength_id
    _definition.id             '_refln.wavelength_id'
    loop_
    _alias.definition_id       '_refln_wavelength_id'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying the wavelength in DIFFRN_RADIATION_WAVELENGTH list.
;
    _name.category_id            refln
    _name.object_id              wavelength_id
    _name.linked_item_id       '_diffrn_radiation_wavelength.id'
    _type.purpose                Link
    _type.source                 Related
    _type.container              Single
    _type.contents               Code
     save_

     save_     #------ close REFLN category
 
#============================================================================
 
save_REFLNS
 
    _definition.id               REFLNS
    _definition.scope            Category
    _definition.class            Set
    _definition.update           2012-11-26 
    _description.text
;
     The CATEGORY of data items used to specify parameters for the complete
     set of reflections used in the structure refinement process. Note that
     these parameters are often similar measures to those defined in the
     DIFFRN categories, but differ in that the parameters refer to the
     reduced/transformed reflections which have been used to refine the
     atom site data in the ATOM_SITE category. The DIFFRN definitions refer
     to the diffraction measurements and the raw reflection data.
;
    _name.category_id            DIFFRACTION
    _name.object_id              REFLNS
 

save_reflns.apply_dispersion_to_Fcalc
    _definition.id             '_reflns.apply_dispersion_to_Fcalc'
    _definition.update           2013-04-28
    _description.text
;
     Yes or No flag on whether the anomalous dispersion scattering
     components will be applied in the F_complex calculation.
     See _refln.F_complex
;
    _name.category_id            reflns
    _name.object_id              apply_dispersion_to_Fcalc
    _type.purpose                State
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Code
     loop_
    _enumeration_set.state
    _enumeration_set.detail
                                 Yes  'Apply dispersion'
                                 No   'Do not apply dispersion'
    _enumeration.default         Yes
     save_

 
save_reflns.d_resolution_high
    _definition.id             '_reflns.d_resolution_high'
     loop_
    _alias.definition_id       '_reflns_d_resolution_high'
    _definition.update           2012-11-26 
    _description.text
;
     Highest resolution for the final REFLN data set.
     This corresponds to the smallest interpanar d value.
;
    _name.category_id            reflns             
    _name.object_id              d_resolution_high
    _type.purpose                Number 
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  angstroms 
     save_
 
 
save_reflns.d_resolution_low
    _definition.id             '_reflns.d_resolution_low'
     loop_
    _alias.definition_id       '_reflns_d_resolution_low'
    _definition.update           2012-11-26 
    _description.text
;
     Lowest resolution for the final REFLN data set.
     This corresponds to the largest interpanar d value.
;
    _name.category_id            reflns
    _name.object_id              d_resolution_low
    _type.purpose                Number 
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  angstroms 
     save_
 
 
save_reflns.Friedel_coverage
    _definition.id             '_reflns.Friedel_coverage'
     loop_
    _alias.definition_id       '_reflns_Friedel_coverage'
    _definition.update           2012-11-26 
    _description.text
;
     The proportion of Friedel related reflections present in the number of
     the 'independent reflections' specified by the item _reflns.number_total.
 
     This proportion is calculated as the ratio:
 
           [N(Crystal class) - N(Laue symmetry)] / N(Laue symmetry)
 
     where, working from the @diffrn_refln_ list,
 
         N(Crystal class) is the number of reflections obtained on
             averaging under the symmetry of the crystal class
         N(Laue symmetry) is the number of reflections obtained on
             averaging under the Laue symmetry.
 
       (a) For centrosymmetric structures its value is
           necessarily equal to 0.0 as the crystal class
           is identical to the Laue symmetry.
       (b) For whole-sphere data for a crystal in the space
           group P1, _reflns.Friedel_coverage is equal to 1.0,
           as no reflection h k l is equivalent to -h -k -l
           in the crystal class and all Friedel pairs
           {h k l; -h -k -l} have been measured.
       (c) For whole-sphere data in space group Pmm2, the value
           will be < 1.0 because although reflections h k l and
           -h -k -l are not equivalent when h k l indices are
           non-zero, they are when l=0.
       (d) For a crystal in the group Pmm2 measurements of the
           two inequivalent octants h >= 0, k >=0, l lead to the
           same value as in (c), whereas measurements of the
           two equivalent octants h >= 0, k, l >= 0 will lead to
           a zero value for @reflns_Friedel_coverage.
;
    _name.category_id            reflns
    _name.object_id              Friedel_coverage
    _type.purpose                Number 
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:1.0
    _units.code                  none
     save_
 

save_reflns.Friedel_fraction_full
    _definition.id             '_reflns.Friedel_fraction_full'
    loop_
    _alias.definition_id       '_reflns_Friedel_fraction_full'
    _definition.update           2013-01-20
    _description.text
;
     The ratio of Friedel pairs measured to _diffrn_reflns.theta_full
     to the number theoretically possible (ignoring reflections in
     centric projections and systematic absences throughout). 
     In contrast to _reflns.Friedel_coverage this can take values in 
     the full range 0 to 1 for any non-centrosymmetric space group, 
     and so one can see at a glance how completely the Friedel pairs 
     have been measured. For centrosymmetric space groups the value
     would be given as not-applicable '.'
;
    _name.category_id            reflns
    _name.object_id              Friedel_fraction_full
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:1.0
    _units.code                  none
     save_


save_reflns.Friedel_fraction_max
    _definition.id             '_reflns.Friedel_fraction_max'
    loop_
    _alias.definition_id       '_reflns_Friedel_fraction_max'
    _definition.update           2013-01-20
    _description.text
;   
     The ratio of Friedel pairs measured to _diffrn_reflns.theta_max
     to the number theoretically possible (ignoring reflections in 
     centric projections and systematic absences throughout).      
     In contrast to _reflns.Friedel_coverage this can take values in 
     the full range 0 to 1 for any non-centrosymmetric space group, 
     and so one can see at a glance how completely the Friedel pairs 
     have been measured. For centrosymmetric space groups the value
     would be given as not-applicable '.'
;
    _name.category_id            reflns
    _name.object_id              Friedel_fraction_max
    _type.purpose                Number
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:1.0
    _units.code                  none
     save_


save_reflns.limit_max
    _definition.id             '_reflns.limit_max'
    _definition.update           2013-01-15
    _description.text
;
     Maximum Miller indices of refined diffraction reflections.
;
    _name.category_id            reflns
    _name.object_id              limit_max
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Matrix
    _type.contents               Real
    _type.dimension              [3]
    _units.code                  none
     loop_
    _method.purpose
    _method.expression
     Evaluation
;
     With t as reflns

     _reflns.limit_max = [t.limit_h_max,t.limit_k_max,t.limit_l_max]
;
     save_


save_reflns.limit_min
    _definition.id             '_reflns.limit_min'
    _definition.update           2013-01-15
    _description.text
;
     Minimum Miller indices of refined diffraction reflections.
;
    _name.category_id            reflns
    _name.object_id              limit_min
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Matrix
    _type.contents               Real
    _units.code                  none
    _type.dimension              [3]
     loop_
    _method.purpose
    _method.expression
     Evaluation
;
     With t as reflns

     _reflns.limit_min = [t.limit_h_min,t.limit_k_min,t.limit_l_min]
;
     save_

 
save_reflns.limit_h_max
    _definition.id             '_reflns.limit_h_max'
     loop_
    _alias.definition_id       '_reflns_limit_h_max'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            reflns
    _name.object_id              limit_h_max
     save_
 
 
save_reflns.limit_h_min
    _definition.id             '_reflns.limit_h_min'
     loop_
    _alias.definition_id       '_reflns_limit_h_min'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            reflns
    _name.object_id              limit_h_min
     save_
 
 
save_reflns.limit_k_max
    _definition.id             '_reflns.limit_k_max'
     loop_
    _alias.definition_id       '_reflns_limit_k_max'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            reflns
    _name.object_id              limit_k_max
     save_
 
 
save_reflns.limit_k_min
    _definition.id             '_reflns.limit_k_min'
     loop_
    _alias.definition_id       '_reflns_limit_k_min'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            reflns
    _name.object_id              limit_k_min
     save_
 
 
save_reflns.limit_l_max
    _definition.id             '_reflns.limit_l_max'
     loop_
    _alias.definition_id       '_reflns_limit_l_max'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            reflns
    _name.object_id              limit_l_max
     save_
 
 
save_reflns.limit_l_min
    _definition.id             '_reflns.limit_l_min'
     loop_
    _alias.definition_id       '_reflns_limit_l_min'
    _import.get         [{"file":'templ_attr.cif',"save":'Miller_index'}]
    _name.category_id            reflns
    _name.object_id              limit_l_min
     save_
 
 
save_reflns.number_gt
    _definition.id             '_reflns.number_gt'
     loop_
    _alias.definition_id       '_reflns_number_gt'
                               '_reflns_number_observed'
                               '_reflns_number_obs'
                               '_reflns.number_obs'
    _definition.update           2012-11-26 
    _description.text
;
     Count of reflections in the REFLN set (not the DIFFRN_REFLN set) which
     are significantly intense (see _reflns.threshold_expression). It may
     include Friedel equivalent reflections (i.e. those which are equivalent
     under the Laue symmetry but inequivalent under the crystal class),
     depending to the nature of the structure and the procedures used.
;
    _name.category_id            reflns
    _name.object_id              number_gt
    _type.purpose                Number 
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Count
    _enumeration.range           0:
     save_
 
 
save_reflns.number_total
    _definition.id             '_reflns.number_total'
     loop_
    _alias.definition_id       '_reflns_number_total'
                               '_reflns_number_all'
                               '_reflns.number_all'
    _definition.update           2012-11-26 
    _description.text
;
     Number of reflections in the REFLN set (not the DIFFRN_REFLN set). It may
     include Friedel equivalent reflections (i.e. those which are equivalent
     under the Laue symmetry but inequivalent under the crystal class),
     depending to the nature of the structure and the procedures used.
;
    _name.category_id            reflns
    _name.object_id              number_total
    _type.purpose                Number 
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Count
    _enumeration.range           0:
     save_
 
 
save_reflns.special_details
    _definition.id             '_reflns.special_details'
     loop_
    _alias.definition_id       '_reflns_special_details'
                               '_reflns.details'
    _definition.update           2012-11-26 
    _description.text
;
     Description of the properties of the REFLN reflection list that is not
     given in other data items. Should include details about the averaging
     of symmetry-equivalent reflections including Friedel pairs.
;
    _name.category_id            reflns
    _name.object_id              special_details
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     save_
 
 
save_reflns.threshold_expression
    _definition.id             '_reflns.threshold_expression'
     loop_
    _alias.definition_id       '_reflns_threshold_expression'
                               '_reflns_observed_criterion'
                               '_reflns.observed_criterion'
    _definition.update           2012-11-26 
    _description.text
;
     Description of the criterion used to classify a reflection as having a
     "significant intensity". This criterion is usually expressed in terms
     of a u(I) or u(F) threshold. "u" is the standard uncertainty.
;
    _name.category_id            reflns
    _name.object_id              threshold_expression
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case   'I>2u(I)'
     save_
 

#----------------------------------------------------------------------------
 

save_REFLNS_CLASS
 
    _definition.id               REFLNS_CLASS
    _definition.scope            Category
    _definition.class            Loop
    _definition.update           2013-09-08 
    _description.text
;
     The CATEGORY of data items which specify the properties of reflections
     in specific classes of reflections.
;
    _name.category_id            REFLNS
    _name.object_id              CLASS 
    _category.key_id           '_reflns_class.key'
    _category.key_list        ['_reflns_class.code']


save_reflns_class.key
    _definition.id             '_reflns_class.key'
    _definition.update           2012-11-26 
    _description.text
;
     Value is a unique key to a set of REFLNS_CLASS items
     in a looped list.
;
    _name.category_id            class
    _name.object_id              key
    _type.purpose                Key
    _type.source                 Related
    _type.container              Single
    _type.contents               Implied
     loop_
    _method.purpose
    _method.expression
     Definition
;           _type.contents = Type_Contents(reflns_class.code)
;
     Evaluation
;           _reflns_class.key = _reflns_class.code
;
     save_
 
 
save_reflns_class.code
    _definition.id             '_reflns_class.code'
     loop_
    _alias.definition_id       '_reflns_class_code'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying a reflection class.
;
    _name.category_id            class
    _name.object_id              code
    _type.purpose                Encode
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Code
     loop_
    _description_example.case    'c1'
     save_
 
 
save_reflns_class.description
    _definition.id             '_reflns_class.description'
     loop_
    _alias.definition_id       '_reflns_class_description'
    _definition.update           2012-11-26 
    _description.text
;
     Description of a reflection class.
;
    _name.category_id            class
    _name.object_id              description
    _type.purpose                Describe
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Text
     loop_
    _description_example.case   'H0L0 common projection reflections'
     save_
 
 
save_reflns_class.d_res_high
    _definition.id             '_reflns_class.d_res_high'
     loop_
    _alias.definition_id       '_reflns_class_d_res_high'
    _definition.update           2012-11-26 
    _description.text
;
     Highest resolution for the reflections in this class.
     This corresponds to the smallest interpanar d value.
;
    _name.category_id            class
    _name.object_id              d_res_high
    _type.purpose                Number 
    _type.source                 Assigned 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  angstroms 
     save_
 
 
save_reflns_class.d_res_low
    _definition.id             '_reflns_class.d_res_low'
     loop_
    _alias.definition_id       '_reflns_class_d_res_low'
    _definition.update           2012-11-26 
    _description.text
;
     Lowest resolution for the reflections in this class.
     This corresponds to the largest interpanar d value.
;
    _name.category_id            class
    _name.object_id              d_res_low
    _type.purpose                Number 
    _type.source                 Assigned 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  angstroms 
     save_
 
 
save_reflns_class.number_gt
    _definition.id             '_reflns_class.number_gt'
    loop_
    _alias.definition_id       '_reflns_class_number_observed'
                               '_reflns_class_number_gt'
    _definition.update           2012-11-26 
    _description.text
;
     Count of reflections in this REFLN class (not the DIFFRN_REFLN set)
     which are significantly intense (see _reflns.threshold_expression). It may
     include Friedel equivalent reflections (i.e. those which are equivalent
     under the Laue symmetry but inequivalent under the crystal class),
     depending to the nature of the structure and the procedures used.
;
    _name.category_id            class
    _name.object_id              number_gt
    _type.purpose                Number 
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Count
    _enumeration.range           0:
     save_
 
 
save_reflns_class.number_total
    _definition.id             '_reflns_class.number_total'
    loop_
    _alias.definition_id       '_reflns_class_number_total'
    _definition.update           2012-11-26 
    _description.text
;
     Count of reflections in this REFLN class (not the DIFFRN_REFLN set). It
     may include Friedel equivalent reflections (those which are equivalent
     under the Laue symmetry but inequivalent under the crystal class),
     depending to the nature of the structure and the procedures used.
;
    _name.category_id            class
    _name.object_id              number_total
    _type.purpose                Number 
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Count
    _enumeration.range           0:
     save_
 
 
save_reflns_class.R_factor_all
    _definition.id             '_reflns_class.R_factor_all'
    loop_
    _alias.definition_id       '_reflns_class_R_factor_all'
    _definition.update           2012-11-26 
    _description.text
;
     Residual factor for reflections in this class used in refinement.

                   sum | F(meas) - F(calc) |
        R(F all) = ------------------------
                         sum | F(meas) |

               F(meas) = the measured structure-factor amplitudes
               F(calc) = the calculated structure-factor amplitudes

               and the sum is taken over the specified reflections
;
    _name.category_id            class
    _name.object_id              R_factor_all
    _type.purpose                Number 
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none	
     save_
 
 
save_reflns_class.R_factor_gt
    _definition.id             '_reflns_class.R_factor_gt'
    loop_
    _alias.definition_id       '_reflns_class_R_factor_gt'
                               '_reflns_class_R_factor_observed'
    _definition.update           2012-11-26 
    _description.text
;
     Residual factor for the reflections in this class judged 
     significantly intense (i.e. greater than required by the 
     _reflns.threshold_expression) and included in the refinement.

                   sum | F(meas_gt) - F(calc) |
        R(F gt) = --------------------------------
                         sum | F(meas_gt) |

               F(meas) = the measured structure-factor amplitudes
               F(calc) = the calculated structure-factor amplitudes

               and the sum is taken over the specified reflections
;
    _name.category_id            class
    _name.object_id              R_factor_gt
    _type.purpose                Number 
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 
 
save_reflns_class.R_Fsqd_factor
    _definition.id             '_reflns_class.R_Fsqd_factor'
    loop_
    _alias.definition_id       '_reflns_class_R_Fsqd_factor'
    _definition.update           2012-11-26 
    _description.text
;
     Residual factor R(F^2^) for reflections in this class judged 
     significantly intense (i.e. greater than required by the 
     _reflns.threshold_expression) and included in the refinement.

                          sum | F(meas_gt)^2^ - F(calc)^2^ |
            R(Fsqd gt) = ------------------------------------
                                  sum F(meas_gt)^2^

          F(meas_gt)^2^ = square of the 'observed' structure-factor
          F(calc   )^2^ = square of the calculated structure-factor

               and the sum is taken over the specified reflections
;
    _name.category_id            class
    _name.object_id              R_Fsqd_factor
    _type.purpose                Number 
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 
 
save_reflns_class.R_I_factor
    _definition.id             '_reflns_class.R_I_factor'
    loop_
    _alias.definition_id       '_reflns_class_R_I_factor'
    _definition.update           2012-11-26 
    _description.text
;
     Residual factor R(I) for reflections in this class judged
     significantly intense (i.e. greater than required by the
     _reflns.threshold_expression) and included in the refinement.

                       sum | I(meas_gt) - I(calc) |
            R(I gt) =  ----------------------------
                              sum | I(meas_gt) |

               I(meas_gt) = the net 'observed' intensity
               I(calc   ) = the net calculated intensity

               and the sum is taken over the specified reflections
;
    _name.category_id            class
    _name.object_id              R_I_factor
    _type.purpose                Number 
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 
 
save_reflns_class.wR_factor_all
    _definition.id             '_reflns_class.wR_factor_all'
    loop_
    _alias.definition_id       '_reflns_class_wR_factor_all'
    _definition.update           2012-11-26 
    _description.text
;
     For each reflection class, the weighted residual factors for all
     reflections included in the refinement. The reflections also
     satisfy the resolution limits established by
     _reflns_class.d_res_high and _reflns_class.d_res_low.

          ( sum w [ Y(meas) - Y(calc) ]^2^  )^1/2^
     wR = ( ------------------------------- )
          (         sum w Y(meas)^2^        )

         Y(meas) = the measured amplitudes specified by
                   _refine_ls.structure_factor_coef
         Y(calc) = the calculated amplitudes specified by
                   _refine_ls.structure_factor_coef
         w       = the least-squares weights

     and the sum is taken over the reflections of this class.
;
    _name.category_id            class
    _name.object_id              wR_factor_all
    _type.purpose                Number 
    _type.source                 Derived
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_

     save_     #------ close REFLNS_CLASS category
 
#----------------------------------------------------------------------------
 
save_REFLNS_SCALE
 
    _definition.id               REFLNS_SCALE
    _definition.scope            Category
    _definition.class            Loop
    _definition.update           2013-09-08 
    _description.text
;
     The CATEGORY of data items which specify the scales needed to place
     measured structure factor coefficients on the same absolute scale.
;
    _name.category_id            REFLNS
    _name.object_id              SCALE 
    _category.key_id           '_reflns_scale.key'
    _category.key_list        ['_reflns_scale.group_code']


save_reflns_scale.key
    _definition.id             '_reflns_scale.key'
    _definition.update           2012-11-26
    _description.text
;
     Value is a unique key to a set of REFLNS_SCALE items
     in a looped list.
;
    _name.category_id            scale
    _name.object_id              key
    _type.purpose                Key
    _type.source                 Related
    _type.container              Single
    _type.contents               Implied
     loop_
    _method.purpose
    _method.expression
     Definition
;           _type.contents = Type_Contents(reflns_scale.group_code)
;
     Evaluation
;           _reflns_scale.key = _reflns_scale.group_code
;
     save_
 
 
save_reflns_scale.group_code
    _definition.id             '_reflns_scale.group_code'
     loop_
    _alias.definition_id       '_reflns_scale_group_code'
    _definition.update           2012-11-26 
    _description.text
;
     Code identifying a reflection scale group. These names need not
     correspond to _diffrn_scale_group.code names.
;
    _name.category_id            scale
    _name.object_id              group_code
    _type.purpose                Encode
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Code
     save_
 
 
save_reflns_scale.meas_F
    _definition.id             '_reflns_scale.meas_F'
     loop_
    _alias.definition_id       '_reflns_scale_meas_F'
    _definition.update           2012-11-26 
    _description.text
;
     Structure factor scale for this scale group.
;
    _name.category_id            scale
    _name.object_id              meas_F
    _type.purpose                Measurand
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 
 
save_reflns_scale.meas_F_squared
    _definition.id             '_reflns_scale.meas_F_squared'
     loop_
    _alias.definition_id       '_reflns_scale_meas_F_squared'
    _definition.update           2012-11-26 
    _description.text
;
     Structure factor squared scale for this scale group.
;
    _name.category_id            scale
    _name.object_id              meas_F_squared
    _type.purpose                Measurand
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 
 
save_reflns_scale.meas_intensity
    _definition.id             '_reflns_scale.meas_intensity'
     loop_
    _alias.definition_id       '_reflns_scale_meas_intensity'
    _definition.update           2012-11-26 
    _description.text
;
     Net intensity scale for this scale group.
;
    _name.category_id            scale
    _name.object_id              meas_intensity
    _type.purpose                Measurand
    _type.source                 Derived 
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_

     save_     #------ close REFLNS_SCALE category
 
#----------------------------------------------------------------------------
 
save_REFLNS_SHELL
 
    _definition.id               REFLNS_SHELL
    _definition.scope            Category
    _definition.class            Loop
    _definition.update           2013-09-08 
    _description.text
;
     The CATEGORY of data items which specify the information about
     reflections divided into shells bounded by d resolution limits.
;
    _name.category_id            REFLNS
    _name.object_id              SHELL 
    _category.key_id           '_reflns_shell.key'
    _category.key_list        ['_reflns_shell.d_res_low',
                               '_reflns_shell.d_res_high']


save_reflns_shell.key
    _definition.id             '_reflns_shell.key'
    _definition.update           2012-11-26 
    _description.text
;
     Value is a unique key to a set of REFLNS_SHELL items
     in a looped list.
;
    _name.category_id            shell
    _name.object_id              key
    _type.purpose                Key
    _type.source                 Related
    _type.container              Single
    _type.contents               Implied
     loop_
    _method.purpose
    _method.expression
     Definition
;         _type.contents = Type_Contents(reflns_shell.d_res_limits)
;
     Evaluation
;         _reflns_shell.key = _reflns_shell.d_res_limits
;
     save_
 
 
save_reflns_shell.d_res_limits
    _definition.id             '_reflns_shell.d_res_limits'
    _definition.update           2012-11-26 
    _description.text
;
     Resolution for the reflections in this shell stored as
     the list of lowest and highest values. This is the 
     category key.
;
    _name.category_id            shell
    _name.object_id              d_res_limits
    _type.purpose                Number
    _type.source                 Derived
    _type.container              List
    _type.contents               Real
    _type.dimension              [2] 
    _units.code                  angstroms
     loop_
    _method.purpose    
    _method.expression
     Evaluation
;
     With s as reflns_shell

        _reflns_shell.d_res_limits =  [ s.d_res_low, s.d_res_high ]
;
     save_
 

save_reflns_shell.d_res_high
    _definition.id             '_reflns_shell.d_res_high'
     loop_
    _alias.definition_id       '_reflns_shell_d_res_high'
    _definition.update           2012-11-26
    _description.text
;
     Highest resolution for the reflections in this shell.
     This corresponds to the smallest interpanar d value.
;
    _name.category_id            shell
    _name.object_id              d_res_high
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  angstroms
     save_


 
save_reflns_shell.d_res_low
    _definition.id             '_reflns_shell.d_res_low'
     loop_
    _alias.definition_id       '_reflns_shell_d_res_low'
    _definition.update           2012-11-26 
    _description.text
;
     Lowest resolution for the reflections in this shell.
     This corresponds to the largest interpanar d value.
;
    _name.category_id            shell
    _name.object_id              d_res_low
    _type.purpose                Number
    _type.source                 Assigned
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  angstroms 
     save_
 
 
save_reflns_shell.meanI_over_suI_all
    _definition.id             '_reflns_shell.meanI_over_suI_all'
     loop_
    _alias.definition_id       '_reflns_shell_meanI_over_uI_all'
                               '_reflns_shell_meanI_over_sigI_all'
                               '_reflns_shell.meanI_over_sigI_all'
    _definition.update           2012-11-26 
    _description.text
;
     Ratio of the mean intensity in a shell to the mean standard uncertainty
     of the intensities in the shell.
;
    _name.category_id            shell
    _name.object_id              meanI_over_suI_all
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0:
    _units.code                  none
     save_
 
 
save_reflns_shell.meanI_over_suI_gt
    _definition.id             '_reflns_shell.meanI_over_suI_gt'
     loop_
    _alias.definition_id       '_reflns_shell_meanI_over_sigI_obs'
                               '_reflns_shell.meanI_over_sigI_obs'
                               '_reflns_shell_meanI_over_sigI_gt'
                               '_reflns_shell_meanI_over_uI_gt'
    _definition.update           2012-11-26 
    _description.text
;
     Ratio of the mean intensity of significantly intense reflections (see
     _reflns.threshold_expression) in this shell to the mean standard
     uncertainty of the intensities in the shell.
;
    _name.category_id            shell
    _name.object_id              meanI_over_suI_gt
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0:
    _units.code                  none
     save_
 
 
save_reflns_shell.number_measured_all
    _definition.id             '_reflns_shell.number_measured_all'
     loop_
    _alias.definition_id       '_reflns_shell_number_measured_all'
    _definition.update           2012-11-26 
    _description.text
;
     Total count of reflections measured for this resolution shell.
;
    _name.category_id            shell
    _name.object_id              number_measured_all
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Count
    _enumeration.range           0:
     save_
 
 
save_reflns_shell.number_measured_gt
    _definition.id             '_reflns_shell.number_measured_gt'
    loop_
    _alias.definition_id       '_reflns_shell_number_measured_obs'
                               '_reflns_shell.number_measured_obs'
                               '_reflns_shell_number_measured_gt'
    _definition.update           2012-11-26 
    _description.text
;
     Number of reflections measured for this resolution shell which are
     significantly intense (see _reflns.threshold_expression).
;
    _name.category_id            shell
    _name.object_id              number_measured_gt
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Count
    _enumeration.range           0:
     save_
 
 
save_reflns_shell.number_possible
    _definition.id             '_reflns_shell.number_possible'
     loop_
    _alias.definition_id       '_reflns_shell_number_possible'
                               '_reflns_shell.number_possible_all'
    _definition.update           2012-11-26 
    _description.text
;
     Count of symmetry-unique reflections possible in this reflection shell.
;
    _name.category_id            shell
    _name.object_id              number_possible
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Count
    _enumeration.range           0: 
     save_
 
 
save_reflns_shell.number_unique_all
    _definition.id             '_reflns_shell.number_unique_all'
     loop_
    _alias.definition_id       '_reflns_shell_number_unique_all'
    _definition.update           2012-11-26 
    _description.text
;
     Count of symmetry-unique reflections present in this reflection shell.
;
    _name.category_id            shell
    _name.object_id              number_unique_all
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Count
    _enumeration.range           0:
     save_
 
 
save_reflns_shell.number_unique_gt
    _definition.id             '_reflns_shell.number_unique_gt'
     loop_
    _alias.definition_id       '_reflns_shell_number_unique_gt'
                               '_reflns_shell_number_unique_obs'
                               '_reflns_shell.number_unique_obs'
    _definition.update           2012-11-26 
    _description.text
;
     Number of symmetry-unique reflections present in this reflection shell
     which are significantly intense (see _reflns.threshold_expression).
;
    _name.category_id            shell
    _name.object_id              number_unique_gt
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Count
    _enumeration.range           0:
     save_
 
 
save_reflns_shell.percent_possible_all
    _definition.id             '_reflns_shell.percent_possible_all'
     loop_
    _alias.definition_id       '_reflns_shell_percent_possible_all'
    _definition.update           2012-11-26 
    _description.text
;
     Percentage of reflections present in this shell over that possible.
;
    _name.category_id            shell
    _name.object_id              percent_possible_all
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:100.0
    _units.code                  none
     save_
 
 
save_reflns_shell.percent_possible_gt
    _definition.id             '_reflns_shell.percent_possible_gt'
     loop_
    _alias.definition_id       '_reflns_shell_percent_possible_gt'
                               '_reflns_shell_percent_possible_obs'
                               '_reflns_shell.percent_possible_obs'
    _definition.update           2012-11-26 
    _description.text
;
     Percentage of reflections present in this shell which are significantly
     intense (see _reflns.threshold_expression), over that possible.
;
    _name.category_id            shell
    _name.object_id              percent_possible_gt
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:100.0
    _units.code                  none
     save_
 
 
save_reflns_shell.Rmerge_F_all
    _definition.id             '_reflns_shell.Rmerge_F_all'
     loop_
    _alias.definition_id       '_reflns_shell_Rmerge_F_all'
    _definition.update           2012-11-26 
    _description.text
;
     Rmerge(F) for all reflections in a given shell.
 
                     sum~i~ ( sum~j~ | F~j~ - <F> | )
         Rmerge(F) = --------------------------------
                         sum~i~ ( sum~j~ <F> )
 
         F~j~  = the amplitude of the jth observation of reflection i
         <F> = the mean of the amplitudes of all observations of
                reflection i
 
         sum~i~ is taken over all reflections
         sum~j~ is taken over all observations of each reflection.
;
    _name.category_id            shell
    _name.object_id              Rmerge_F_all
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 
 
save_reflns_shell.Rmerge_F_gt
    _definition.id             '_reflns_shell.Rmerge_F_gt'
    loop_
    _alias.definition_id       '_reflns_shell_Rmerge_F_obs'
                               '_reflns_shell.Rmerge_F_obs'
                               '_reflns_shell_Rmerge_F_gt'
    _definition.update           2012-11-26 
    _description.text
;
     Rmerge(F) for reflections in a shell which are significantly intense
     (see _reflns.threshold_expression). The residual merge expression is
     shown in the _reflns_shell.Rmerge_F_all definition.
;
    _name.category_id            shell
    _name.object_id              Rmerge_F_gt
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 
 
save_reflns_shell.Rmerge_I_all
    _definition.id             '_reflns_shell.Rmerge_I_all'
    loop_
    _alias.definition_id       '_reflns_shell_Rmerge_I_all'
    _definition.update           2012-11-26 
    _description.text
;
     Rmerge(I) for all reflections in a given shell.
 
                     sum~i~ ( sum~j~ | I~j~ - <I> | )
         Rmerge(I) = --------------------------------
                         sum~i~ ( sum~j~ <I> )
 
         I~j~  = the intensity of the jth observation of reflection i
         <I> = the mean of the intensities of all observations of
                reflection i
 
         sum~i~ is taken over all reflections
         sum~j~ is taken over all observations of each reflection.
;
    _name.category_id            shell
    _name.object_id              Rmerge_I_all
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_
 
 
save_reflns_shell.Rmerge_I_gt
    _definition.id             '_reflns_shell.Rmerge_I_gt'
    loop_
    _alias.definition_id       '_reflns_shell_Rmerge_I_obs'
                               '_reflns_shell.Rmerge_I_obs'
                               '_reflns_shell_Rmerge_I_gt'
    _definition.update           2012-11-26 
    _description.text
;
     Rmerge(I) for reflections in a shell which are significantly intense
     (see _reflns.threshold_expression). The residual merge expression is
     shown in the _reflns_shell.Rmerge_I_all definition.
;
    _name.category_id            shell
    _name.object_id              Rmerge_I_gt
    _type.purpose                Number
    _type.source                 Recorded
    _type.container              Single
    _type.contents               Real
    _enumeration.range           0.0:
    _units.code                  none
     save_

     save_     #------ close REFLNS_SHELL category

     save_     #------ close REFLNS category

     save_     #------ close DIFFRACTION category
 
#=============================================================================
#  The dictionary's creation history.
#============================================================================
   
     loop_
    _dictionary_audit.version
    _dictionary_audit.date
    _dictionary_audit.revision
   
     1.1.01   2006-03-07
;
     Initial CORE_DIFFRACTION dictionary constructed from CORE_3 v3.5.02
;
     1.1.02   2006-03-08
;
     Insert enumeration_set into _diffrn_radiation.type
;
     1.1.03   2006-05-16
;
   In DIFFRN_STANDARD_REFLN changed the key to .code instead of .hkl
;
     1.2.01   2006-06-20
;
   Apply DDL 3.6.04 attribute changes.
;
     1.2.02   2006-06-30
;
   Apply DDL 3.6.05 attribute changes.
;
     1.2.03   2006-09-07
;
   Apply DDL 3.6.08 attribute changes.
;
     1.2.04   2006-11-13
;
   Apply DDL 3.6.10 attribute changes.
   Change method.id to method.purpose; EVAL to Evaluation
;
     1.2.05   2006-12-14
;
   Apply DDL 3.7.01 attribute changes.
;
     1.3.01   2007-02-07
;
   Apply DDL 3.7.04 attribute changes.
;
     1.3.02   2007-02-09
;
   Correct TYPE in _diffrn_standards.number and
   _diffrn_standards.interval_count
;
    1.3.03   2007-10-13
;
    Placed tags in _category_key.primitive lists within quotes.
;
    1.3.04   2008-01-18
;
    Replaced import_list controls with leading uppercase character.
	Changed import_list [....] to [[....]]
;
    1.3.05   2008-06-18
;
    Change import_list.id to be ((.....))
    For all *.key items change _type.contents from Code to Inherited
    For other *.id items some _type.purpose from Key to Identify
	For all *.hkl change _type.purpose from Observed to Identify
;
    1.3.06   2008-06-19
;
    Ensure that all items with _type.contents Code are enumerated
	otherwise they are Text.
;
    1.3.07   2008-06-24
;
    Change all _type.dimension values
;
     1.4.01   2011-06-07
;
   Replace category class "List" with "Loop"
   Replace all "Tuple" with "List"
   Replace all "Array" with "List"
   Place all import lists into [[......]]
;
     1.4.02   2011-08-01
;
   Replace category class "List" with "Loop"pply nested save frames.
   Apply import.get changes
   Apply all the DDL 3.8 changes
;
     1.4.03   2011-08-03
;
   Change name of import file com_att.dic to templ_attr.cif
   Change name of import file com_val.dic to templ_templcif
;
     1.4.04   2011-12-01
;
   Change container type from List to Matrix for relevant item definitions
;
     1.4.05   2012-01-25
;
   For import.get change the key "fram" to "save".
;
     1.5.01   2012-05-07
;
   Apply DDL 3.10.01 changes. 
;
     1.5.02   2012-10-16
;
   Apply DDL 3.10.02 changes for type.contents.
   Remove type.contents "Inherited"; insert Definition method expression.
;
     1.5.03   2012-11-20
;
   Invoke container functions Matrix, List in methods scripts where needed.
;
     1.5.04   2012-11-26
;
   Add DDL1 tags as alias.definition_id values
;
     1.5.05   2012-11-30
;
   Removed {} from Definition methods of refln_F_calc and refln.F_complex
;
     1.5.06   2012-12-13
;
   Added diffrn.ambient_pressure_gt and _lt.
   Added diffrn.ambient_temperature_gt and _lt.
   Added diffrn_refln.intensity_net_su to alias DDL1 tags.
;
     1.5.07   2013-01-15
;
   Added diffrn_reflns.limit_max and _min
;
    1.5.08   2013-01-28
;
  Changed atom_site.symmetry_multiplicity to *.site_symmetry_multiplicity 
;
    1.5.09   2013-02-18
;
  Eval method for refln.F_complex generalised to use atom_site.matrix_beta
;
    1.5.10   2013-02-21
;
  Removed {} from conditional single-line statements in methods
;
    1.5.11   2013-02-22
;
  Corrected object_id for diffrn_reflns.resolution_max and
  diffrn_source.take_off_angle
;
    1.6.01   2013-03-08
;
  Changes arising from alerts issued by ALIGN.
;
    1.6.02   2013-03-23
;
  Change the diffrn_radiation.type to type.contents 'Text'.
;
    1.6.03   2013-04-11
;
   Added type.contents 'Implied' to all Key definitions
   Removed desription.common from all defs; inconsistent invocations
   Replace type.cource state 'Observed' with 'Recorded'
   Replace type.source state 'Assembled' with 'Related'
   Replace type.source state 'Selected' with 'Assigned'
;
    1.6.04   2013-04-16
;
   Changed type.source 'Measured' to 'Recorded'
;
    1.6.05   2013-04-17
;
   Changed type.source 'Quantity' to 'Number' or 'Encode'
;
    1.6.06   2013-04-24
;
   Removed 'Pairs' from type.contents; replaced with "Real", "Code", etc.
   Hashed out Eval scripts for F_meas_su and F_squared_meas_su; recursive
;
    1.6.07   2013-04-28
;
    Add definition reflns.apply_dispersion_to_Fcalc Yes/No
;
    1.6.08   2013-09-08
;
    Add attribute category.key_list to all Loop categories.
;
