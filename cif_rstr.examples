################################################################################
#                                                                              #
#             CIF RESTRAINTS AND CONSTRAINTS DICTIONARY VERSION                #
#             -------------------------------------------------                #
#                                                                              #
#   This dictionary contains the names and definitions proposed for reporting  #
#   restraints and constraints in the Core CIF dictionary                      #
#                                                                              #
#            Converted from a DDL1 dictionary to DDLM 29 June 2014             #
#                                                                              #
################################################################################
  

#
# ----------------------------------------------------------------------------
# RESTRAINT 1. GENERAL RESTRAINT
# ----------------------------------------------------------------------------
#  A general description of constraints and restraints not covered
#  by other CIF items.
#
######################
#                    #
#  RESTR             #
#                    #
######################

#
# ----------------------------------------------------------------------------
# RESTRAINT 2. AN ANGLE IS RESTRAINED TO A PREDETERMINED VALUE.
# ----------------------------------------------------------------------------
#
####################
#                  #
#  RESTR_ANGLE     #
#                  #
####################


# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_angle_atom_site_label_1
    _restr_angle_site_symmetry_1
    _restr_angle_atom_site_label_2
    _restr_angle_atom_site_label_3
    _restr_angle_site_symmetry_3
    _restr_angle_target
    _restr_angle_target_weight_param
    _restr_angle_diff
    _restr_angle_details
       C1 1_555  C2  C3 1_555 120  1   -0.3 'generated by JANA'
       C2 1_555  C3  C4 3_455 120  1.5  0.5 ?
;

;
Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_angle.id
    _restr_angle.target
    _restr_angle.target_weight_param
    _restr_angle.diff
    _restr_angle.details
     [[C1,1_555],[C2,1_555],[C3,1_555]]  120  1   -0.3 'generated by JANA'
     [[C2,1_555],[C3,1_555],[C4,3_455]]  120  1.5  0.5 ?
;

;
Example 1.

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    #
# ----------------------------------------------------------------------------
# RESTRAINT 3. A DISTANCE IS RESTRAINED TO A PREDETERMINED VALUE.
# ----------------------------------------------------------------------------
#
#####################
#                   #
#  RESTR_DISTANCE   #
#                   #
#####################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_distance_atom_site_label_1
    _restr_distance_atom_site_label_2
    _restr_distance_site_symmetry_2
    _restr_distance_target
    _restr_distance_target_weight_param
    _restr_distance_diff
    _restr_distance_details
      C1   C2  1_555  1.524  0.04 -0.032 'generated by SHELX DFIX'
      C2   C3  1_555  1.340  0.04  0.051 'generated by SHELX DFIX'
      Na1  Ca1 1_555  0.0    0.0   0.0   'Na1 is constrained to occupy Ca site'
      Fe1  Ca1 1_555  0.0    0.0   0.0   ?
      Al1  Ca1 1_555  0.0    0.0   0.0   ?
;
;Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

#
# ----------------------------------------------------------------------------
# RESTRAINT 4. ATOMS CANNOT OCCUPY THE SAME POSITION
# ----------------------------------------------------------------------------
# The 'anti-bumping' restraint prevents two atoms from occupying the
# same site. It would normally be reported only for those distances
# in which this restraint was invoked.
#
###########################
#                         #
#  RESTR_DISTANCE_MIN     #
#                         #
###########################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
   loop_
   _restr_distance_min_atom_site_label_1
   _restr_distance_min_site_symmetry_1
   _restr_distance_min_atom_site_label_2
   _restr_distance_min_site_symmetry_2
   _restr_distance_min_A
   _restr_distance_min_B
   _restr_distance_min_C
   _restr_distance_min_E
   _restr_distance_min_F
   _restr_distance_min_G
   _restr_distance_min_distance
   _restr_distance_min_details
     O1 1_555 O2 1_555 0 . . 1 2.8 0.3 2.75(1) 'using the exponential restraint'
     O2 1_555 O3 2_455 0 0 0 1 2.8 0   2.83(1) 'using the hard sphere model'
;
;Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

#
# ----------------------------------------------------------------------------
# RESTRAINT 5. SEVERAL ANGLES ARE RESTRAINED TO BE EQUAL.
# ----------------------------------------------------------------------------
# This restraint contains two categories.
# The first defines the angles restrained and assigns
# them to different classes that are restrained independently.
# The second category defines the properties of each class.
#
##########################
#                        #
#  RESTR_EQUAL_ANGLE     #
#                        #
##########################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_equal_angle_atom_site_label_1
    _restr_equal_angle_site_symmetry_1
    _restr_equal_angle_atom_site_label_2   # Atom 2 is at the apex of the angle
    _restr_equal_angle_site_symmetry_2
    _restr_equal_angle_atom_site_label_3
    _restr_equal_angle_site_symmetry_3
    _restr_equal_angle_class_id
    _restr_equal_angle_detail
      C1 1_555  C2  1_555  C3 1_555 1  'Benzene ring with mirror symmetry'
      C2 1_555  C3  1_555  C4 2_655 2  ?
      C4 1_555  C5  1_555  C6 1_555 2  ?
      C5 1_555  C6  1_555  C1 1_555 1  ?
;
;Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -


###################################
#                                 #
#  RESTR_EQUAL_ANGLE_CLASS        #
#                                 #
###################################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_equal_angle_class_class_id
    _restr_equal_angle_class_target_weight_param
    _restr_equal_angle_class_average
    _restr_equal_angle_class_esd
    _restr_equal_angle_class_diff_max
    _restr_equal_angle_class_detail
      1  0.50  123.52  0.32 0.62  ?
      2  0.50  118.23  0.52 1.43  ?
;
;Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

#
# ----------------------------------------------------------------------------
# RESTRAINT 6. SEVERAL DISTANCES ARE RESTRAINED TO BE EQUAL.
# ----------------------------------------------------------------------------
# This restraint contains two categories.
# The first defines the distances restrained and assigns
# them to different classes that are restrained independently.
# The second category defines the properties of each class.
#
#############################
#                           #
#  RESTR_EQUAL_DISTANCE     #
#                           #
#############################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_equal_distance_atom_site_label_1
    _restr_equal_distance_site_symmetry_1
    _restr_equal_distance_atom_site_label_2
    _restr_equal_distance_site_symmetry_2
    _restr_equal_distance_class_id
    _restr_equal_distance_details
      C1 1_555  C2 1_555  1  'C1-C2 and C3-C4 are restrained to be equal'
      C2 1_555  C3 1_555  2  'C2-C3, C4-C5 and C5-C6 are restrained to be equal'
      C3 1_555  C4 2_655  1  ?
      C4 1_555  C5 1_555  2  ?
      C5 1_555  C6 1_555  2  ?
;
;Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

###################################
#                                 #
#  RESTR_EQUAL_DISTANCE_CLASS     #
#                                 #
###################################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_equal_distance_class_class_id
    _restr_equal_distance_class_target_weight_param
    _restr_equal_distance_class_average
    _restr_equal_distance_class_esd
    _restr_equal_distance_class_diff_max
    _restr_equal_distance_class_details
             1  0.04   1.534  0.032  0.053   ?
             2  0.04   1.338  0.052  0.103   ?
;
;Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

#
# ----------------------------------------------------------------------------
# RESTRAINT 7. SEVERAL TORSION ANGLES ARE RESTRAINED TO BE EQUAL.
# ----------------------------------------------------------------------------
# This restraint contains two categories.
# The first defines the torsion angles restrained and assigns
# them to different classes that are restrained independently.
# The second category defines the properties of each class.
#
############################
#                          #
#  RESTR_EQUAL_TORSION     #
#                          #
############################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_equal_torsion_atom_site_label_1
    _restr_equal_torsion_site_symmetry_1
    _restr_equal_torsion_atom_site_label_2
    _restr_equal_torsion_site_symmetry_2
    _restr_equal_torsion_atom_site_label_3
    _restr_equal_torsion_site_symmetry_3
    _restr_equal_torsion_atom_site_label_4
    _restr_equal_torsion_site_symmetry_4
    _restr_equal_torsion_class_id
    _restr_equal_torsion_details
        C1 1_555  C2  1_555  C3 1_555  C4 1_555 1 ?
        C5 1_555  C6  1_555  C1 1_555  C2 1_555 1 ?
;
;Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

###################################
#                                 #
#  RESTR_EQUAL_TORSION_CLASS      #
#                                 #
###################################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_equal_torsion_class_class_id
    _restr_equal_torsion_class_target_weight_param
    _restr_equal_torsion_class_average
    _restr_equal_torsion_class_esd
    _restr_equal_torsion_class_diff_max
    _restr_equal_torsion_class_details
       1  0.50  123.52  0.32  0.62 ?
;
;Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

#
# ----------------------------------------------------------------------------
# RESTRAINT 8. THE SUM OF A GIVEN PARAMETER OF THE SPECIFIED ATOMS IS
# RESTRAINED.
# ----------------------------------------------------------------------------
# This restraint, which will normally be used to restrain the total
# occupancy of an atom site, can be used to restrain the value of
#   SUM(over the specified atoms){PARAMETER*COEFFICIENT\}\
# where PARAMETER will usually be the occupancy
# (but other allowed quantities such as x, y and z will be specified
# in the enumeration list) and COEFFICIENT is a user-defined
# number with a default value of 1.0.
# Two loops are needed to describe this restraint.
#
########################
#                      #
#  RESTR_PARAMETER     #
#                      #
########################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_parameter_id
    _restr_parameter_class_id
    _restr_parameter_atom_site_label
    _restr_parameter_atom_coefficient
      1 1 O1   1
      2 1 O1a  1
      3 1 O1b  1
;
;
   These examples should be read in conjunction with the examples
   given for the category restr_parameter_class.

   Example 1. In class 1 the sites O1, O1a and O1b refer to separate 
   sites over which oxygen is disordered, but which in total contain
   0.8 oxygen atoms (as defined by _restr_parameter_class_target).
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_parameter_id
    _restr_parameter_class_id
    _restr_parameter_atom_site_label
    _restr_parameter_atom_coefficient
      a 2 Na1  1
      b 2 K1   1
      c 2 Ca1  1
      d 2 Al1  1
;
;
   Example 2. 
   Class 2 consists of a mixture of Na, K, Ca and Al atoms on the same
   site with the total occupancy set to 1.0 as defined in
   _restr_parameter_class_target.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_parameter_id
    _restr_parameter_class_id
    _restr_parameter_atom_site_label
    _restr_parameter_atom_coefficient
      1 3 Na1  1
      2 3 K1   1
      3 3 Ca1  2
      4 3 Al1  3
;
;
   Example 3. 
   Class 3 consists of the same atoms as class 2, but by using coefficients
   equal to the ionic charge, the total charge on the site is
   restrained to 2.0.
   Note that the parameter restrained is still the occupancy
   but the use of coefficients transforms the restraint from
   occupancy to formal charge.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_parameter_id
    _restr_parameter_class_id
    _restr_parameter_atom_site_label
    _restr_parameter_atom_coefficient
      1 4 O2   1
;
;
   Example 4. 
   In class 4 the y coordinate of O2 is restrained to be close to a
   pseudo-mirror plane at y = 0.5 (see _restr_parameter_class_target).
   This example may not have much practical use, but is included
   to show what can be done with this definition.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_parameter_id
    _restr_parameter_class_id
    _restr_parameter_atom_site_label
    _restr_parameter_atom_coefficient
      1 5 O3   1
      2 5 O4   1
;
;
   Example 5. 
   In class 5 the positions of O3 and O4 are correlated in such a way that
   these atoms are displaced equal distances from the plane x = 0
   [i.e., x(O3) + x(O4) = 0].
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
 
###################################
#                                 #
#     RESTR_PARAMETER_CLASS       #
#                                 #
###################################

- - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_parameter_class_class_id
    _restr_parameter_class_parameter_type
    _restr_parameter_class_target
    _restr_parameter_class_target_weight_param
    _restr_parameter_class_details
       1 occupancy   0.8  0.01   'total occupation is 0.8'
       2 occupancy   1.0  0.001  'total occupation is 1.0'
       3 occupancy   2.0  0.01   'total charge is 2.0'
       4 position_y  0.5  0.002  'keep close to pseudo-mirror plane'
       5 position_x  0    0.01   'correlate position of O3 and O4'
;
;  Example 1.
   This example gives the properties of the five classes given as examples in
   restr_parameter.

   The _*_class_id is the _list_reference and is the same as _*_class_id
   in the restr_parameter loop.

   The _*_parameter_type indicates the atomic parameter that is restrained.

   _*_target is the target value for the sum of the product of
   _restr_parameter_atom_coefficient and the value of the _*_parameter_type
   for the atom.

   _*_target_weight_sum gives the expectation value of the difference
   between the target and the refined value of sum(coefficient*parameter).

   _*_details gives a description of the restraint applied.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    #
# ----------------------------------------------------------------------------
# RESTRAINT 9. A GROUP OF ATOMS IS RESTRAINED TO LIE ON A PLANE.
# ----------------------------------------------------------------------------
# This restraint contains two categories.
# The first lists the atoms that define each plane, each plane being
# composed of atoms from the same class.
# The second category describes the properties of each plane (class).
#
######################
#                    #
#  RESTR_PLANE       #
#                    #
######################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_plane_id
    _restr_plane_atom_site_label
    _restr_plane_site_symmetry
    _restr_plane_class_id
    _restr_plane_target_weight_param
    _restr_plane_displacement
    _restr_plane_details
      1 c1 1_555 1 0.02   0.002(1) 'c1 to c4 lie on one plane'
      2 c2 1_555 1 0.02  -0.003(2) ?
      3 c3 1_555 1 0.02  -0.002(1) ?
      4 c4 1_555 1 0.02   0.002(2) ?
      5 c1 2_655 2 0.003  0.004(1) 'c1, c5, c6 and c7 lie on one plane'
      6 c5 1_555 2 0.003 -0.002(2) ?
      7 c6 1_555 2 0.003  0.002(3) ?
      8 c7 1_555 2 0.003 -0.002(2) ?
;
;Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    
############################
#                          #
#  RESTR_PLANE_CLASS       #
#                          #
############################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_plane_class_class_id
    _restr_plane_class_displacement_esd
    _restr_plane_class_displacement_max_atom_site_label
    _restr_plane_class_displacement_max_site_symmetry
    _restr_plane_class_displacement_max
    _restr_plane_class_details
       1  0.032  c2 1_555  0.094     'displacements for plane 1'
       2  0.0021 c1 2_655  0.010     'displacements for plane 2'
;
; Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

#
# ----------------------------------------------------------------------------
# RESTRAINT 10. ATOMS ARE DEFINED AS BELONGING TO RIGID BODIES.
# ----------------------------------------------------------------------------
#
#############################
#                           #
#  RESTR_RIGID_BODY         #
#                           #
#############################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_rigid_body_id
    _restr_rigid_body_atom_site_label
    _restr_rigid_body_site_symmetry
    _restr_rigid_body_class_id
    _restr_rigid_body_details
      1 C1 1_555  1  ?
      2 C2 1_555  1  ?
      3 C3 1_555  1  'C3 is a hinge atom'
      4 C4 1_555  1  'C4 is a hinge atom'
      5 C3 1_555  2  ?
      6 C4 1_555  2  ?
      7 C5 2_555  2  ?
      8 C6 1_555  2  ?
;
; Example 1. 
  The first rigid body contains C1, C2, C3 and C4, the second rigid body
  contains C3, C4, C5 and C6. The bond between C3 and C4 is common to both
  rigid bodies.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    
###################################
#                                 #
#  RESTR_RIGID_BODY_CLASS         #
#                                 #
###################################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_rigid_body_class_class_id
    _restr_rigid_body_class_details
             1   'Phenyl ring'
             2   'methyl group'
;
; Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    
# ----------------------------------------------------------------------------
# RESTRAINT 11. A TORSION ANGLE IS CONSTRAINED TO A PREDETERMINED VALUE
# ----------------------------------------------------------------------------
#
######################
#                    #
#  RESTR_TORSION     #
#                    #
######################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    _restr_torsion_atom_site_label_1
    _restr_torsion_site_symmetry_1
    _restr_torsion_atom_site_label_2
    _restr_torsion_site_symmetry_2
    _restr_torsion_atom_site_label_3
    _restr_torsion_site_symmetry_3
    _restr_torsion_atom_site_label_4
    _restr_torsion_site_symmetry_4
    _restr_torsion_angle_target
    _restr_torsion_weight_param
    _restr_torsion_diff
    _restr_torsion_details
         Na1 1_555  Na1 2_555  O1 2_555  H101 1_555  90  1  0.97  ?
;
; Example 1. 
  An example of a torsion angle restrained to 90+/-1 degree with a refined
  difference of 0.97 degrees.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   #
# ----------------------------------------------------------------------------
# RESTRAINT 12: THE ATOMIC DISPLACEMENT PARAMETER IS RESTRAINED TO BE
# ISOTROPIC.
# ----------------------------------------------------------------------------
#
#####################
#                   #
#  RESTR_U_ISO      #
#                   #
#####################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_U_iso_atom_site_label
    _restr_U_iso_weight_param
        Na1  0.003
        O3   0.008
        O8   0.008
;
; Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    #
# ----------------------------------------------------------------------------
# RESTRAINT 13. ADPs ARE RESTRAINED FOR A RIGID BOND.
# ----------------------------------------------------------------------------
#  This "rigid bond" restraint restrains the anisotropic displacement
#  parameters of two atoms so that they are equal within a certain
#  _weight_param along the direction of the vector joining the atoms.
#
######################
#                    #
#  RESTR_U_RIGID     #
#                    #
######################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_U_rigid_atom_site_label_1
    _restr_U_rigid_site_symmetry_1
    _restr_U_rigid_atom_site_label_2
    _restr_U_rigid_site_symmetry_2
    _restr_U_rigid_target_weight_param
    _restr_U_rigid_U_parallel
    _restr_U_rigid_diff
    _restr_U_rigid_details
        C1 1_555 C2 2_655 0.001 0.0023(2) 0.0006 'C1-C2 is a rigid bond'
;
; Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    #
# ----------------------------------------------------------------------------
# RESTRAINT 14.  TWO ATOMS ARE RESTRAINED TO HAVE THE SAME ADPs.
# ----------------------------------------------------------------------------
#
#####################
#                   #
#  RESTR_U_SIMILAR  #
#                   #
#####################

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
;
    loop_
    _restr_U_similar_atom_site_label_1
    _restr_U_similar_atom_site_label_2
    _restr_U_similar_weight_param
        C1  C2  0.08
        C2  C3  0.08
;
; Example 1.
;
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   
# -------------- End of restraint and constraint dictionary -------------
